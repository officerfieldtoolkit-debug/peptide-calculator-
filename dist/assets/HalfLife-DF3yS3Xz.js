import{r as l,j as e}from"./vendor-C6dEa9Ot.js";import{e as H,C as T,a as G,L as N,P as I,b as w,p as A,c as M,d as R,i as k}from"./charts-DMvJngN5.js";import{u as O}from"./index-DHpkBLjM.js";import{A as W}from"./icons-BdhkQpe3.js";const B="_container_1c9m0_1",z="_controls_1c9m0_9",K="_controlGroup_1c9m0_15",F="_chartHeader_1c9m0_36",J="_summary_1c9m0_44",U="_chartContainer_1c9m0_52",Y="_emptyState_1c9m0_58",n={container:B,controls:z,controlGroup:K,chartHeader:F,summary:J,chartContainer:U,emptyState:Y};T.register(G,N,I,w,A,M,R,k);const y={"GLP-1 Agonists & Weight Loss":{Semaglutide:168,Tirzepatide:120,Retatrutide:144,Liraglutide:13,Dulaglutide:120,Exenatide:2.4},"Growth Hormone Secretagogues":{"CJC-1295 (no DAC)":.5,"CJC-1295 (DAC)":168,Ipamorelin:2,"GHRP-2":.5,"GHRP-6":.5,Hexarelin:1.5,"MK-677 (Ibutamoren)":24},"Healing & Recovery":{"BPC-157":4,"TB-500":120,"Thymosin Alpha-1":3,"Thymosin Beta-4":24,"GHK-Cu":1},"Cosmetic & Skin":{"Melanotan I":1,"Melanotan II":1,"PT-141 (Bremelanotide)":3,"GHK-Cu (Copper Peptide)":1},"Performance & Muscle":{"IGF-1 LR3":24,"IGF-1 DES":.5,"Follistatin 344":48,"ACE-031":168,"YK-11":12},"Cognitive & Nootropic":{Semax:1,Selank:.5,Cerebrolysin:2.5,P21:3,Dihexa:2},"Metabolic & Other":{"AOD-9604":.5,"MOTS-c":2,Epithalon:2,Pinealon:2,"SS-31 (Elamipretide)":4}},q=Object.values(y).reduce((a,s)=>({...a,...s}),{Custom:24}),Q=(a,s,c)=>{if(s===c)return a;const u=r=>r*1e3,g=r=>r/1e3;return s==="mg"&&c==="mcg"?u(a):s==="mcg"&&c==="mg"?g(a):a},V=()=>{const{injections:a}=O(),[s,c]=l.useState("Semaglutide"),[u,g]=l.useState(24),[r,X]=l.useState(30),[x,S]=l.useState(""),[h,_]=l.useState("mg"),j=s==="Custom"?u:q[s],C=l.useMemo(()=>{if(a.length===0)return null;const t=s==="Custom"?a:a.filter(i=>i.peptide.toLowerCase().includes(s.toLowerCase()));if(t.length===0)return null;const p=new Date(Math.min(...t.map(i=>new Date(i.date))));p.setHours(0,0,0,0);const o=new Date;o.setDate(o.getDate()+r);const v=[],f=[];let d=new Date(p);for(;d<=o;){v.push(d.toLocaleDateString(void 0,{month:"short",day:"numeric"}));let i=0;const b=d.getTime();t.forEach(m=>{const D=new Date(m.date).getTime();if(D<=b){const L=(b-D)/36e5,E=(m.unit===h?m.dosage:Q(m.dosage,m.unit,h))*Math.pow(.5,L/j);i+=E}}),f.push(i),d.setDate(d.getDate()+1)}return{labels:v,datasets:[{label:"Estimated Active Level (mg)",data:f,borderColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.2)",tension:.4,fill:!0,pointRadius:2}]}},[a,j,r,s]),P={responsive:!0,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{y:{grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#94a3b8"}},x:{grid:{display:!1},ticks:{color:"#94a3b8",maxTicksLimit:8}}},interaction:{mode:"nearest",axis:"x",intersect:!1}};return e.jsxs("div",{className:n.container,children:[e.jsxs("div",{className:n.controls,children:[e.jsxs("div",{className:n.controlGroup,children:[e.jsx("label",{children:"Peptide Profile"}),e.jsxs("select",{value:s,onChange:t=>c(t.target.value),children:[Object.entries(y).map(([t,p])=>e.jsx("optgroup",{label:t,children:Object.keys(p).map(o=>e.jsx("option",{value:o,children:o},o))},t)),e.jsx("option",{value:"Custom",children:"Custom"})]})]}),s==="Custom"&&e.jsxs("div",{className:n.controlGroup,children:[e.jsx("label",{children:"Half-Life (Hours)"}),e.jsx("input",{type:"number",value:u,onChange:t=>g(Number(t.target.value)),onWheel:t=>t.target.blur()})]}),e.jsxs("div",{className:n.controlGroup,children:[e.jsx("label",{children:"Dose Unit"}),e.jsxs("select",{value:h,onChange:t=>_(t.target.value),children:[e.jsx("option",{value:"mg",children:"mg"}),e.jsx("option",{value:"mcg",children:"mcg"}),e.jsx("option",{value:"iu",children:"IU"})]})]}),e.jsxs("div",{className:n.controlGroup,children:[e.jsx("label",{children:"Body Weight (lbs)"}),e.jsx("input",{type:"number",step:"0.1",placeholder:"175",value:x,onChange:t=>S(t.target.value),onWheel:t=>t.target.blur()})]})]}),e.jsxs("div",{className:"card glass-panel",children:[e.jsxs("div",{className:n.chartHeader,children:[e.jsx(W,{size:20,color:"var(--accent-primary)"}),e.jsx("h3",{children:"Decay Plotter"}),e.jsxs("div",{className:n.summary,children:[e.jsxs("span",{children:["Entries: ",a.length]}),e.jsxs("span",{children:["Unit: ",h]}),x&&e.jsxs("span",{children:["Weight: ",x," lbs"]})]})]}),e.jsx("div",{className:n.chartContainer,children:C?e.jsx(H,{data:C,options:P}):e.jsxs("div",{className:n.emptyState,children:[e.jsx("p",{children:"No data for selected peptide."}),e.jsxs("small",{children:['Log an injection with the name "',s,'" to see the graph.']})]})})]})]})},ae=()=>e.jsx("div",{className:"padding-container",style:{padding:"20px"},children:e.jsx(V,{})});export{ae as default};
