const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-T8HM1IRC.js","assets/vendor-pdf-BHURsPEW.js","assets/vendor-charts-Bp3-pUCH.js","assets/vendor-react-CXiJbH0b.js","assets/vendor-utils-CWRG567-.js","assets/vendor-supabase-cfKfdWz3.js","assets/vendor-ui-DZIkMbEy.js","assets/index-JZVBs0Jm.js","assets/index-D0UTJNo3.js","assets/index-BUavrN_6.js","assets/index-BwZiTGfl.js","assets/pdfService-LxSaEAbV.js","assets/Calculator-Bj895-Eq.js","assets/ShareButton-Bq3RJnwa.js","assets/SocialShare-DPqqBXTU.js","assets/SocialShare-BeqQbHY3.css","assets/Calculator-BxpSx5Fb.css","assets/StackProtocol-DJWAI9Pb.js","assets/StackProtocol-Bzx6R6pr.css","assets/HalfLife-D_9JxytN.js","assets/HalfLife-Bzb4TIfV.css","assets/PriceChecker-D7wAi2TV.js","assets/PriceChecker-BrUf30AF.css","assets/Encyclopedia-PICdINUZ.js","assets/PeptideDetail-CGaulG_-.js","assets/Guides-BRtgmFD_.js","assets/Safety-CqWBmsKI.js","assets/BeginnerGuide-Bilcij_o.js","assets/InjectionGuide-D3f7aFtK.js","assets/Forum-bKqHtpZw.js","assets/Forum-BF2Z8NER.css","assets/Inventory-COtOPJ4N.js","assets/Inventory-_cP4O8uB.css","assets/InjectionSites-BBKRO1kW.js","assets/InjectionSites-BQP1Mo-e.css","assets/BloodWork-D27g6C0l.js","assets/BloodWork-OrTzRCvJ.css","assets/TitrationPlan-CvVBYVq9.js","assets/TitrationPlan-D6F-GnAU.css","assets/Reviews-ESnxd9gG.js","assets/Reviews-Crgheim5.css"])))=>i.map(i=>d[i]);
import{j as a,C as mv,a as hv,L as pv,P as gv,b as yv,B as _v,A as vv,p as xv,c as jv,d as bv,i as Sv,e as wv,D as Nv,f as Cv}from"./vendor-charts-Bp3-pUCH.js";import{b as Tv,d as Dv,r as j,u as un,N as Xr,e as ts,O as Sg,L as st,f as ec,a as tc,h as Na,B as Av,i as Ev,j as Be}from"./vendor-react-CXiJbH0b.js";import{i as kv,a as Bv,s as ln,f as Nt,b as zv,e as Lv,c as Mv,d as xd,g as Rv,h as Ov,j as Uv,k as _p,l as vp,u as Iv}from"./vendor-utils-CWRG567-.js";import{_ as Ge,h as wg,E as Hv}from"./vendor-pdf-BHURsPEW.js";import{c as qv}from"./vendor-supabase-cfKfdWz3.js";import{L as rn,S as Vv,X as Rs,M as Gv,A as Wt,B as hl,T as Qr,P as ac,a as as,b as $v,c as cn,d as Yv,e as Lt,f as Ng,g as La,C as su,E as Pv,h as pl,i as li,j as gl,k as Mt,l as yl,R as Xv,m as Qv,n as nu,o as fu,p as ai,q as ri,r as _l,D as xl,s as Zv,t as Fv,u as Ls,v as Kv,w as Ta,U as ci,x as Cg,H as Jv,y as Wv,z as Ma,F as ex,G as tx,I as Jn,J as xp,K as ax,N as Ft,O as _t,Q as ks,Z as Tg,V as Kt,W as sx,Y as jl,_ as bl,$ as iu,a0 as Zr,a1 as Dg,a2 as on,a3 as nx,a4 as oi,a5 as jp,a6 as dn,a7 as Fr,a8 as mu,a9 as Ms,aa as zs,ab as hu,ac as ix,ad as lx,ae as rx,af as cx,ag as Kr,ah as Ag,ai as Jt,aj as jd,ak as ox,al as sc,am as Jr,an as Eg,ao as fi,ap as dx,aq as ux,ar as lu,as as fx,at as bp,au as mx,av as kg,aw as Bg,ax as hx,ay as px,az as Sp,aA as gx,aB as zg,aC as yx,aD as _x}from"./vendor-ui-DZIkMbEy.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&d(h)}).observe(document,{childList:!0,subtree:!0});function o(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function d(u){if(u.ep)return;u.ep=!0;const f=o(u);fetch(u.href,f)}})();var bd={exports:{}},cl={},Sd={exports:{}},wd={};var wp;function vx(){return wp||(wp=1,(function(l){function c(z,A){var ee=z.length;z.push(A);e:for(;0<ee;){var te=ee-1>>>1,ce=z[te];if(0<u(ce,A))z[te]=A,z[ee]=ce,ee=te;else break e}}function o(z){return z.length===0?null:z[0]}function d(z){if(z.length===0)return null;var A=z[0],ee=z.pop();if(ee!==A){z[0]=ee;e:for(var te=0,ce=z.length,De=ce>>>1;te<De;){var Se=2*(te+1)-1,xe=z[Se],Me=Se+1,Q=z[Me];if(0>u(xe,ee))Me<ce&&0>u(Q,xe)?(z[te]=Q,z[Me]=ee,te=Me):(z[te]=xe,z[Se]=ee,te=Se);else if(Me<ce&&0>u(Q,ee))z[te]=Q,z[Me]=ee,te=Me;else break e}}return A}function u(z,A){var ee=z.sortIndex-A.sortIndex;return ee!==0?ee:z.id-A.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,g=h.now();l.unstable_now=function(){return h.now()-g}}var p=[],v=[],S=1,C=null,D=3,V=!1,w=!1,H=!1,M=!1,N=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function x(z){for(var A=o(v);A!==null;){if(A.callback===null)d(v);else if(A.startTime<=z)d(v),A.sortIndex=A.expirationTime,c(p,A);else break;A=o(v)}}function I(z){if(H=!1,x(z),!w)if(o(p)!==null)w=!0,k||(k=!0,W());else{var A=o(v);A!==null&&le(I,A.startTime-z)}}var k=!1,R=-1,Y=5,L=-1;function U(){return M?!0:!(l.unstable_now()-L<Y)}function se(){if(M=!1,k){var z=l.unstable_now();L=z;var A=!0;try{e:{w=!1,H&&(H=!1,b(R),R=-1),V=!0;var ee=D;try{t:{for(x(z),C=o(p);C!==null&&!(C.expirationTime>z&&U());){var te=C.callback;if(typeof te=="function"){C.callback=null,D=C.priorityLevel;var ce=te(C.expirationTime<=z);if(z=l.unstable_now(),typeof ce=="function"){C.callback=ce,x(z),A=!0;break t}C===o(p)&&d(p),x(z)}else d(p);C=o(p)}if(C!==null)A=!0;else{var De=o(v);De!==null&&le(I,De.startTime-z),A=!1}}break e}finally{C=null,D=ee,V=!1}A=void 0}}finally{A?W():k=!1}}}var W;if(typeof E=="function")W=function(){E(se)};else if(typeof MessageChannel<"u"){var y=new MessageChannel,q=y.port2;y.port1.onmessage=se,W=function(){q.postMessage(null)}}else W=function(){N(se,0)};function le(z,A){R=N(function(){z(l.unstable_now())},A)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return D},l.unstable_next=function(z){switch(D){case 1:case 2:case 3:var A=3;break;default:A=D}var ee=D;D=A;try{return z()}finally{D=ee}},l.unstable_requestPaint=function(){M=!0},l.unstable_runWithPriority=function(z,A){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ee=D;D=z;try{return A()}finally{D=ee}},l.unstable_scheduleCallback=function(z,A,ee){var te=l.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?te+ee:te):ee=te,z){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ee+ce,z={id:S++,callback:A,priorityLevel:z,startTime:ee,expirationTime:ce,sortIndex:-1},ee>te?(z.sortIndex=ee,c(v,z),o(p)===null&&z===o(v)&&(H?(b(R),R=-1):H=!0,le(I,ee-te))):(z.sortIndex=ce,c(p,z),w||V||(w=!0,k||(k=!0,W()))),z},l.unstable_shouldYield=U,l.unstable_wrapCallback=function(z){var A=D;return function(){var ee=D;D=A;try{return z.apply(this,arguments)}finally{D=ee}}}})(wd)),wd}var Np;function xx(){return Np||(Np=1,Sd.exports=vx()),Sd.exports}var Cp;function jx(){if(Cp)return cl;Cp=1;var l=xx(),c=Tv(),o=Dv();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(d(188))}function v(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(d(188));return t!==e?null:e}for(var s=e,n=t;;){var i=s.return;if(i===null)break;var r=i.alternate;if(r===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===s)return p(i),e;if(r===n)return p(i),t;r=r.sibling}throw Error(d(188))}if(s.return!==n.return)s=i,n=r;else{for(var m=!1,_=i.child;_;){if(_===s){m=!0,s=i,n=r;break}if(_===n){m=!0,n=i,s=r;break}_=_.sibling}if(!m){for(_=r.child;_;){if(_===s){m=!0,s=r,n=i;break}if(_===n){m=!0,n=r,s=i;break}_=_.sibling}if(!m)throw Error(d(189))}}if(s.alternate!==n)throw Error(d(190))}if(s.tag!==3)throw Error(d(188));return s.stateNode.current===s?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,D=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),E=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=se&&e[se]||e["@@iterator"],typeof e=="function"?e:null)}var y=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===y?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case N:return"Profiler";case M:return"StrictMode";case I:return"Suspense";case k:return"SuspenseList";case L:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case E:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return t=e.displayName||null,t!==null?t:q(e.type)||"Memo";case Y:t=e._payload,e=e._init;try{return q(e(t))}catch{}}return null}var le=Array.isArray,z=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},te=[],ce=-1;function De(e){return{current:e}}function Se(e){0>ce||(e.current=te[ce],te[ce]=null,ce--)}function xe(e,t){ce++,te[ce]=e.current,e.current=t}var Me=De(null),Q=De(null),ie=De(null),Re=De(null);function ve(e,t){switch(xe(ie,t),xe(Q,e),xe(Me,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?qh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=qh(t),e=Vh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Se(Me),xe(Me,e)}function ot(){Se(Me),Se(Q),Se(ie)}function bt(e){e.memoizedState!==null&&xe(Re,e);var t=Me.current,s=Vh(t,e.type);t!==s&&(xe(Q,e),xe(Me,s))}function oe(e){Q.current===e&&(Se(Me),Se(Q)),Re.current===e&&(Se(Re),nl._currentValue=ee)}var $e,qt;function ca(e){if($e===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);$e=t&&t[1]||"",qt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$e+e+qt}var oa=!1;function Os(e,t){if(!e||oa)return"";oa=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(F){var X=F}Reflect.construct(e,[],ne)}else{try{ne.call()}catch(F){X=F}e.call(ne.prototype)}}else{try{throw Error()}catch(F){X=F}(ne=e())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(F){if(F&&X&&typeof F.stack=="string")return[F.stack,X.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=n.DetermineComponentFrameRoot(),m=r[0],_=r[1];if(m&&_){var T=m.split(`
`),$=_.split(`
`);for(i=n=0;n<T.length&&!T[n].includes("DetermineComponentFrameRoot");)n++;for(;i<$.length&&!$[i].includes("DetermineComponentFrameRoot");)i++;if(n===T.length||i===$.length)for(n=T.length-1,i=$.length-1;1<=n&&0<=i&&T[n]!==$[i];)i--;for(;1<=n&&0<=i;n--,i--)if(T[n]!==$[i]){if(n!==1||i!==1)do if(n--,i--,0>i||T[n]!==$[i]){var J=`
`+T[n].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=n&&0<=i);break}}}finally{oa=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ca(s):""}function nc(e,t){switch(e.tag){case 26:case 27:case 5:return ca(e.type);case 16:return ca("Lazy");case 13:return e.child!==t&&t!==null?ca("Suspense Fallback"):ca("Suspense");case 19:return ca("SuspenseList");case 0:case 15:return Os(e.type,!1);case 11:return Os(e.type.render,!1);case 1:return Os(e.type,!0);case 31:return ca("Activity");default:return""}}function mi(e){try{var t="",s=null;do t+=nc(e,s),s=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var hi=Object.prototype.hasOwnProperty,pi=l.unstable_scheduleCallback,gi=l.unstable_cancelCallback,ic=l.unstable_shouldYield,wl=l.unstable_requestPaint,Rt=l.unstable_now,lc=l.unstable_getCurrentPriorityLevel,Nl=l.unstable_ImmediatePriority,ja=l.unstable_UserBlockingPriority,Ra=l.unstable_NormalPriority,P=l.unstable_LowPriority,Ce=l.unstable_IdlePriority,Fe=l.log,Us=l.unstable_setDisableYieldValue,rt=null,vt=null;function ea(e){if(typeof Fe=="function"&&Us(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(rt,e)}catch{}}var Ot=Math.clz32?Math.clz32:Wg,Kg=Math.log,Jg=Math.LN2;function Wg(e){return e>>>=0,e===0?32:31-(Kg(e)/Jg|0)|0}var Cl=256,Tl=262144,Dl=4194304;function Is(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Al(e,t,s){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var _=n&134217727;return _!==0?(n=_&~r,n!==0?i=Is(n):(m&=_,m!==0?i=Is(m):s||(s=_&~e,s!==0&&(i=Is(s))))):(_=n&~r,_!==0?i=Is(_):m!==0?i=Is(m):s||(s=n&~e,s!==0&&(i=Is(s)))),i===0?0:t!==0&&t!==i&&(t&r)===0&&(r=i&-i,s=t&-t,r>=s||r===32&&(s&4194048)!==0)?t:i}function yi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ey(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var e=Dl;return Dl<<=1,(Dl&62914560)===0&&(Dl=4194304),e}function rc(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function _i(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ty(e,t,s,n,i,r){var m=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var _=e.entanglements,T=e.expirationTimes,$=e.hiddenUpdates;for(s=m&~s;0<s;){var J=31-Ot(s),ne=1<<J;_[J]=0,T[J]=-1;var X=$[J];if(X!==null)for($[J]=null,J=0;J<X.length;J++){var F=X[J];F!==null&&(F.lane&=-536870913)}s&=~ne}n!==0&&bu(e,n,0),r!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=r&~(m&~t))}function bu(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Ot(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|s&261930}function Su(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-Ot(s),i=1<<n;i&t|e[n]&t&&(e[n]|=t),s&=~i}}function wu(e,t){var s=t&-t;return s=(s&42)!==0?1:cc(s),(s&(e.suspendedLanes|t))!==0?0:s}function cc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function oc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Nu(){var e=A.p;return e!==0?e:(e=window.event,e===void 0?32:up(e.type))}function Cu(e,t){var s=A.p;try{return A.p=e,t()}finally{A.p=s}}var ss=Math.random().toString(36).slice(2),Tt="__reactFiber$"+ss,Vt="__reactProps$"+ss,hn="__reactContainer$"+ss,dc="__reactEvents$"+ss,ay="__reactListeners$"+ss,sy="__reactHandles$"+ss,Tu="__reactResources$"+ss,vi="__reactMarker$"+ss;function uc(e){delete e[Tt],delete e[Vt],delete e[dc],delete e[ay],delete e[sy]}function pn(e){var t=e[Tt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[hn]||s[Tt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Zh(e);e!==null;){if(s=e[Tt])return s;e=Zh(e)}return t}e=s,s=e.parentNode}return null}function gn(e){if(e=e[Tt]||e[hn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function xi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function yn(e){var t=e[Tu];return t||(t=e[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function St(e){e[vi]=!0}var Du=new Set,Au={};function Hs(e,t){_n(e,t),_n(e+"Capture",t)}function _n(e,t){for(Au[e]=t,e=0;e<t.length;e++)Du.add(t[e])}var ny=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eu={},ku={};function iy(e){return hi.call(ku,e)?!0:hi.call(Eu,e)?!1:ny.test(e)?ku[e]=!0:(Eu[e]=!0,!1)}function El(e,t,s){if(iy(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function kl(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function Oa(e,t,s,n){if(n===null)e.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+n)}}function da(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ly(e,t,s){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(m){s=""+m,r.call(this,m)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fc(e){if(!e._valueTracker){var t=Bu(e)?"checked":"value";e._valueTracker=ly(e,t,""+e[t])}}function zu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=Bu(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Bl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ry=/[\n"\\]/g;function ua(e){return e.replace(ry,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function mc(e,t,s,n,i,r,m,_){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+da(t)):e.value!==""+da(t)&&(e.value=""+da(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?hc(e,m,da(t)):s!=null?hc(e,m,da(s)):n!=null&&e.removeAttribute("value"),i==null&&r!=null&&(e.defaultChecked=!!r),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+da(_):e.removeAttribute("name")}function Lu(e,t,s,n,i,r,m,_){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||s!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){fc(e);return}s=s!=null?""+da(s):"",t=t!=null?""+da(t):s,_||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=_?e.checked:!!n,e.defaultChecked=!!n,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),fc(e)}function hc(e,t,s){t==="number"&&Bl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function vn(e,t,s,n){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&n&&(e[s].defaultSelected=!0)}else{for(s=""+da(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Mu(e,t,s){if(t!=null&&(t=""+da(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+da(s):""}function Ru(e,t,s,n){if(t==null){if(n!=null){if(s!=null)throw Error(d(92));if(le(n)){if(1<n.length)throw Error(d(93));n=n[0]}s=n}s==null&&(s=""),t=s}s=da(t),e.defaultValue=s,n=e.textContent,n===s&&n!==""&&n!==null&&(e.value=n),fc(e)}function xn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var cy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ou(e,t,s){var n=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,s):typeof s!="number"||s===0||cy.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Uu(e,t,s){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,s!=null){for(var n in s)!s.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&s[i]!==n&&Ou(e,i,n)}else for(var r in t)t.hasOwnProperty(r)&&Ou(e,r,t[r])}function pc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(e){return dy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ua(){}var gc=null;function yc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jn=null,bn=null;function Iu(e){var t=gn(e);if(t&&(e=t.stateNode)){var s=e[Vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(mc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ua(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var i=n[Vt]||null;if(!i)throw Error(d(90));mc(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<s.length;t++)n=s[t],n.form===e.form&&zu(n)}break e;case"textarea":Mu(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&vn(e,!!s.multiple,t,!1)}}}var _c=!1;function Hu(e,t,s){if(_c)return e(t,s);_c=!0;try{var n=e(t);return n}finally{if(_c=!1,(jn!==null||bn!==null)&&(xr(),jn&&(t=jn,e=bn,bn=jn=null,Iu(t),e)))for(t=0;t<e.length;t++)Iu(e[t])}}function ji(e,t){var s=e.stateNode;if(s===null)return null;var n=s[Vt]||null;if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(d(231,t,typeof s));return s}var Ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vc=!1;if(Ia)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){vc=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{vc=!1}var ns=null,xc=null,Ll=null;function qu(){if(Ll)return Ll;var e,t=xc,s=t.length,n,i="value"in ns?ns.value:ns.textContent,r=i.length;for(e=0;e<s&&t[e]===i[e];e++);var m=s-e;for(n=1;n<=m&&t[s-n]===i[r-n];n++);return Ll=i.slice(e,1<n?1-n:void 0)}function Ml(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rl(){return!0}function Vu(){return!1}function Gt(e){function t(s,n,i,r,m){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=m,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(r):r[_]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Rl:Vu,this.isPropagationStopped=Vu,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),t}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Gt(qs),Si=C({},qs,{view:0,detail:0}),uy=Gt(Si),jc,bc,wi,Ul=C({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(jc=e.screenX-wi.screenX,bc=e.screenY-wi.screenY):bc=jc=0,wi=e),jc)},movementY:function(e){return"movementY"in e?e.movementY:bc}}),Gu=Gt(Ul),fy=C({},Ul,{dataTransfer:0}),my=Gt(fy),hy=C({},Si,{relatedTarget:0}),Sc=Gt(hy),py=C({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),gy=Gt(py),yy=C({},qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_y=Gt(yy),vy=C({},qs,{data:0}),$u=Gt(vy),xy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},by={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=by[e])?!!t[e]:!1}function wc(){return Sy}var wy=C({},Si,{key:function(e){if(e.key){var t=xy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wc,charCode:function(e){return e.type==="keypress"?Ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ny=Gt(wy),Cy=C({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yu=Gt(Cy),Ty=C({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wc}),Dy=Gt(Ty),Ay=C({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ey=Gt(Ay),ky=C({},Ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),By=Gt(ky),zy=C({},qs,{newState:0,oldState:0}),Ly=Gt(zy),My=[9,13,27,32],Nc=Ia&&"CompositionEvent"in window,Ni=null;Ia&&"documentMode"in document&&(Ni=document.documentMode);var Ry=Ia&&"TextEvent"in window&&!Ni,Pu=Ia&&(!Nc||Ni&&8<Ni&&11>=Ni),Xu=" ",Qu=!1;function Zu(e,t){switch(e){case"keyup":return My.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sn=!1;function Oy(e,t){switch(e){case"compositionend":return Fu(t);case"keypress":return t.which!==32?null:(Qu=!0,Xu);case"textInput":return e=t.data,e===Xu&&Qu?null:e;default:return null}}function Uy(e,t){if(Sn)return e==="compositionend"||!Nc&&Zu(e,t)?(e=qu(),Ll=xc=ns=null,Sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pu&&t.locale!=="ko"?null:t.data;default:return null}}var Iy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ku(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Iy[e.type]:t==="textarea"}function Ju(e,t,s,n){jn?bn?bn.push(n):bn=[n]:jn=n,t=Tr(t,"onChange"),0<t.length&&(s=new Ol("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Ci=null,Ti=null;function Hy(e){Mh(e,0)}function Il(e){var t=xi(e);if(zu(t))return e}function Wu(e,t){if(e==="change")return t}var ef=!1;if(Ia){var Cc;if(Ia){var Tc="oninput"in document;if(!Tc){var tf=document.createElement("div");tf.setAttribute("oninput","return;"),Tc=typeof tf.oninput=="function"}Cc=Tc}else Cc=!1;ef=Cc&&(!document.documentMode||9<document.documentMode)}function af(){Ci&&(Ci.detachEvent("onpropertychange",sf),Ti=Ci=null)}function sf(e){if(e.propertyName==="value"&&Il(Ti)){var t=[];Ju(t,Ti,e,yc(e)),Hu(Hy,t)}}function qy(e,t,s){e==="focusin"?(af(),Ci=t,Ti=s,Ci.attachEvent("onpropertychange",sf)):e==="focusout"&&af()}function Vy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Il(Ti)}function Gy(e,t){if(e==="click")return Il(t)}function $y(e,t){if(e==="input"||e==="change")return Il(t)}function Yy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ta=typeof Object.is=="function"?Object.is:Yy;function Di(e,t){if(ta(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!hi.call(t,i)||!ta(e[i],t[i]))return!1}return!0}function nf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lf(e,t){var s=nf(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=nf(s)}}function rf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Bl(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Bl(e.document)}return t}function Dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Py=Ia&&"documentMode"in document&&11>=document.documentMode,wn=null,Ac=null,Ai=null,Ec=!1;function of(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ec||wn==null||wn!==Bl(n)||(n=wn,"selectionStart"in n&&Dc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ai&&Di(Ai,n)||(Ai=n,n=Tr(Ac,"onSelect"),0<n.length&&(t=new Ol("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=wn)))}function Vs(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Nn={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},kc={},df={};Ia&&(df=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function Gs(e){if(kc[e])return kc[e];if(!Nn[e])return e;var t=Nn[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in df)return kc[e]=t[s];return e}var uf=Gs("animationend"),ff=Gs("animationiteration"),mf=Gs("animationstart"),Xy=Gs("transitionrun"),Qy=Gs("transitionstart"),Zy=Gs("transitioncancel"),hf=Gs("transitionend"),pf=new Map,Bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bc.push("scrollEnd");function ba(e,t){pf.set(e,t),Hs(t,[e])}var Hl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fa=[],Cn=0,zc=0;function ql(){for(var e=Cn,t=zc=Cn=0;t<e;){var s=fa[t];fa[t++]=null;var n=fa[t];fa[t++]=null;var i=fa[t];fa[t++]=null;var r=fa[t];if(fa[t++]=null,n!==null&&i!==null){var m=n.pending;m===null?i.next=i:(i.next=m.next,m.next=i),n.pending=i}r!==0&&gf(s,i,r)}}function Vl(e,t,s,n){fa[Cn++]=e,fa[Cn++]=t,fa[Cn++]=s,fa[Cn++]=n,zc|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Lc(e,t,s,n){return Vl(e,t,s,n),Gl(e)}function $s(e,t){return Vl(e,null,null,t),Gl(e)}function gf(e,t,s){e.lanes|=s;var n=e.alternate;n!==null&&(n.lanes|=s);for(var i=!1,r=e.return;r!==null;)r.childLanes|=s,n=r.alternate,n!==null&&(n.childLanes|=s),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(i=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,i&&t!==null&&(i=31-Ot(s),e=r.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=s|536870912),r):null}function Gl(e){if(50<Ki)throw Ki=0,$o=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Tn={};function Fy(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(e,t,s,n){return new Fy(e,t,s,n)}function Mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ha(e,t){var s=e.alternate;return s===null?(s=aa(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function yf(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $l(e,t,s,n,i,r){var m=0;if(n=e,typeof e=="function")Mc(e)&&(m=1);else if(typeof e=="string")m=tv(e,s,Me.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case L:return e=aa(31,s,t,i),e.elementType=L,e.lanes=r,e;case H:return Ys(s.children,i,r,t);case M:m=8,i|=24;break;case N:return e=aa(12,s,t,i|2),e.elementType=N,e.lanes=r,e;case I:return e=aa(13,s,t,i),e.elementType=I,e.lanes=r,e;case k:return e=aa(19,s,t,i),e.elementType=k,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:m=10;break e;case b:m=9;break e;case x:m=11;break e;case R:m=14;break e;case Y:m=16,n=null;break e}m=29,s=Error(d(130,e===null?"null":typeof e,"")),n=null}return t=aa(m,s,t,i),t.elementType=e,t.type=n,t.lanes=r,t}function Ys(e,t,s,n){return e=aa(7,e,n,t),e.lanes=s,e}function Rc(e,t,s){return e=aa(6,e,null,t),e.lanes=s,e}function _f(e){var t=aa(18,null,null,0);return t.stateNode=e,t}function Oc(e,t,s){return t=aa(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var vf=new WeakMap;function ma(e,t){if(typeof e=="object"&&e!==null){var s=vf.get(e);return s!==void 0?s:(t={value:e,source:t,stack:mi(t)},vf.set(e,t),t)}return{value:e,source:t,stack:mi(t)}}var Dn=[],An=0,Yl=null,Ei=0,ha=[],pa=0,is=null,Da=1,Aa="";function qa(e,t){Dn[An++]=Ei,Dn[An++]=Yl,Yl=e,Ei=t}function xf(e,t,s){ha[pa++]=Da,ha[pa++]=Aa,ha[pa++]=is,is=e;var n=Da;e=Aa;var i=32-Ot(n)-1;n&=~(1<<i),s+=1;var r=32-Ot(t)+i;if(30<r){var m=i-i%5;r=(n&(1<<m)-1).toString(32),n>>=m,i-=m,Da=1<<32-Ot(t)+i|s<<i|n,Aa=r+e}else Da=1<<r|s<<i|n,Aa=e}function Uc(e){e.return!==null&&(qa(e,1),xf(e,1,0))}function Ic(e){for(;e===Yl;)Yl=Dn[--An],Dn[An]=null,Ei=Dn[--An],Dn[An]=null;for(;e===is;)is=ha[--pa],ha[pa]=null,Aa=ha[--pa],ha[pa]=null,Da=ha[--pa],ha[pa]=null}function jf(e,t){ha[pa++]=Da,ha[pa++]=Aa,ha[pa++]=is,Da=t.id,Aa=t.overflow,is=e}var Dt=null,nt=null,Ve=!1,ls=null,ga=!1,Hc=Error(d(519));function rs(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ki(ma(t,e)),Hc}function bf(e){var t=e.stateNode,s=e.type,n=e.memoizedProps;switch(t[Tt]=e,t[Vt]=n,s){case"dialog":Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":case"embed":Ue("load",t);break;case"video":case"audio":for(s=0;s<Wi.length;s++)Ue(Wi[s],t);break;case"source":Ue("error",t);break;case"img":case"image":case"link":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"input":Ue("invalid",t),Lu(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Ue("invalid",t);break;case"textarea":Ue("invalid",t),Ru(t,n.value,n.defaultValue,n.children)}s=n.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||n.suppressHydrationWarning===!0||Ih(t.textContent,s)?(n.popover!=null&&(Ue("beforetoggle",t),Ue("toggle",t)),n.onScroll!=null&&Ue("scroll",t),n.onScrollEnd!=null&&Ue("scrollend",t),n.onClick!=null&&(t.onclick=Ua),t=!0):t=!1,t||rs(e,!0)}function Sf(e){for(Dt=e.return;Dt;)switch(Dt.tag){case 5:case 31:case 13:ga=!1;return;case 27:case 3:ga=!0;return;default:Dt=Dt.return}}function En(e){if(e!==Dt)return!1;if(!Ve)return Sf(e),Ve=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||id(e.type,e.memoizedProps)),s=!s),s&&nt&&rs(e),Sf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));nt=Qh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));nt=Qh(e)}else t===27?(t=nt,js(e.type)?(e=dd,dd=null,nt=e):nt=t):nt=Dt?_a(e.stateNode.nextSibling):null;return!0}function Ps(){nt=Dt=null,Ve=!1}function qc(){var e=ls;return e!==null&&(Xt===null?Xt=e:Xt.push.apply(Xt,e),ls=null),e}function ki(e){ls===null?ls=[e]:ls.push(e)}var Vc=De(null),Xs=null,Va=null;function cs(e,t,s){xe(Vc,t._currentValue),t._currentValue=s}function Ga(e){e._currentValue=Vc.current,Se(Vc)}function Gc(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function $c(e,t,s,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var r=i.dependencies;if(r!==null){var m=i.child;r=r.firstContext;e:for(;r!==null;){var _=r;r=i;for(var T=0;T<t.length;T++)if(_.context===t[T]){r.lanes|=s,_=r.alternate,_!==null&&(_.lanes|=s),Gc(r.return,s,e),n||(m=null);break e}r=_.next}}else if(i.tag===18){if(m=i.return,m===null)throw Error(d(341));m.lanes|=s,r=m.alternate,r!==null&&(r.lanes|=s),Gc(m,s,e),m=null}else m=i.child;if(m!==null)m.return=i;else for(m=i;m!==null;){if(m===e){m=null;break}if(i=m.sibling,i!==null){i.return=m.return,m=i;break}m=m.return}i=m}}function kn(e,t,s,n){e=null;for(var i=t,r=!1;i!==null;){if(!r){if((i.flags&524288)!==0)r=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var m=i.alternate;if(m===null)throw Error(d(387));if(m=m.memoizedProps,m!==null){var _=i.type;ta(i.pendingProps.value,m.value)||(e!==null?e.push(_):e=[_])}}else if(i===Re.current){if(m=i.alternate,m===null)throw Error(d(387));m.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(nl):e=[nl])}i=i.return}e!==null&&$c(t,e,s,n),t.flags|=262144}function Pl(e){for(e=e.firstContext;e!==null;){if(!ta(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qs(e){Xs=e,Va=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function At(e){return wf(Xs,e)}function Xl(e,t){return Xs===null&&Qs(e),wf(e,t)}function wf(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},Va===null){if(e===null)throw Error(d(308));Va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Va=Va.next=t;return s}var Ky=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},Jy=l.unstable_scheduleCallback,Wy=l.unstable_NormalPriority,ht={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yc(){return{controller:new Ky,data:new Map,refCount:0}}function Bi(e){e.refCount--,e.refCount===0&&Jy(Wy,function(){e.controller.abort()})}var zi=null,Pc=0,Bn=0,zn=null;function e_(e,t){if(zi===null){var s=zi=[];Pc=0,Bn=Fo(),zn={status:"pending",value:void 0,then:function(n){s.push(n)}}}return Pc++,t.then(Nf,Nf),t}function Nf(){if(--Pc===0&&zi!==null){zn!==null&&(zn.status="fulfilled");var e=zi;zi=null,Bn=0,zn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function t_(e,t){var s=[],n={status:"pending",value:null,reason:null,then:function(i){s.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<s.length;i++)(0,s[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<s.length;i++)(0,s[i])(void 0)}),n}var Cf=z.S;z.S=function(e,t){oh=Rt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&e_(e,t),Cf!==null&&Cf(e,t)};var Zs=De(null);function Xc(){var e=Zs.current;return e!==null?e:at.pooledCache}function Ql(e,t){t===null?xe(Zs,Zs.current):xe(Zs,t.pool)}function Tf(){var e=Xc();return e===null?null:{parent:ht._currentValue,pool:e}}var Ln=Error(d(460)),Qc=Error(d(474)),Zl=Error(d(542)),Fl={then:function(){}};function Df(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Af(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(Ua,Ua),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kf(e),e;default:if(typeof t.status=="string")t.then(Ua,Ua);else{if(e=at,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kf(e),e}throw Ks=t,Ln}}function Fs(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ks=s,Ln):s}}var Ks=null;function Ef(){if(Ks===null)throw Error(d(459));var e=Ks;return Ks=null,e}function kf(e){if(e===Ln||e===Zl)throw Error(d(483))}var Mn=null,Li=0;function Kl(e){var t=Li;return Li+=1,Mn===null&&(Mn=[]),Af(Mn,e,t)}function Mi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Jl(e,t){throw t.$$typeof===D?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bf(e){function t(O,B){if(e){var G=O.deletions;G===null?(O.deletions=[B],O.flags|=16):G.push(B)}}function s(O,B){if(!e)return null;for(;B!==null;)t(O,B),B=B.sibling;return null}function n(O){for(var B=new Map;O!==null;)O.key!==null?B.set(O.key,O):B.set(O.index,O),O=O.sibling;return B}function i(O,B){return O=Ha(O,B),O.index=0,O.sibling=null,O}function r(O,B,G){return O.index=G,e?(G=O.alternate,G!==null?(G=G.index,G<B?(O.flags|=67108866,B):G):(O.flags|=67108866,B)):(O.flags|=1048576,B)}function m(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function _(O,B,G,ae){return B===null||B.tag!==6?(B=Rc(G,O.mode,ae),B.return=O,B):(B=i(B,G),B.return=O,B)}function T(O,B,G,ae){var _e=G.type;return _e===H?J(O,B,G.props.children,ae,G.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Y&&Fs(_e)===B.type)?(B=i(B,G.props),Mi(B,G),B.return=O,B):(B=$l(G.type,G.key,G.props,null,O.mode,ae),Mi(B,G),B.return=O,B)}function $(O,B,G,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=Oc(G,O.mode,ae),B.return=O,B):(B=i(B,G.children||[]),B.return=O,B)}function J(O,B,G,ae,_e){return B===null||B.tag!==7?(B=Ys(G,O.mode,ae,_e),B.return=O,B):(B=i(B,G),B.return=O,B)}function ne(O,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Rc(""+B,O.mode,G),B.return=O,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case V:return G=$l(B.type,B.key,B.props,null,O.mode,G),Mi(G,B),G.return=O,G;case w:return B=Oc(B,O.mode,G),B.return=O,B;case Y:return B=Fs(B),ne(O,B,G)}if(le(B)||W(B))return B=Ys(B,O.mode,G,null),B.return=O,B;if(typeof B.then=="function")return ne(O,Kl(B),G);if(B.$$typeof===E)return ne(O,Xl(O,B),G);Jl(O,B)}return null}function X(O,B,G,ae){var _e=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return _e!==null?null:_(O,B,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case V:return G.key===_e?T(O,B,G,ae):null;case w:return G.key===_e?$(O,B,G,ae):null;case Y:return G=Fs(G),X(O,B,G,ae)}if(le(G)||W(G))return _e!==null?null:J(O,B,G,ae,null);if(typeof G.then=="function")return X(O,B,Kl(G),ae);if(G.$$typeof===E)return X(O,B,Xl(O,G),ae);Jl(O,G)}return null}function F(O,B,G,ae,_e){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return O=O.get(G)||null,_(B,O,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case V:return O=O.get(ae.key===null?G:ae.key)||null,T(B,O,ae,_e);case w:return O=O.get(ae.key===null?G:ae.key)||null,$(B,O,ae,_e);case Y:return ae=Fs(ae),F(O,B,G,ae,_e)}if(le(ae)||W(ae))return O=O.get(G)||null,J(B,O,ae,_e,null);if(typeof ae.then=="function")return F(O,B,G,Kl(ae),_e);if(ae.$$typeof===E)return F(O,B,G,Xl(B,ae),_e);Jl(B,ae)}return null}function pe(O,B,G,ae){for(var _e=null,Ye=null,ye=B,ke=B=0,He=null;ye!==null&&ke<G.length;ke++){ye.index>ke?(He=ye,ye=null):He=ye.sibling;var Pe=X(O,ye,G[ke],ae);if(Pe===null){ye===null&&(ye=He);break}e&&ye&&Pe.alternate===null&&t(O,ye),B=r(Pe,B,ke),Ye===null?_e=Pe:Ye.sibling=Pe,Ye=Pe,ye=He}if(ke===G.length)return s(O,ye),Ve&&qa(O,ke),_e;if(ye===null){for(;ke<G.length;ke++)ye=ne(O,G[ke],ae),ye!==null&&(B=r(ye,B,ke),Ye===null?_e=ye:Ye.sibling=ye,Ye=ye);return Ve&&qa(O,ke),_e}for(ye=n(ye);ke<G.length;ke++)He=F(ye,O,ke,G[ke],ae),He!==null&&(e&&He.alternate!==null&&ye.delete(He.key===null?ke:He.key),B=r(He,B,ke),Ye===null?_e=He:Ye.sibling=He,Ye=He);return e&&ye.forEach(function(Cs){return t(O,Cs)}),Ve&&qa(O,ke),_e}function be(O,B,G,ae){if(G==null)throw Error(d(151));for(var _e=null,Ye=null,ye=B,ke=B=0,He=null,Pe=G.next();ye!==null&&!Pe.done;ke++,Pe=G.next()){ye.index>ke?(He=ye,ye=null):He=ye.sibling;var Cs=X(O,ye,Pe.value,ae);if(Cs===null){ye===null&&(ye=He);break}e&&ye&&Cs.alternate===null&&t(O,ye),B=r(Cs,B,ke),Ye===null?_e=Cs:Ye.sibling=Cs,Ye=Cs,ye=He}if(Pe.done)return s(O,ye),Ve&&qa(O,ke),_e;if(ye===null){for(;!Pe.done;ke++,Pe=G.next())Pe=ne(O,Pe.value,ae),Pe!==null&&(B=r(Pe,B,ke),Ye===null?_e=Pe:Ye.sibling=Pe,Ye=Pe);return Ve&&qa(O,ke),_e}for(ye=n(ye);!Pe.done;ke++,Pe=G.next())Pe=F(ye,O,ke,Pe.value,ae),Pe!==null&&(e&&Pe.alternate!==null&&ye.delete(Pe.key===null?ke:Pe.key),B=r(Pe,B,ke),Ye===null?_e=Pe:Ye.sibling=Pe,Ye=Pe);return e&&ye.forEach(function(fv){return t(O,fv)}),Ve&&qa(O,ke),_e}function tt(O,B,G,ae){if(typeof G=="object"&&G!==null&&G.type===H&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case V:e:{for(var _e=G.key;B!==null;){if(B.key===_e){if(_e=G.type,_e===H){if(B.tag===7){s(O,B.sibling),ae=i(B,G.props.children),ae.return=O,O=ae;break e}}else if(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Y&&Fs(_e)===B.type){s(O,B.sibling),ae=i(B,G.props),Mi(ae,G),ae.return=O,O=ae;break e}s(O,B);break}else t(O,B);B=B.sibling}G.type===H?(ae=Ys(G.props.children,O.mode,ae,G.key),ae.return=O,O=ae):(ae=$l(G.type,G.key,G.props,null,O.mode,ae),Mi(ae,G),ae.return=O,O=ae)}return m(O);case w:e:{for(_e=G.key;B!==null;){if(B.key===_e)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){s(O,B.sibling),ae=i(B,G.children||[]),ae.return=O,O=ae;break e}else{s(O,B);break}else t(O,B);B=B.sibling}ae=Oc(G,O.mode,ae),ae.return=O,O=ae}return m(O);case Y:return G=Fs(G),tt(O,B,G,ae)}if(le(G))return pe(O,B,G,ae);if(W(G)){if(_e=W(G),typeof _e!="function")throw Error(d(150));return G=_e.call(G),be(O,B,G,ae)}if(typeof G.then=="function")return tt(O,B,Kl(G),ae);if(G.$$typeof===E)return tt(O,B,Xl(O,G),ae);Jl(O,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(s(O,B.sibling),ae=i(B,G),ae.return=O,O=ae):(s(O,B),ae=Rc(G,O.mode,ae),ae.return=O,O=ae),m(O)):s(O,B)}return function(O,B,G,ae){try{Li=0;var _e=tt(O,B,G,ae);return Mn=null,_e}catch(ye){if(ye===Ln||ye===Zl)throw ye;var Ye=aa(29,ye,null,O.mode);return Ye.lanes=ae,Ye.return=O,Ye}finally{}}}var Js=Bf(!0),zf=Bf(!1),os=!1;function Zc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function us(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Ze&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=Gl(e),gf(e,null,s),t}return Vl(e,n,t,s),Gl(e)}function Ri(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Su(e,s)}}function Kc(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,r=null;if(s=s.firstBaseUpdate,s!==null){do{var m={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};r===null?i=r=m:r=r.next=m,s=s.next}while(s!==null);r===null?i=r=t:r=r.next=t}else i=r=t;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:n.shared,callbacks:n.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var Jc=!1;function Oi(){if(Jc){var e=zn;if(e!==null)throw e}}function Ui(e,t,s,n){Jc=!1;var i=e.updateQueue;os=!1;var r=i.firstBaseUpdate,m=i.lastBaseUpdate,_=i.shared.pending;if(_!==null){i.shared.pending=null;var T=_,$=T.next;T.next=null,m===null?r=$:m.next=$,m=T;var J=e.alternate;J!==null&&(J=J.updateQueue,_=J.lastBaseUpdate,_!==m&&(_===null?J.firstBaseUpdate=$:_.next=$,J.lastBaseUpdate=T))}if(r!==null){var ne=i.baseState;m=0,J=$=T=null,_=r;do{var X=_.lane&-536870913,F=X!==_.lane;if(F?(Ie&X)===X:(n&X)===X){X!==0&&X===Bn&&(Jc=!0),J!==null&&(J=J.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var pe=e,be=_;X=t;var tt=s;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){ne=pe.call(tt,ne,X);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,X=typeof pe=="function"?pe.call(tt,ne,X):pe,X==null)break e;ne=C({},ne,X);break e;case 2:os=!0}}X=_.callback,X!==null&&(e.flags|=64,F&&(e.flags|=8192),F=i.callbacks,F===null?i.callbacks=[X]:F.push(X))}else F={lane:X,tag:_.tag,payload:_.payload,callback:_.callback,next:null},J===null?($=J=F,T=ne):J=J.next=F,m|=X;if(_=_.next,_===null){if(_=i.shared.pending,_===null)break;F=_,_=F.next,F.next=null,i.lastBaseUpdate=F,i.shared.pending=null}}while(!0);J===null&&(T=ne),i.baseState=T,i.firstBaseUpdate=$,i.lastBaseUpdate=J,r===null&&(i.shared.lanes=0),gs|=m,e.lanes=m,e.memoizedState=ne}}function Lf(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function Mf(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Lf(s[e],t)}var Rn=De(null),Wl=De(0);function Rf(e,t){e=Ja,xe(Wl,e),xe(Rn,t),Ja=e|t.baseLanes}function Wc(){xe(Wl,Ja),xe(Rn,Rn.current)}function eo(){Ja=Wl.current,Se(Rn),Se(Wl)}var sa=De(null),ya=null;function fs(e){var t=e.alternate;xe(ft,ft.current&1),xe(sa,e),ya===null&&(t===null||Rn.current!==null||t.memoizedState!==null)&&(ya=e)}function to(e){xe(ft,ft.current),xe(sa,e),ya===null&&(ya=e)}function Of(e){e.tag===22?(xe(ft,ft.current),xe(sa,e),ya===null&&(ya=e)):ms()}function ms(){xe(ft,ft.current),xe(sa,sa.current)}function na(e){Se(sa),ya===e&&(ya=null),Se(ft)}var ft=De(0);function er(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||cd(s)||od(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $a=0,Ae=null,We=null,pt=null,tr=!1,On=!1,Ws=!1,ar=0,Ii=0,Un=null,a_=0;function dt(){throw Error(d(321))}function ao(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ta(e[s],t[s]))return!1;return!0}function so(e,t,s,n,i,r){return $a=r,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?xm:vo,Ws=!1,r=s(n,i),Ws=!1,On&&(r=If(t,s,n,i)),Uf(e),r}function Uf(e){z.H=Vi;var t=We!==null&&We.next!==null;if($a=0,pt=We=Ae=null,tr=!1,Ii=0,Un=null,t)throw Error(d(300));e===null||gt||(e=e.dependencies,e!==null&&Pl(e)&&(gt=!0))}function If(e,t,s,n){Ae=e;var i=0;do{if(On&&(Un=null),Ii=0,On=!1,25<=i)throw Error(d(301));if(i+=1,pt=We=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}z.H=jm,r=t(s,n)}while(On);return r}function s_(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Hi(t):t,e=e.useState()[0],(We!==null?We.memoizedState:null)!==e&&(Ae.flags|=1024),t}function no(){var e=ar!==0;return ar=0,e}function io(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function lo(e){if(tr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}tr=!1}$a=0,pt=We=Ae=null,On=!1,Ii=ar=0,Un=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ae.memoizedState=pt=e:pt=pt.next=e,pt}function mt(){if(We===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=pt===null?Ae.memoizedState:pt.next;if(t!==null)pt=t,We=e;else{if(e===null)throw Ae.alternate===null?Error(d(467)):Error(d(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},pt===null?Ae.memoizedState=pt=e:pt=pt.next=e}return pt}function sr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hi(e){var t=Ii;return Ii+=1,Un===null&&(Un=[]),e=Af(Un,e,t),t=Ae,(pt===null?t.memoizedState:pt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?xm:vo),e}function nr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hi(e);if(e.$$typeof===E)return At(e)}throw Error(d(438,String(e)))}function ro(e){var t=null,s=Ae.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var n=Ae.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=sr(),Ae.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),n=0;n<e;n++)s[n]=U;return t.index++,s}function Ya(e,t){return typeof t=="function"?t(e):t}function ir(e){var t=mt();return co(t,We,e)}function co(e,t,s){var n=e.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=s;var i=e.baseQueue,r=n.pending;if(r!==null){if(i!==null){var m=i.next;i.next=r.next,r.next=m}t.baseQueue=i=r,n.pending=null}if(r=e.baseState,i===null)e.memoizedState=r;else{t=i.next;var _=m=null,T=null,$=t,J=!1;do{var ne=$.lane&-536870913;if(ne!==$.lane?(Ie&ne)===ne:($a&ne)===ne){var X=$.revertLane;if(X===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ne===Bn&&(J=!0);else if(($a&X)===X){$=$.next,X===Bn&&(J=!0);continue}else ne={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},T===null?(_=T=ne,m=r):T=T.next=ne,Ae.lanes|=X,gs|=X;ne=$.action,Ws&&s(r,ne),r=$.hasEagerState?$.eagerState:s(r,ne)}else X={lane:ne,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},T===null?(_=T=X,m=r):T=T.next=X,Ae.lanes|=ne,gs|=ne;$=$.next}while($!==null&&$!==t);if(T===null?m=r:T.next=_,!ta(r,e.memoizedState)&&(gt=!0,J&&(s=zn,s!==null)))throw s;e.memoizedState=r,e.baseState=m,e.baseQueue=T,n.lastRenderedState=r}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function oo(e){var t=mt(),s=t.queue;if(s===null)throw Error(d(311));s.lastRenderedReducer=e;var n=s.dispatch,i=s.pending,r=t.memoizedState;if(i!==null){s.pending=null;var m=i=i.next;do r=e(r,m.action),m=m.next;while(m!==i);ta(r,t.memoizedState)||(gt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),s.lastRenderedState=r}return[r,n]}function Hf(e,t,s){var n=Ae,i=mt(),r=Ve;if(r){if(s===void 0)throw Error(d(407));s=s()}else s=t();var m=!ta((We||i).memoizedState,s);if(m&&(i.memoizedState=s,gt=!0),i=i.queue,mo(Gf.bind(null,n,i,e),[e]),i.getSnapshot!==t||m||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,In(9,{destroy:void 0},Vf.bind(null,n,i,s,t),null),at===null)throw Error(d(349));r||($a&127)!==0||qf(n,t,s)}return s}function qf(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ae.updateQueue,t===null?(t=sr(),Ae.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Vf(e,t,s,n){t.value=s,t.getSnapshot=n,$f(t)&&Yf(e)}function Gf(e,t,s){return s(function(){$f(t)&&Yf(e)})}function $f(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ta(e,s)}catch{return!0}}function Yf(e){var t=$s(e,2);t!==null&&Qt(t,e,2)}function uo(e){var t=Ut();if(typeof e=="function"){var s=e;if(e=s(),Ws){ea(!0);try{s()}finally{ea(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:e},t}function Pf(e,t,s,n){return e.baseState=s,co(e,We,typeof n=="function"?n:Ya)}function n_(e,t,s,n,i){if(cr(e))throw Error(d(485));if(e=t.action,e!==null){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){r.listeners.push(m)}};z.T!==null?s(!0):r.isTransition=!1,n(r),s=t.pending,s===null?(r.next=t.pending=r,Xf(t,r)):(r.next=s.next,t.pending=s.next=r)}}function Xf(e,t){var s=t.action,n=t.payload,i=e.state;if(t.isTransition){var r=z.T,m={};z.T=m;try{var _=s(i,n),T=z.S;T!==null&&T(m,_),Qf(e,t,_)}catch($){fo(e,t,$)}finally{r!==null&&m.types!==null&&(r.types=m.types),z.T=r}}else try{r=s(i,n),Qf(e,t,r)}catch($){fo(e,t,$)}}function Qf(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(n){Zf(e,t,n)},function(n){return fo(e,t,n)}):Zf(e,t,s)}function Zf(e,t,s){t.status="fulfilled",t.value=s,Ff(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,Xf(e,s)))}function fo(e,t,s){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=s,Ff(t),t=t.next;while(t!==n)}e.action=null}function Ff(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Kf(e,t){return t}function Jf(e,t){if(Ve){var s=at.formState;if(s!==null){e:{var n=Ae;if(Ve){if(nt){t:{for(var i=nt,r=ga;i.nodeType!==8;){if(!r){i=null;break t}if(i=_a(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){nt=_a(i.nextSibling),n=i.data==="F!";break e}}rs(n)}n=!1}n&&(t=s[0])}}return s=Ut(),s.memoizedState=s.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kf,lastRenderedState:t},s.queue=n,s=ym.bind(null,Ae,n),n.dispatch=s,n=uo(!1),r=_o.bind(null,Ae,!1,n.queue),n=Ut(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,s=n_.bind(null,Ae,i,r,s),i.dispatch=s,n.memoizedState=e,[t,s,!1]}function Wf(e){var t=mt();return em(t,We,e)}function em(e,t,s){if(t=co(e,t,Kf)[0],e=ir(Ya)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Hi(t)}catch(m){throw m===Ln?Zl:m}else n=t;t=mt();var i=t.queue,r=i.dispatch;return s!==t.memoizedState&&(Ae.flags|=2048,In(9,{destroy:void 0},i_.bind(null,i,s),null)),[n,r,e]}function i_(e,t){e.action=t}function tm(e){var t=mt(),s=We;if(s!==null)return em(t,s,e);mt(),t=t.memoizedState,s=mt();var n=s.queue.dispatch;return s.memoizedState=e,[t,n,!1]}function In(e,t,s,n){return e={tag:e,create:s,deps:n,inst:t,next:null},t=Ae.updateQueue,t===null&&(t=sr(),Ae.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e),e}function am(){return mt().memoizedState}function lr(e,t,s,n){var i=Ut();Ae.flags|=e,i.memoizedState=In(1|t,{destroy:void 0},s,n===void 0?null:n)}function rr(e,t,s,n){var i=mt();n=n===void 0?null:n;var r=i.memoizedState.inst;We!==null&&n!==null&&ao(n,We.memoizedState.deps)?i.memoizedState=In(t,r,s,n):(Ae.flags|=e,i.memoizedState=In(1|t,r,s,n))}function sm(e,t){lr(8390656,8,e,t)}function mo(e,t){rr(2048,8,e,t)}function l_(e){Ae.flags|=4;var t=Ae.updateQueue;if(t===null)t=sr(),Ae.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function nm(e){var t=mt().memoizedState;return l_({ref:t,nextImpl:e}),function(){if((Ze&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function im(e,t){return rr(4,2,e,t)}function lm(e,t){return rr(4,4,e,t)}function rm(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cm(e,t,s){s=s!=null?s.concat([e]):null,rr(4,4,rm.bind(null,t,e),s)}function ho(){}function om(e,t){var s=mt();t=t===void 0?null:t;var n=s.memoizedState;return t!==null&&ao(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function dm(e,t){var s=mt();t=t===void 0?null:t;var n=s.memoizedState;if(t!==null&&ao(t,n[1]))return n[0];if(n=e(),Ws){ea(!0);try{e()}finally{ea(!1)}}return s.memoizedState=[n,t],n}function po(e,t,s){return s===void 0||($a&1073741824)!==0&&(Ie&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=uh(),Ae.lanes|=e,gs|=e,s)}function um(e,t,s,n){return ta(s,t)?s:Rn.current!==null?(e=po(e,s,n),ta(e,t)||(gt=!0),e):($a&42)===0||($a&1073741824)!==0&&(Ie&261930)===0?(gt=!0,e.memoizedState=s):(e=uh(),Ae.lanes|=e,gs|=e,t)}function fm(e,t,s,n,i){var r=A.p;A.p=r!==0&&8>r?r:8;var m=z.T,_={};z.T=_,_o(e,!1,t,s);try{var T=i(),$=z.S;if($!==null&&$(_,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var J=t_(T,n);qi(e,t,J,ra(e))}else qi(e,t,n,ra(e))}catch(ne){qi(e,t,{then:function(){},status:"rejected",reason:ne},ra())}finally{A.p=r,m!==null&&_.types!==null&&(m.types=_.types),z.T=m}}function r_(){}function go(e,t,s,n){if(e.tag!==5)throw Error(d(476));var i=mm(e).queue;fm(e,i,t,ee,s===null?r_:function(){return hm(e),s(n)})}function mm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:ee},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function hm(e){var t=mm(e);t.next===null&&(t=e.alternate.memoizedState),qi(e,t.next.queue,{},ra())}function yo(){return At(nl)}function pm(){return mt().memoizedState}function gm(){return mt().memoizedState}function c_(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=ra();e=ds(s);var n=us(t,e,s);n!==null&&(Qt(n,t,s),Ri(n,t,s)),t={cache:Yc()},e.payload=t;return}t=t.return}}function o_(e,t,s){var n=ra();s={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},cr(e)?_m(t,s):(s=Lc(e,t,s,n),s!==null&&(Qt(s,e,n),vm(s,t,n)))}function ym(e,t,s){var n=ra();qi(e,t,s,n)}function qi(e,t,s,n){var i={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(cr(e))_m(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var m=t.lastRenderedState,_=r(m,s);if(i.hasEagerState=!0,i.eagerState=_,ta(_,m))return Vl(e,t,i,0),at===null&&ql(),!1}catch{}finally{}if(s=Lc(e,t,i,n),s!==null)return Qt(s,e,n),vm(s,t,n),!0}return!1}function _o(e,t,s,n){if(n={lane:2,revertLane:Fo(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},cr(e)){if(t)throw Error(d(479))}else t=Lc(e,s,n,2),t!==null&&Qt(t,e,2)}function cr(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function _m(e,t){On=tr=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function vm(e,t,s){if((s&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Su(e,s)}}var Vi={readContext:At,use:nr,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Vi.useEffectEvent=dt;var xm={readContext:At,use:nr,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:sm,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,lr(4194308,4,rm.bind(null,t,e),s)},useLayoutEffect:function(e,t){return lr(4194308,4,e,t)},useInsertionEffect:function(e,t){lr(4,2,e,t)},useMemo:function(e,t){var s=Ut();t=t===void 0?null:t;var n=e();if(Ws){ea(!0);try{e()}finally{ea(!1)}}return s.memoizedState=[n,t],n},useReducer:function(e,t,s){var n=Ut();if(s!==void 0){var i=s(t);if(Ws){ea(!0);try{s(t)}finally{ea(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=o_.bind(null,Ae,e),[n.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:function(e){e=uo(e);var t=e.queue,s=ym.bind(null,Ae,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:ho,useDeferredValue:function(e,t){var s=Ut();return po(s,e,t)},useTransition:function(){var e=uo(!1);return e=fm.bind(null,Ae,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var n=Ae,i=Ut();if(Ve){if(s===void 0)throw Error(d(407));s=s()}else{if(s=t(),at===null)throw Error(d(349));(Ie&127)!==0||qf(n,t,s)}i.memoizedState=s;var r={value:s,getSnapshot:t};return i.queue=r,sm(Gf.bind(null,n,r,e),[e]),n.flags|=2048,In(9,{destroy:void 0},Vf.bind(null,n,r,s,t),null),s},useId:function(){var e=Ut(),t=at.identifierPrefix;if(Ve){var s=Aa,n=Da;s=(n&~(1<<32-Ot(n)-1)).toString(32)+s,t="_"+t+"R_"+s,s=ar++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=a_++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:yo,useFormState:Jf,useActionState:Jf,useOptimistic:function(e){var t=Ut();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=_o.bind(null,Ae,!0,s),s.dispatch=t,[e,t]},useMemoCache:ro,useCacheRefresh:function(){return Ut().memoizedState=c_.bind(null,Ae)},useEffectEvent:function(e){var t=Ut(),s={impl:e};return t.memoizedState=s,function(){if((Ze&2)!==0)throw Error(d(440));return s.impl.apply(void 0,arguments)}}},vo={readContext:At,use:nr,useCallback:om,useContext:At,useEffect:mo,useImperativeHandle:cm,useInsertionEffect:im,useLayoutEffect:lm,useMemo:dm,useReducer:ir,useRef:am,useState:function(){return ir(Ya)},useDebugValue:ho,useDeferredValue:function(e,t){var s=mt();return um(s,We.memoizedState,e,t)},useTransition:function(){var e=ir(Ya)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:Hi(e),t]},useSyncExternalStore:Hf,useId:pm,useHostTransitionStatus:yo,useFormState:Wf,useActionState:Wf,useOptimistic:function(e,t){var s=mt();return Pf(s,We,e,t)},useMemoCache:ro,useCacheRefresh:gm};vo.useEffectEvent=nm;var jm={readContext:At,use:nr,useCallback:om,useContext:At,useEffect:mo,useImperativeHandle:cm,useInsertionEffect:im,useLayoutEffect:lm,useMemo:dm,useReducer:oo,useRef:am,useState:function(){return oo(Ya)},useDebugValue:ho,useDeferredValue:function(e,t){var s=mt();return We===null?po(s,e,t):um(s,We.memoizedState,e,t)},useTransition:function(){var e=oo(Ya)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:Hi(e),t]},useSyncExternalStore:Hf,useId:pm,useHostTransitionStatus:yo,useFormState:tm,useActionState:tm,useOptimistic:function(e,t){var s=mt();return We!==null?Pf(s,We,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:ro,useCacheRefresh:gm};jm.useEffectEvent=nm;function xo(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:C({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var jo={enqueueSetState:function(e,t,s){e=e._reactInternals;var n=ra(),i=ds(n);i.payload=t,s!=null&&(i.callback=s),t=us(e,i,n),t!==null&&(Qt(t,e,n),Ri(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=ra(),i=ds(n);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=us(e,i,n),t!==null&&(Qt(t,e,n),Ri(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ra(),n=ds(s);n.tag=2,t!=null&&(n.callback=t),t=us(e,n,s),t!==null&&(Qt(t,e,s),Ri(t,e,s))}};function bm(e,t,s,n,i,r,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,r,m):t.prototype&&t.prototype.isPureReactComponent?!Di(s,n)||!Di(i,r):!0}function Sm(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&jo.enqueueReplaceState(t,t.state,null)}function en(e,t){var s=t;if("ref"in t){s={};for(var n in t)n!=="ref"&&(s[n]=t[n])}if(e=e.defaultProps){s===t&&(s=C({},s));for(var i in e)s[i]===void 0&&(s[i]=e[i])}return s}function wm(e){Hl(e)}function Nm(e){console.error(e)}function Cm(e){Hl(e)}function or(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Tm(e,t,s){try{var n=e.onCaughtError;n(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function bo(e,t,s){return s=ds(s),s.tag=3,s.payload={element:null},s.callback=function(){or(e,t)},s}function Dm(e){return e=ds(e),e.tag=3,e}function Am(e,t,s,n){var i=s.type.getDerivedStateFromError;if(typeof i=="function"){var r=n.value;e.payload=function(){return i(r)},e.callback=function(){Tm(t,s,n)}}var m=s.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Tm(t,s,n),typeof i!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var _=n.stack;this.componentDidCatch(n.value,{componentStack:_!==null?_:""})})}function d_(e,t,s,n,i){if(s.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=s.alternate,t!==null&&kn(t,s,i,!0),s=sa.current,s!==null){switch(s.tag){case 31:case 13:return ya===null?jr():s.alternate===null&&ut===0&&(ut=3),s.flags&=-257,s.flags|=65536,s.lanes=i,n===Fl?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([n]):t.add(n),Xo(e,n,i)),!1;case 22:return s.flags|=65536,n===Fl?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([n]):s.add(n)),Xo(e,n,i)),!1}throw Error(d(435,s.tag))}return Xo(e,n,i),jr(),!1}if(Ve)return t=sa.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==Hc&&(e=Error(d(422),{cause:n}),ki(ma(e,s)))):(n!==Hc&&(t=Error(d(423),{cause:n}),ki(ma(t,s))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=ma(n,s),i=bo(e.stateNode,n,i),Kc(e,i),ut!==4&&(ut=2)),!1;var r=Error(d(520),{cause:n});if(r=ma(r,s),Fi===null?Fi=[r]:Fi.push(r),ut!==4&&(ut=2),t===null)return!0;n=ma(n,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=i&-i,s.lanes|=e,e=bo(s.stateNode,n,e),Kc(s,e),!1;case 1:if(t=s.type,r=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ys===null||!ys.has(r))))return s.flags|=65536,i&=-i,s.lanes|=i,i=Dm(i),Am(i,e,s,n),Kc(s,i),!1}s=s.return}while(s!==null);return!1}var So=Error(d(461)),gt=!1;function Et(e,t,s,n){t.child=e===null?zf(t,null,s,n):Js(t,e.child,s,n)}function Em(e,t,s,n,i){s=s.render;var r=t.ref;if("ref"in n){var m={};for(var _ in n)_!=="ref"&&(m[_]=n[_])}else m=n;return Qs(t),n=so(e,t,s,m,r,i),_=no(),e!==null&&!gt?(io(e,t,i),Pa(e,t,i)):(Ve&&_&&Uc(t),t.flags|=1,Et(e,t,n,i),t.child)}function km(e,t,s,n,i){if(e===null){var r=s.type;return typeof r=="function"&&!Mc(r)&&r.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=r,Bm(e,t,r,n,i)):(e=$l(s.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!ko(e,i)){var m=r.memoizedProps;if(s=s.compare,s=s!==null?s:Di,s(m,n)&&e.ref===t.ref)return Pa(e,t,i)}return t.flags|=1,e=Ha(r,n),e.ref=t.ref,e.return=t,t.child=e}function Bm(e,t,s,n,i){if(e!==null){var r=e.memoizedProps;if(Di(r,n)&&e.ref===t.ref)if(gt=!1,t.pendingProps=n=r,ko(e,i))(e.flags&131072)!==0&&(gt=!0);else return t.lanes=e.lanes,Pa(e,t,i)}return wo(e,t,s,n,i)}function zm(e,t,s,n){var i=n.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|s:s,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~r}else n=0,t.child=null;return Lm(e,t,r,s,n)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ql(t,r!==null?r.cachePool:null),r!==null?Rf(t,r):Wc(),Of(t);else return n=t.lanes=536870912,Lm(e,t,r!==null?r.baseLanes|s:s,s,n)}else r!==null?(Ql(t,r.cachePool),Rf(t,r),ms(),t.memoizedState=null):(e!==null&&Ql(t,null),Wc(),ms());return Et(e,t,i,s),t.child}function Gi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Lm(e,t,s,n,i){var r=Xc();return r=r===null?null:{parent:ht._currentValue,pool:r},t.memoizedState={baseLanes:s,cachePool:r},e!==null&&Ql(t,null),Wc(),Of(t),e!==null&&kn(e,t,n,!0),t.childLanes=i,null}function dr(e,t){return t=fr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Mm(e,t,s){return Js(t,e.child,null,s),e=dr(t,t.pendingProps),e.flags|=2,na(t),t.memoizedState=null,e}function u_(e,t,s){var n=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ve){if(n.mode==="hidden")return e=dr(t,n),t.lanes=536870912,Gi(null,e);if(to(t),(e=nt)?(e=Xh(e,ga),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:is!==null?{id:Da,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},s=_f(e),s.return=t,t.child=s,Dt=t,nt=null)):e=null,e===null)throw rs(t);return t.lanes=536870912,null}return dr(t,n)}var r=e.memoizedState;if(r!==null){var m=r.dehydrated;if(to(t),i)if(t.flags&256)t.flags&=-257,t=Mm(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(gt||kn(e,t,s,!1),i=(s&e.childLanes)!==0,gt||i){if(n=at,n!==null&&(m=wu(n,s),m!==0&&m!==r.retryLane))throw r.retryLane=m,$s(e,m),Qt(n,e,m),So;jr(),t=Mm(e,t,s)}else e=r.treeContext,nt=_a(m.nextSibling),Dt=t,Ve=!0,ls=null,ga=!1,e!==null&&jf(t,e),t=dr(t,n),t.flags|=4096;return t}return e=Ha(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ur(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(d(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function wo(e,t,s,n,i){return Qs(t),s=so(e,t,s,n,void 0,i),n=no(),e!==null&&!gt?(io(e,t,i),Pa(e,t,i)):(Ve&&n&&Uc(t),t.flags|=1,Et(e,t,s,i),t.child)}function Rm(e,t,s,n,i,r){return Qs(t),t.updateQueue=null,s=If(t,n,s,i),Uf(e),n=no(),e!==null&&!gt?(io(e,t,r),Pa(e,t,r)):(Ve&&n&&Uc(t),t.flags|=1,Et(e,t,s,r),t.child)}function Om(e,t,s,n,i){if(Qs(t),t.stateNode===null){var r=Tn,m=s.contextType;typeof m=="object"&&m!==null&&(r=At(m)),r=new s(n,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=jo,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=n,r.state=t.memoizedState,r.refs={},Zc(t),m=s.contextType,r.context=typeof m=="object"&&m!==null?At(m):Tn,r.state=t.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(xo(t,s,m,n),r.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(m=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),m!==r.state&&jo.enqueueReplaceState(r,r.state,null),Ui(t,n,r,i),Oi(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){r=t.stateNode;var _=t.memoizedProps,T=en(s,_);r.props=T;var $=r.context,J=s.contextType;m=Tn,typeof J=="object"&&J!==null&&(m=At(J));var ne=s.getDerivedStateFromProps;J=typeof ne=="function"||typeof r.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,J||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(_||$!==m)&&Sm(t,r,n,m),os=!1;var X=t.memoizedState;r.state=X,Ui(t,n,r,i),Oi(),$=t.memoizedState,_||X!==$||os?(typeof ne=="function"&&(xo(t,s,ne,n),$=t.memoizedState),(T=os||bm(t,s,T,n,X,$,m))?(J||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=$),r.props=n,r.state=$,r.context=m,n=T):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{r=t.stateNode,Fc(e,t),m=t.memoizedProps,J=en(s,m),r.props=J,ne=t.pendingProps,X=r.context,$=s.contextType,T=Tn,typeof $=="object"&&$!==null&&(T=At($)),_=s.getDerivedStateFromProps,($=typeof _=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(m!==ne||X!==T)&&Sm(t,r,n,T),os=!1,X=t.memoizedState,r.state=X,Ui(t,n,r,i),Oi();var F=t.memoizedState;m!==ne||X!==F||os||e!==null&&e.dependencies!==null&&Pl(e.dependencies)?(typeof _=="function"&&(xo(t,s,_,n),F=t.memoizedState),(J=os||bm(t,s,J,n,X,F,T)||e!==null&&e.dependencies!==null&&Pl(e.dependencies))?($||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(n,F,T),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(n,F,T)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||m===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=F),r.props=n,r.state=F,r.context=T,n=J):(typeof r.componentDidUpdate!="function"||m===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),n=!1)}return r=n,ur(e,t),n=(t.flags&128)!==0,r||n?(r=t.stateNode,s=n&&typeof s.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&n?(t.child=Js(t,e.child,null,i),t.child=Js(t,null,s,i)):Et(e,t,s,i),t.memoizedState=r.state,e=t.child):e=Pa(e,t,i),e}function Um(e,t,s,n){return Ps(),t.flags|=256,Et(e,t,s,n),t.child}var No={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Co(e){return{baseLanes:e,cachePool:Tf()}}function To(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=la),e}function Im(e,t,s){var n=t.pendingProps,i=!1,r=(t.flags&128)!==0,m;if((m=r)||(m=e!==null&&e.memoizedState===null?!1:(ft.current&2)!==0),m&&(i=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ve){if(i?fs(t):ms(),(e=nt)?(e=Xh(e,ga),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:is!==null?{id:Da,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},s=_f(e),s.return=t,t.child=s,Dt=t,nt=null)):e=null,e===null)throw rs(t);return od(e)?t.lanes=32:t.lanes=536870912,null}var _=n.children;return n=n.fallback,i?(ms(),i=t.mode,_=fr({mode:"hidden",children:_},i),n=Ys(n,i,s,null),_.return=t,n.return=t,_.sibling=n,t.child=_,n=t.child,n.memoizedState=Co(s),n.childLanes=To(e,m,s),t.memoizedState=No,Gi(null,n)):(fs(t),Do(t,_))}var T=e.memoizedState;if(T!==null&&(_=T.dehydrated,_!==null)){if(r)t.flags&256?(fs(t),t.flags&=-257,t=Ao(e,t,s)):t.memoizedState!==null?(ms(),t.child=e.child,t.flags|=128,t=null):(ms(),_=n.fallback,i=t.mode,n=fr({mode:"visible",children:n.children},i),_=Ys(_,i,s,null),_.flags|=2,n.return=t,_.return=t,n.sibling=_,t.child=n,Js(t,e.child,null,s),n=t.child,n.memoizedState=Co(s),n.childLanes=To(e,m,s),t.memoizedState=No,t=Gi(null,n));else if(fs(t),od(_)){if(m=_.nextSibling&&_.nextSibling.dataset,m)var $=m.dgst;m=$,n=Error(d(419)),n.stack="",n.digest=m,ki({value:n,source:null,stack:null}),t=Ao(e,t,s)}else if(gt||kn(e,t,s,!1),m=(s&e.childLanes)!==0,gt||m){if(m=at,m!==null&&(n=wu(m,s),n!==0&&n!==T.retryLane))throw T.retryLane=n,$s(e,n),Qt(m,e,n),So;cd(_)||jr(),t=Ao(e,t,s)}else cd(_)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,nt=_a(_.nextSibling),Dt=t,Ve=!0,ls=null,ga=!1,e!==null&&jf(t,e),t=Do(t,n.children),t.flags|=4096);return t}return i?(ms(),_=n.fallback,i=t.mode,T=e.child,$=T.sibling,n=Ha(T,{mode:"hidden",children:n.children}),n.subtreeFlags=T.subtreeFlags&65011712,$!==null?_=Ha($,_):(_=Ys(_,i,s,null),_.flags|=2),_.return=t,n.return=t,n.sibling=_,t.child=n,Gi(null,n),n=t.child,_=e.child.memoizedState,_===null?_=Co(s):(i=_.cachePool,i!==null?(T=ht._currentValue,i=i.parent!==T?{parent:T,pool:T}:i):i=Tf(),_={baseLanes:_.baseLanes|s,cachePool:i}),n.memoizedState=_,n.childLanes=To(e,m,s),t.memoizedState=No,Gi(e.child,n)):(fs(t),s=e.child,e=s.sibling,s=Ha(s,{mode:"visible",children:n.children}),s.return=t,s.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=s,t.memoizedState=null,s)}function Do(e,t){return t=fr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function fr(e,t){return e=aa(22,e,null,t),e.lanes=0,e}function Ao(e,t,s){return Js(t,e.child,null,s),e=Do(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hm(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Gc(e.return,t,s)}function Eo(e,t,s,n,i,r){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i,treeForkCount:r}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=n,m.tail=s,m.tailMode=i,m.treeForkCount=r)}function qm(e,t,s){var n=t.pendingProps,i=n.revealOrder,r=n.tail;n=n.children;var m=ft.current,_=(m&2)!==0;if(_?(m=m&1|2,t.flags|=128):m&=1,xe(ft,m),Et(e,t,n,s),n=Ve?Ei:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hm(e,s,t);else if(e.tag===19)Hm(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&er(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),Eo(t,!1,i,s,r,n);break;case"backwards":case"unstable_legacy-backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&er(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}Eo(t,!0,s,null,r,n);break;case"together":Eo(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Pa(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),gs|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(kn(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,s=Ha(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Ha(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function ko(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Pl(e)))}function f_(e,t,s){switch(t.tag){case 3:ve(t,t.stateNode.containerInfo),cs(t,ht,e.memoizedState.cache),Ps();break;case 27:case 5:bt(t);break;case 4:ve(t,t.stateNode.containerInfo);break;case 10:cs(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,to(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(fs(t),t.flags|=128,null):(s&t.child.childLanes)!==0?Im(e,t,s):(fs(t),e=Pa(e,t,s),e!==null?e.sibling:null);fs(t);break;case 19:var i=(e.flags&128)!==0;if(n=(s&t.childLanes)!==0,n||(kn(e,t,s,!1),n=(s&t.childLanes)!==0),i){if(n)return qm(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(ft,ft.current),n)break;return null;case 22:return t.lanes=0,zm(e,t,s,t.pendingProps);case 24:cs(t,ht,e.memoizedState.cache)}return Pa(e,t,s)}function Vm(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)gt=!0;else{if(!ko(e,s)&&(t.flags&128)===0)return gt=!1,f_(e,t,s);gt=(e.flags&131072)!==0}else gt=!1,Ve&&(t.flags&1048576)!==0&&xf(t,Ei,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Fs(t.elementType),t.type=e,typeof e=="function")Mc(e)?(n=en(e,n),t.tag=1,t=Om(null,t,e,n,s)):(t.tag=0,t=wo(null,t,e,n,s));else{if(e!=null){var i=e.$$typeof;if(i===x){t.tag=11,t=Em(null,t,e,n,s);break e}else if(i===R){t.tag=14,t=km(null,t,e,n,s);break e}}throw t=q(e)||e,Error(d(306,t,""))}}return t;case 0:return wo(e,t,t.type,t.pendingProps,s);case 1:return n=t.type,i=en(n,t.pendingProps),Om(e,t,n,i,s);case 3:e:{if(ve(t,t.stateNode.containerInfo),e===null)throw Error(d(387));n=t.pendingProps;var r=t.memoizedState;i=r.element,Fc(e,t),Ui(t,n,null,s);var m=t.memoizedState;if(n=m.cache,cs(t,ht,n),n!==r.cache&&$c(t,[ht],s,!0),Oi(),n=m.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Um(e,t,n,s);break e}else if(n!==i){i=ma(Error(d(424)),t),ki(i),t=Um(e,t,n,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(nt=_a(e.firstChild),Dt=t,Ve=!0,ls=null,ga=!0,s=zf(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ps(),n===i){t=Pa(e,t,s);break e}Et(e,t,n,s)}t=t.child}return t;case 26:return ur(e,t),e===null?(s=Wh(t.type,null,t.pendingProps,null))?t.memoizedState=s:Ve||(s=t.type,e=t.pendingProps,n=Dr(ie.current).createElement(s),n[Tt]=t,n[Vt]=e,kt(n,s,e),St(n),t.stateNode=n):t.memoizedState=Wh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return bt(t),e===null&&Ve&&(n=t.stateNode=Fh(t.type,t.pendingProps,ie.current),Dt=t,ga=!0,i=nt,js(t.type)?(dd=i,nt=_a(n.firstChild)):nt=i),Et(e,t,t.pendingProps.children,s),ur(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ve&&((i=n=nt)&&(n=V_(n,t.type,t.pendingProps,ga),n!==null?(t.stateNode=n,Dt=t,nt=_a(n.firstChild),ga=!1,i=!0):i=!1),i||rs(t)),bt(t),i=t.type,r=t.pendingProps,m=e!==null?e.memoizedProps:null,n=r.children,id(i,r)?n=null:m!==null&&id(i,m)&&(t.flags|=32),t.memoizedState!==null&&(i=so(e,t,s_,null,null,s),nl._currentValue=i),ur(e,t),Et(e,t,n,s),t.child;case 6:return e===null&&Ve&&((e=s=nt)&&(s=G_(s,t.pendingProps,ga),s!==null?(t.stateNode=s,Dt=t,nt=null,e=!0):e=!1),e||rs(t)),null;case 13:return Im(e,t,s);case 4:return ve(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Js(t,null,n,s):Et(e,t,n,s),t.child;case 11:return Em(e,t,t.type,t.pendingProps,s);case 7:return Et(e,t,t.pendingProps,s),t.child;case 8:return Et(e,t,t.pendingProps.children,s),t.child;case 12:return Et(e,t,t.pendingProps.children,s),t.child;case 10:return n=t.pendingProps,cs(t,t.type,n.value),Et(e,t,n.children,s),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,Qs(t),i=At(i),n=n(i),t.flags|=1,Et(e,t,n,s),t.child;case 14:return km(e,t,t.type,t.pendingProps,s);case 15:return Bm(e,t,t.type,t.pendingProps,s);case 19:return qm(e,t,s);case 31:return u_(e,t,s);case 22:return zm(e,t,s,t.pendingProps);case 24:return Qs(t),n=At(ht),e===null?(i=Xc(),i===null&&(i=at,r=Yc(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=s),i=r),t.memoizedState={parent:n,cache:i},Zc(t),cs(t,ht,i)):((e.lanes&s)!==0&&(Fc(e,t),Ui(t,null,null,s),Oi()),i=e.memoizedState,r=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),cs(t,ht,n)):(n=r.cache,cs(t,ht,n),n!==i.cache&&$c(t,[ht],s,!0))),Et(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function Xa(e){e.flags|=4}function Bo(e,t,s,n,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(ph())e.flags|=8192;else throw Ks=Fl,Qc}else e.flags&=-16777217}function Gm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!np(t))if(ph())e.flags|=8192;else throw Ks=Fl,Qc}function mr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ju():536870912,e.lanes|=t,Gn|=t)}function $i(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function m_(e,t,s){var n=t.pendingProps;switch(Ic(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return it(t),null;case 3:return s=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ga(ht),ot(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(En(t)?Xa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,qc())),it(t),null;case 26:var i=t.type,r=t.memoizedState;return e===null?(Xa(t),r!==null?(it(t),Gm(t,r)):(it(t),Bo(t,i,null,n,s))):r?r!==e.memoizedState?(Xa(t),it(t),Gm(t,r)):(it(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Xa(t),it(t),Bo(t,i,e,n,s)),null;case 27:if(oe(t),s=ie.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Xa(t);else{if(!n){if(t.stateNode===null)throw Error(d(166));return it(t),null}e=Me.current,En(t)?bf(t):(e=Fh(i,n,s),t.stateNode=e,Xa(t))}return it(t),null;case 5:if(oe(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Xa(t);else{if(!n){if(t.stateNode===null)throw Error(d(166));return it(t),null}if(r=Me.current,En(t))bf(t);else{var m=Dr(ie.current);switch(r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof n.is=="string"?m.createElement("select",{is:n.is}):m.createElement("select"),n.multiple?r.multiple=!0:n.size&&(r.size=n.size);break;default:r=typeof n.is=="string"?m.createElement(i,{is:n.is}):m.createElement(i)}}r[Tt]=t,r[Vt]=n;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=r;e:switch(kt(r,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Xa(t)}}return it(t),Bo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Xa(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(d(166));if(e=ie.current,En(t)){if(e=t.stateNode,s=t.memoizedProps,n=null,i=Dt,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[Tt]=t,e=!!(e.nodeValue===s||n!==null&&n.suppressHydrationWarning===!0||Ih(e.nodeValue,s)),e||rs(t,!0)}else e=Dr(e).createTextNode(n),e[Tt]=t,t.stateNode=e}return it(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(n=En(t),s!==null){if(e===null){if(!n)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[Tt]=t}else Ps(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),e=!1}else s=qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(na(t),t):(na(t),null);if((t.flags&128)!==0)throw Error(d(558))}return it(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=En(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(d(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));i[Tt]=t}else Ps(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),i=!1}else i=qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(na(t),t):(na(t),null)}return na(t),(t.flags&128)!==0?(t.lanes=s,t):(s=n!==null,e=e!==null&&e.memoizedState!==null,s&&(n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==i&&(n.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),mr(t,t.updateQueue),it(t),null);case 4:return ot(),e===null&&ed(t.stateNode.containerInfo),it(t),null;case 10:return Ga(t.type),it(t),null;case 19:if(Se(ft),n=t.memoizedState,n===null)return it(t),null;if(i=(t.flags&128)!==0,r=n.rendering,r===null)if(i)$i(n,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=er(e),r!==null){for(t.flags|=128,$i(n,!1),e=r.updateQueue,t.updateQueue=e,mr(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)yf(s,e),s=s.sibling;return xe(ft,ft.current&1|2),Ve&&qa(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Rt()>_r&&(t.flags|=128,i=!0,$i(n,!1),t.lanes=4194304)}else{if(!i)if(e=er(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,mr(t,e),$i(n,!0),n.tail===null&&n.tailMode==="hidden"&&!r.alternate&&!Ve)return it(t),null}else 2*Rt()-n.renderingStartTime>_r&&s!==536870912&&(t.flags|=128,i=!0,$i(n,!1),t.lanes=4194304);n.isBackwards?(r.sibling=t.child,t.child=r):(e=n.last,e!==null?e.sibling=r:t.child=r,n.last=r)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Rt(),e.sibling=null,s=ft.current,xe(ft,i?s&1|2:s&1),Ve&&qa(t,n.treeForkCount),e):(it(t),null);case 22:case 23:return na(t),eo(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(s&536870912)!==0&&(t.flags&128)===0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),s=t.updateQueue,s!==null&&mr(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==s&&(t.flags|=2048),e!==null&&Se(Zs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Ga(ht),it(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function h_(e,t){switch(Ic(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ga(ht),ot(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return oe(t),null;case 31:if(t.memoizedState!==null){if(na(t),t.alternate===null)throw Error(d(340));Ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(na(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));Ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(ft),null;case 4:return ot(),null;case 10:return Ga(t.type),null;case 22:case 23:return na(t),eo(),e!==null&&Se(Zs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ga(ht),null;case 25:return null;default:return null}}function $m(e,t){switch(Ic(t),t.tag){case 3:Ga(ht),ot();break;case 26:case 27:case 5:oe(t);break;case 4:ot();break;case 31:t.memoizedState!==null&&na(t);break;case 13:na(t);break;case 19:Se(ft);break;case 10:Ga(t.type);break;case 22:case 23:na(t),eo(),e!==null&&Se(Zs);break;case 24:Ga(ht)}}function Yi(e,t){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var i=n.next;s=i;do{if((s.tag&e)===e){n=void 0;var r=s.create,m=s.inst;n=r(),m.destroy=n}s=s.next}while(s!==i)}}catch(_){Je(t,t.return,_)}}function hs(e,t,s){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){var m=n.inst,_=m.destroy;if(_!==void 0){m.destroy=void 0,i=t;var T=s,$=_;try{$()}catch(J){Je(i,T,J)}}}n=n.next}while(n!==r)}}catch(J){Je(t,t.return,J)}}function Ym(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{Mf(t,s)}catch(n){Je(e,e.return,n)}}}function Pm(e,t,s){s.props=en(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(n){Je(e,t,n)}}function Pi(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof s=="function"?e.refCleanup=s(n):s.current=n}}catch(i){Je(e,t,i)}}function Ea(e,t){var s=e.ref,n=e.refCleanup;if(s!==null)if(typeof n=="function")try{n()}catch(i){Je(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(i){Je(e,t,i)}else s.current=null}function Xm(e){var t=e.type,s=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break e;case"img":s.src?n.src=s.src:s.srcSet&&(n.srcset=s.srcSet)}}catch(i){Je(e,e.return,i)}}function zo(e,t,s){try{var n=e.stateNode;R_(n,e.type,s,t),n[Vt]=t}catch(i){Je(e,e.return,i)}}function Qm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&js(e.type)||e.tag===4}function Lo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&js(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mo(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Ua));else if(n!==4&&(n===27&&js(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(Mo(e,t,s),e=e.sibling;e!==null;)Mo(e,t,s),e=e.sibling}function hr(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(n===27&&js(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(hr(e,t,s),e=e.sibling;e!==null;)hr(e,t,s),e=e.sibling}function Zm(e){var t=e.stateNode,s=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);kt(t,n,s),t[Tt]=e,t[Vt]=s}catch(r){Je(e,e.return,r)}}var Qa=!1,yt=!1,Ro=!1,Fm=typeof WeakSet=="function"?WeakSet:Set,wt=null;function p_(e,t){if(e=e.containerInfo,sd=Mr,e=cf(e),Dc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{s.nodeType,r.nodeType}catch{s=null;break e}var m=0,_=-1,T=-1,$=0,J=0,ne=e,X=null;t:for(;;){for(var F;ne!==s||i!==0&&ne.nodeType!==3||(_=m+i),ne!==r||n!==0&&ne.nodeType!==3||(T=m+n),ne.nodeType===3&&(m+=ne.nodeValue.length),(F=ne.firstChild)!==null;)X=ne,ne=F;for(;;){if(ne===e)break t;if(X===s&&++$===i&&(_=m),X===r&&++J===n&&(T=m),(F=ne.nextSibling)!==null)break;ne=X,X=ne.parentNode}ne=F}s=_===-1||T===-1?null:{start:_,end:T}}else s=null}s=s||{start:0,end:0}}else s=null;for(nd={focusedElem:e,selectionRange:s},Mr=!1,wt=t;wt!==null;)if(t=wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,wt=e;else for(;wt!==null;){switch(t=wt,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)i=e[s],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,s=t,i=r.memoizedProps,r=r.memoizedState,n=s.stateNode;try{var pe=en(s.type,i);e=n.getSnapshotBeforeUpdate(pe,r),n.__reactInternalSnapshotBeforeUpdate=e}catch(be){Je(s,s.return,be)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)rd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,wt=e;break}wt=t.return}}function Km(e,t,s){var n=s.flags;switch(s.tag){case 0:case 11:case 15:Fa(e,s),n&4&&Yi(5,s);break;case 1:if(Fa(e,s),n&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(m){Je(s,s.return,m)}else{var i=en(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Je(s,s.return,m)}}n&64&&Ym(s),n&512&&Pi(s,s.return);break;case 3:if(Fa(e,s),n&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Mf(e,t)}catch(m){Je(s,s.return,m)}}break;case 27:t===null&&n&4&&Zm(s);case 26:case 5:Fa(e,s),t===null&&n&4&&Xm(s),n&512&&Pi(s,s.return);break;case 12:Fa(e,s);break;case 31:Fa(e,s),n&4&&eh(e,s);break;case 13:Fa(e,s),n&4&&th(e,s),n&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=w_.bind(null,s),$_(e,s))));break;case 22:if(n=s.memoizedState!==null||Qa,!n){t=t!==null&&t.memoizedState!==null||yt,i=Qa;var r=yt;Qa=n,(yt=t)&&!r?Ka(e,s,(s.subtreeFlags&8772)!==0):Fa(e,s),Qa=i,yt=r}break;case 30:break;default:Fa(e,s)}}function Jm(e){var t=e.alternate;t!==null&&(e.alternate=null,Jm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&uc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var lt=null,$t=!1;function Za(e,t,s){for(s=s.child;s!==null;)Wm(e,t,s),s=s.sibling}function Wm(e,t,s){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(rt,s)}catch{}switch(s.tag){case 26:yt||Ea(s,t),Za(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:yt||Ea(s,t);var n=lt,i=$t;js(s.type)&&(lt=s.stateNode,$t=!1),Za(e,t,s),tl(s.stateNode),lt=n,$t=i;break;case 5:yt||Ea(s,t);case 6:if(n=lt,i=$t,lt=null,Za(e,t,s),lt=n,$t=i,lt!==null)if($t)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(s.stateNode)}catch(r){Je(s,t,r)}else try{lt.removeChild(s.stateNode)}catch(r){Je(s,t,r)}break;case 18:lt!==null&&($t?(e=lt,Yh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Kn(e)):Yh(lt,s.stateNode));break;case 4:n=lt,i=$t,lt=s.stateNode.containerInfo,$t=!0,Za(e,t,s),lt=n,$t=i;break;case 0:case 11:case 14:case 15:hs(2,s,t),yt||hs(4,s,t),Za(e,t,s);break;case 1:yt||(Ea(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"&&Pm(s,t,n)),Za(e,t,s);break;case 21:Za(e,t,s);break;case 22:yt=(n=yt)||s.memoizedState!==null,Za(e,t,s),yt=n;break;default:Za(e,t,s)}}function eh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Kn(e)}catch(s){Je(t,t.return,s)}}}function th(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Kn(e)}catch(s){Je(t,t.return,s)}}function g_(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Fm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Fm),t;default:throw Error(d(435,e.tag))}}function pr(e,t){var s=g_(e);t.forEach(function(n){if(!s.has(n)){s.add(n);var i=N_.bind(null,e,n);n.then(i,i)}})}function Yt(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n],r=e,m=t,_=m;e:for(;_!==null;){switch(_.tag){case 27:if(js(_.type)){lt=_.stateNode,$t=!1;break e}break;case 5:lt=_.stateNode,$t=!1;break e;case 3:case 4:lt=_.stateNode.containerInfo,$t=!0;break e}_=_.return}if(lt===null)throw Error(d(160));Wm(r,m,i),lt=null,$t=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ah(t,e),t=t.sibling}var Sa=null;function ah(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yt(t,e),Pt(e),n&4&&(hs(3,e,e.return),Yi(3,e),hs(5,e,e.return));break;case 1:Yt(t,e),Pt(e),n&512&&(yt||s===null||Ea(s,s.return)),n&64&&Qa&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?n:s.concat(n))));break;case 26:var i=Sa;if(Yt(t,e),Pt(e),n&512&&(yt||s===null||Ea(s,s.return)),n&4){var r=s!==null?s.memoizedState:null;if(n=e.memoizedState,s===null)if(n===null)if(e.stateNode===null){e:{n=e.type,s=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":r=i.getElementsByTagName("title")[0],(!r||r[vi]||r[Tt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(n),i.head.insertBefore(r,i.querySelector("head > title"))),kt(r,n,s),r[Tt]=e,St(r),n=r;break e;case"link":var m=ap("link","href",i).get(n+(s.href||""));if(m){for(var _=0;_<m.length;_++)if(r=m[_],r.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&r.getAttribute("rel")===(s.rel==null?null:s.rel)&&r.getAttribute("title")===(s.title==null?null:s.title)&&r.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){m.splice(_,1);break t}}r=i.createElement(n),kt(r,n,s),i.head.appendChild(r);break;case"meta":if(m=ap("meta","content",i).get(n+(s.content||""))){for(_=0;_<m.length;_++)if(r=m[_],r.getAttribute("content")===(s.content==null?null:""+s.content)&&r.getAttribute("name")===(s.name==null?null:s.name)&&r.getAttribute("property")===(s.property==null?null:s.property)&&r.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&r.getAttribute("charset")===(s.charSet==null?null:s.charSet)){m.splice(_,1);break t}}r=i.createElement(n),kt(r,n,s),i.head.appendChild(r);break;default:throw Error(d(468,n))}r[Tt]=e,St(r),n=r}e.stateNode=n}else sp(i,e.type,e.stateNode);else e.stateNode=tp(i,n,e.memoizedProps);else r!==n?(r===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):r.count--,n===null?sp(i,e.type,e.stateNode):tp(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&zo(e,e.memoizedProps,s.memoizedProps)}break;case 27:Yt(t,e),Pt(e),n&512&&(yt||s===null||Ea(s,s.return)),s!==null&&n&4&&zo(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Yt(t,e),Pt(e),n&512&&(yt||s===null||Ea(s,s.return)),e.flags&32){i=e.stateNode;try{xn(i,"")}catch(pe){Je(e,e.return,pe)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,zo(e,i,s!==null?s.memoizedProps:i)),n&1024&&(Ro=!0);break;case 6:if(Yt(t,e),Pt(e),n&4){if(e.stateNode===null)throw Error(d(162));n=e.memoizedProps,s=e.stateNode;try{s.nodeValue=n}catch(pe){Je(e,e.return,pe)}}break;case 3:if(kr=null,i=Sa,Sa=Ar(t.containerInfo),Yt(t,e),Sa=i,Pt(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Kn(t.containerInfo)}catch(pe){Je(e,e.return,pe)}Ro&&(Ro=!1,sh(e));break;case 4:n=Sa,Sa=Ar(e.stateNode.containerInfo),Yt(t,e),Pt(e),Sa=n;break;case 12:Yt(t,e),Pt(e);break;case 31:Yt(t,e),Pt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,pr(e,n)));break;case 13:Yt(t,e),Pt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(yr=Rt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,pr(e,n)));break;case 22:i=e.memoizedState!==null;var T=s!==null&&s.memoizedState!==null,$=Qa,J=yt;if(Qa=$||i,yt=J||T,Yt(t,e),yt=J,Qa=$,Pt(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(s===null||T||Qa||yt||tn(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){T=s=t;try{if(r=T.stateNode,i)m=r.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=T.stateNode;var ne=T.memoizedProps.style,X=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;_.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){Je(T,T.return,pe)}}}else if(t.tag===6){if(s===null){T=t;try{T.stateNode.nodeValue=i?"":T.memoizedProps}catch(pe){Je(T,T.return,pe)}}}else if(t.tag===18){if(s===null){T=t;try{var F=T.stateNode;i?Ph(F,!0):Ph(T.stateNode,!1)}catch(pe){Je(T,T.return,pe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(s=n.retryQueue,s!==null&&(n.retryQueue=null,pr(e,s))));break;case 19:Yt(t,e),Pt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,pr(e,n)));break;case 30:break;case 21:break;default:Yt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{for(var s,n=e.return;n!==null;){if(Qm(n)){s=n;break}n=n.return}if(s==null)throw Error(d(160));switch(s.tag){case 27:var i=s.stateNode,r=Lo(e);hr(e,r,i);break;case 5:var m=s.stateNode;s.flags&32&&(xn(m,""),s.flags&=-33);var _=Lo(e);hr(e,_,m);break;case 3:case 4:var T=s.stateNode.containerInfo,$=Lo(e);Mo(e,$,T);break;default:throw Error(d(161))}}catch(J){Je(e,e.return,J)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;sh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Km(e,t.alternate,t),t=t.sibling}function tn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:hs(4,t,t.return),tn(t);break;case 1:Ea(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Pm(t,t.return,s),tn(t);break;case 27:tl(t.stateNode);case 26:case 5:Ea(t,t.return),tn(t);break;case 22:t.memoizedState===null&&tn(t);break;case 30:tn(t);break;default:tn(t)}e=e.sibling}}function Ka(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,r=t,m=r.flags;switch(r.tag){case 0:case 11:case 15:Ka(i,r,s),Yi(4,r);break;case 1:if(Ka(i,r,s),n=r,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch($){Je(n,n.return,$)}if(n=r,i=n.updateQueue,i!==null){var _=n.stateNode;try{var T=i.shared.hiddenCallbacks;if(T!==null)for(i.shared.hiddenCallbacks=null,i=0;i<T.length;i++)Lf(T[i],_)}catch($){Je(n,n.return,$)}}s&&m&64&&Ym(r),Pi(r,r.return);break;case 27:Zm(r);case 26:case 5:Ka(i,r,s),s&&n===null&&m&4&&Xm(r),Pi(r,r.return);break;case 12:Ka(i,r,s);break;case 31:Ka(i,r,s),s&&m&4&&eh(i,r);break;case 13:Ka(i,r,s),s&&m&4&&th(i,r);break;case 22:r.memoizedState===null&&Ka(i,r,s),Pi(r,r.return);break;case 30:break;default:Ka(i,r,s)}t=t.sibling}}function Oo(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Bi(s))}function Uo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Bi(e))}function wa(e,t,s,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)nh(e,t,s,n),t=t.sibling}function nh(e,t,s,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:wa(e,t,s,n),i&2048&&Yi(9,t);break;case 1:wa(e,t,s,n);break;case 3:wa(e,t,s,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Bi(e)));break;case 12:if(i&2048){wa(e,t,s,n),e=t.stateNode;try{var r=t.memoizedProps,m=r.id,_=r.onPostCommit;typeof _=="function"&&_(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Je(t,t.return,T)}}else wa(e,t,s,n);break;case 31:wa(e,t,s,n);break;case 13:wa(e,t,s,n);break;case 23:break;case 22:r=t.stateNode,m=t.alternate,t.memoizedState!==null?r._visibility&2?wa(e,t,s,n):Xi(e,t):r._visibility&2?wa(e,t,s,n):(r._visibility|=2,Hn(e,t,s,n,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Oo(m,t);break;case 24:wa(e,t,s,n),i&2048&&Uo(t.alternate,t);break;default:wa(e,t,s,n)}}function Hn(e,t,s,n,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,m=t,_=s,T=n,$=m.flags;switch(m.tag){case 0:case 11:case 15:Hn(r,m,_,T,i),Yi(8,m);break;case 23:break;case 22:var J=m.stateNode;m.memoizedState!==null?J._visibility&2?Hn(r,m,_,T,i):Xi(r,m):(J._visibility|=2,Hn(r,m,_,T,i)),i&&$&2048&&Oo(m.alternate,m);break;case 24:Hn(r,m,_,T,i),i&&$&2048&&Uo(m.alternate,m);break;default:Hn(r,m,_,T,i)}t=t.sibling}}function Xi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,n=t,i=n.flags;switch(n.tag){case 22:Xi(s,n),i&2048&&Oo(n.alternate,n);break;case 24:Xi(s,n),i&2048&&Uo(n.alternate,n);break;default:Xi(s,n)}t=t.sibling}}var Qi=8192;function qn(e,t,s){if(e.subtreeFlags&Qi)for(e=e.child;e!==null;)ih(e,t,s),e=e.sibling}function ih(e,t,s){switch(e.tag){case 26:qn(e,t,s),e.flags&Qi&&e.memoizedState!==null&&av(s,Sa,e.memoizedState,e.memoizedProps);break;case 5:qn(e,t,s);break;case 3:case 4:var n=Sa;Sa=Ar(e.stateNode.containerInfo),qn(e,t,s),Sa=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Qi,Qi=16777216,qn(e,t,s),Qi=n):qn(e,t,s));break;default:qn(e,t,s)}}function lh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Zi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var n=t[s];wt=n,ch(n,e)}lh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rh(e),e=e.sibling}function rh(e){switch(e.tag){case 0:case 11:case 15:Zi(e),e.flags&2048&&hs(9,e,e.return);break;case 3:Zi(e);break;case 12:Zi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,gr(e)):Zi(e);break;default:Zi(e)}}function gr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var n=t[s];wt=n,ch(n,e)}lh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:hs(8,t,t.return),gr(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,gr(t));break;default:gr(t)}e=e.sibling}}function ch(e,t){for(;wt!==null;){var s=wt;switch(s.tag){case 0:case 11:case 15:hs(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var n=s.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Bi(s.memoizedState.cache)}if(n=s.child,n!==null)n.return=s,wt=n;else e:for(s=e;wt!==null;){n=wt;var i=n.sibling,r=n.return;if(Jm(n),n===s){wt=null;break e}if(i!==null){i.return=r,wt=i;break e}wt=r}}}var y_={getCacheForType:function(e){var t=At(ht),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return At(ht).controller.signal}},__=typeof WeakMap=="function"?WeakMap:Map,Ze=0,at=null,Oe=null,Ie=0,Ke=0,ia=null,ps=!1,Vn=!1,Io=!1,Ja=0,ut=0,gs=0,an=0,Ho=0,la=0,Gn=0,Fi=null,Xt=null,qo=!1,yr=0,oh=0,_r=1/0,vr=null,ys=null,xt=0,_s=null,$n=null,Wa=0,Vo=0,Go=null,dh=null,Ki=0,$o=null;function ra(){return(Ze&2)!==0&&Ie!==0?Ie&-Ie:z.T!==null?Fo():Nu()}function uh(){if(la===0)if((Ie&536870912)===0||Ve){var e=Tl;Tl<<=1,(Tl&3932160)===0&&(Tl=262144),la=e}else la=536870912;return e=sa.current,e!==null&&(e.flags|=32),la}function Qt(e,t,s){(e===at&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(Yn(e,0),vs(e,Ie,la,!1)),_i(e,s),((Ze&2)===0||e!==at)&&(e===at&&((Ze&2)===0&&(an|=s),ut===4&&vs(e,Ie,la,!1)),ka(e))}function fh(e,t,s){if((Ze&6)!==0)throw Error(d(327));var n=!s&&(t&127)===0&&(t&e.expiredLanes)===0||yi(e,t),i=n?j_(e,t):Po(e,t,!0),r=n;do{if(i===0){Vn&&!n&&vs(e,t,0,!1);break}else{if(s=e.current.alternate,r&&!v_(s)){i=Po(e,t,!1),r=!1;continue}if(i===2){if(r=t,e.errorRecoveryDisabledLanes&r)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var _=e;i=Fi;var T=_.current.memoizedState.isDehydrated;if(T&&(Yn(_,m).flags|=256),m=Po(_,m,!1),m!==2){if(Io&&!T){_.errorRecoveryDisabledLanes|=r,an|=r,i=4;break e}r=Xt,Xt=i,r!==null&&(Xt===null?Xt=r:Xt.push.apply(Xt,r))}i=m}if(r=!1,i!==2)continue}}if(i===1){Yn(e,0),vs(e,t,0,!0);break}e:{switch(n=e,r=i,r){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:vs(n,t,la,!ps);break e;case 2:Xt=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(i=yr+300-Rt(),10<i)){if(vs(n,t,la,!ps),Al(n,0,!0)!==0)break e;Wa=t,n.timeoutHandle=Gh(mh.bind(null,n,s,Xt,vr,qo,t,la,an,Gn,ps,r,"Throttled",-0,0),i);break e}mh(n,s,Xt,vr,qo,t,la,an,Gn,ps,r,null,-0,0)}}break}while(!0);ka(e)}function mh(e,t,s,n,i,r,m,_,T,$,J,ne,X,F){if(e.timeoutHandle=-1,ne=t.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ua},ih(t,r,ne);var pe=(r&62914560)===r?yr-Rt():(r&4194048)===r?oh-Rt():0;if(pe=sv(ne,pe),pe!==null){Wa=r,e.cancelPendingCommit=pe(jh.bind(null,e,t,r,s,n,i,m,_,T,J,ne,null,X,F)),vs(e,r,m,!$);return}}jh(e,t,r,s,n,i,m,_,T)}function v_(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var n=0;n<s.length;n++){var i=s[n],r=i.getSnapshot;i=i.value;try{if(!ta(r(),i))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vs(e,t,s,n){t&=~Ho,t&=~an,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var r=31-Ot(i),m=1<<r;n[r]=-1,i&=~m}s!==0&&bu(e,s,t)}function xr(){return(Ze&6)===0?(Ji(0),!1):!0}function Yo(){if(Oe!==null){if(Ke===0)var e=Oe.return;else e=Oe,Va=Xs=null,lo(e),Mn=null,Li=0,e=Oe;for(;e!==null;)$m(e.alternate,e),e=e.return;Oe=null}}function Yn(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,I_(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Wa=0,Yo(),at=e,Oe=s=Ha(e.current,null),Ie=t,Ke=0,ia=null,ps=!1,Vn=yi(e,t),Io=!1,Gn=la=Ho=an=gs=ut=0,Xt=Fi=null,qo=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-Ot(n),r=1<<i;t|=e[i],n&=~r}return Ja=t,ql(),s}function hh(e,t){Ae=null,z.H=Vi,t===Ln||t===Zl?(t=Ef(),Ke=3):t===Qc?(t=Ef(),Ke=4):Ke=t===So?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ia=t,Oe===null&&(ut=1,or(e,ma(t,e.current)))}function ph(){var e=sa.current;return e===null?!0:(Ie&4194048)===Ie?ya===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?e===ya:!1}function gh(){var e=z.H;return z.H=Vi,e===null?Vi:e}function yh(){var e=z.A;return z.A=y_,e}function jr(){ut=4,ps||(Ie&4194048)!==Ie&&sa.current!==null||(Vn=!0),(gs&134217727)===0&&(an&134217727)===0||at===null||vs(at,Ie,la,!1)}function Po(e,t,s){var n=Ze;Ze|=2;var i=gh(),r=yh();(at!==e||Ie!==t)&&(vr=null,Yn(e,t)),t=!1;var m=ut;e:do try{if(Ke!==0&&Oe!==null){var _=Oe,T=ia;switch(Ke){case 8:Yo(),m=6;break e;case 3:case 2:case 9:case 6:sa.current===null&&(t=!0);var $=Ke;if(Ke=0,ia=null,Pn(e,_,T,$),s&&Vn){m=0;break e}break;default:$=Ke,Ke=0,ia=null,Pn(e,_,T,$)}}x_(),m=ut;break}catch(J){hh(e,J)}while(!0);return t&&e.shellSuspendCounter++,Va=Xs=null,Ze=n,z.H=i,z.A=r,Oe===null&&(at=null,Ie=0,ql()),m}function x_(){for(;Oe!==null;)_h(Oe)}function j_(e,t){var s=Ze;Ze|=2;var n=gh(),i=yh();at!==e||Ie!==t?(vr=null,_r=Rt()+500,Yn(e,t)):Vn=yi(e,t);e:do try{if(Ke!==0&&Oe!==null){t=Oe;var r=ia;t:switch(Ke){case 1:Ke=0,ia=null,Pn(e,t,r,1);break;case 2:case 9:if(Df(r)){Ke=0,ia=null,vh(t);break}t=function(){Ke!==2&&Ke!==9||at!==e||(Ke=7),ka(e)},r.then(t,t);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Df(r)?(Ke=0,ia=null,vh(t)):(Ke=0,ia=null,Pn(e,t,r,7));break;case 5:var m=null;switch(Oe.tag){case 26:m=Oe.memoizedState;case 5:case 27:var _=Oe;if(m?np(m):_.stateNode.complete){Ke=0,ia=null;var T=_.sibling;if(T!==null)Oe=T;else{var $=_.return;$!==null?(Oe=$,br($)):Oe=null}break t}}Ke=0,ia=null,Pn(e,t,r,5);break;case 6:Ke=0,ia=null,Pn(e,t,r,6);break;case 8:Yo(),ut=6;break e;default:throw Error(d(462))}}b_();break}catch(J){hh(e,J)}while(!0);return Va=Xs=null,z.H=n,z.A=i,Ze=s,Oe!==null?0:(at=null,Ie=0,ql(),ut)}function b_(){for(;Oe!==null&&!ic();)_h(Oe)}function _h(e){var t=Vm(e.alternate,e,Ja);e.memoizedProps=e.pendingProps,t===null?br(e):Oe=t}function vh(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Rm(s,t,t.pendingProps,t.type,void 0,Ie);break;case 11:t=Rm(s,t,t.pendingProps,t.type.render,t.ref,Ie);break;case 5:lo(t);default:$m(s,t),t=Oe=yf(t,Ja),t=Vm(s,t,Ja)}e.memoizedProps=e.pendingProps,t===null?br(e):Oe=t}function Pn(e,t,s,n){Va=Xs=null,lo(t),Mn=null,Li=0;var i=t.return;try{if(d_(e,i,t,s,Ie)){ut=1,or(e,ma(s,e.current)),Oe=null;return}}catch(r){if(i!==null)throw Oe=i,r;ut=1,or(e,ma(s,e.current)),Oe=null;return}t.flags&32768?(Ve||n===1?e=!0:Vn||(Ie&536870912)!==0?e=!1:(ps=e=!0,(n===2||n===9||n===3||n===6)&&(n=sa.current,n!==null&&n.tag===13&&(n.flags|=16384))),xh(t,e)):br(t)}function br(e){var t=e;do{if((t.flags&32768)!==0){xh(t,ps);return}e=t.return;var s=m_(t.alternate,t,Ja);if(s!==null){Oe=s;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);ut===0&&(ut=5)}function xh(e,t){do{var s=h_(e.alternate,e);if(s!==null){s.flags&=32767,Oe=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=s}while(e!==null);ut=6,Oe=null}function jh(e,t,s,n,i,r,m,_,T){e.cancelPendingCommit=null;do Sr();while(xt!==0);if((Ze&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(r=t.lanes|t.childLanes,r|=zc,ty(e,s,r,m,_,T),e===at&&(Oe=at=null,Ie=0),$n=t,_s=e,Wa=s,Vo=r,Go=i,dh=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,C_(Ra,function(){return Ch(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null,i=A.p,A.p=2,m=Ze,Ze|=4;try{p_(e,t,s)}finally{Ze=m,A.p=i,z.T=n}}xt=1,bh(),Sh(),wh()}}function bh(){if(xt===1){xt=0;var e=_s,t=$n,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var n=A.p;A.p=2;var i=Ze;Ze|=4;try{ah(t,e);var r=nd,m=cf(e.containerInfo),_=r.focusedElem,T=r.selectionRange;if(m!==_&&_&&_.ownerDocument&&rf(_.ownerDocument.documentElement,_)){if(T!==null&&Dc(_)){var $=T.start,J=T.end;if(J===void 0&&(J=$),"selectionStart"in _)_.selectionStart=$,_.selectionEnd=Math.min(J,_.value.length);else{var ne=_.ownerDocument||document,X=ne&&ne.defaultView||window;if(X.getSelection){var F=X.getSelection(),pe=_.textContent.length,be=Math.min(T.start,pe),tt=T.end===void 0?be:Math.min(T.end,pe);!F.extend&&be>tt&&(m=tt,tt=be,be=m);var O=lf(_,be),B=lf(_,tt);if(O&&B&&(F.rangeCount!==1||F.anchorNode!==O.node||F.anchorOffset!==O.offset||F.focusNode!==B.node||F.focusOffset!==B.offset)){var G=ne.createRange();G.setStart(O.node,O.offset),F.removeAllRanges(),be>tt?(F.addRange(G),F.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),F.addRange(G))}}}}for(ne=[],F=_;F=F.parentNode;)F.nodeType===1&&ne.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<ne.length;_++){var ae=ne[_];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Mr=!!sd,nd=sd=null}finally{Ze=i,A.p=n,z.T=s}}e.current=t,xt=2}}function Sh(){if(xt===2){xt=0;var e=_s,t=$n,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var n=A.p;A.p=2;var i=Ze;Ze|=4;try{Km(e,t.alternate,t)}finally{Ze=i,A.p=n,z.T=s}}xt=3}}function wh(){if(xt===4||xt===3){xt=0,wl();var e=_s,t=$n,s=Wa,n=dh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?xt=5:(xt=0,$n=_s=null,Nh(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(ys=null),oc(s),t=t.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(rt,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=z.T,i=A.p,A.p=2,z.T=null;try{for(var r=e.onRecoverableError,m=0;m<n.length;m++){var _=n[m];r(_.value,{componentStack:_.stack})}}finally{z.T=t,A.p=i}}(Wa&3)!==0&&Sr(),ka(e),i=e.pendingLanes,(s&261930)!==0&&(i&42)!==0?e===$o?Ki++:(Ki=0,$o=e):Ki=0,Ji(0)}}function Nh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Bi(t)))}function Sr(){return bh(),Sh(),wh(),Ch()}function Ch(){if(xt!==5)return!1;var e=_s,t=Vo;Vo=0;var s=oc(Wa),n=z.T,i=A.p;try{A.p=32>s?32:s,z.T=null,s=Go,Go=null;var r=_s,m=Wa;if(xt=0,$n=_s=null,Wa=0,(Ze&6)!==0)throw Error(d(331));var _=Ze;if(Ze|=4,rh(r.current),nh(r,r.current,m,s),Ze=_,Ji(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(rt,r)}catch{}return!0}finally{A.p=i,z.T=n,Nh(e,t)}}function Th(e,t,s){t=ma(s,t),t=bo(e.stateNode,t,2),e=us(e,t,2),e!==null&&(_i(e,2),ka(e))}function Je(e,t,s){if(e.tag===3)Th(e,e,s);else for(;t!==null;){if(t.tag===3){Th(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ys===null||!ys.has(n))){e=ma(s,e),s=Dm(2),n=us(t,s,2),n!==null&&(Am(s,n,t,e),_i(n,2),ka(n));break}}t=t.return}}function Xo(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new __;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(s)||(Io=!0,i.add(s),e=S_.bind(null,e,t,s),t.then(e,e))}function S_(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,at===e&&(Ie&s)===s&&(ut===4||ut===3&&(Ie&62914560)===Ie&&300>Rt()-yr?(Ze&2)===0&&Yn(e,0):Ho|=s,Gn===Ie&&(Gn=0)),ka(e)}function Dh(e,t){t===0&&(t=ju()),e=$s(e,t),e!==null&&(_i(e,t),ka(e))}function w_(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Dh(e,s)}function N_(e,t){var s=0;switch(e.tag){case 31:case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(d(314))}n!==null&&n.delete(t),Dh(e,s)}function C_(e,t){return pi(e,t)}var wr=null,Xn=null,Qo=!1,Nr=!1,Zo=!1,xs=0;function ka(e){e!==Xn&&e.next===null&&(Xn===null?wr=Xn=e:Xn=Xn.next=e),Nr=!0,Qo||(Qo=!0,D_())}function Ji(e,t){if(!Zo&&Nr){Zo=!0;do for(var s=!1,n=wr;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var r=0;else{var m=n.suspendedLanes,_=n.pingedLanes;r=(1<<31-Ot(42|e)+1)-1,r&=i&~(m&~_),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(s=!0,Bh(n,r))}else r=Ie,r=Al(n,n===at?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(r&3)===0||yi(n,r)||(s=!0,Bh(n,r));n=n.next}while(s);Zo=!1}}function T_(){Ah()}function Ah(){Nr=Qo=!1;var e=0;xs!==0&&U_()&&(e=xs);for(var t=Rt(),s=null,n=wr;n!==null;){var i=n.next,r=Eh(n,t);r===0?(n.next=null,s===null?wr=i:s.next=i,i===null&&(Xn=s)):(s=n,(e!==0||(r&3)!==0)&&(Nr=!0)),n=i}xt!==0&&xt!==5||Ji(e),xs!==0&&(xs=0)}function Eh(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var m=31-Ot(r),_=1<<m,T=i[m];T===-1?((_&s)===0||(_&n)!==0)&&(i[m]=ey(_,t)):T<=t&&(e.expiredLanes|=_),r&=~_}if(t=at,s=Ie,s=Al(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,s===0||e===t&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&gi(n),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||yi(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(n!==null&&gi(n),oc(s)){case 2:case 8:s=ja;break;case 32:s=Ra;break;case 268435456:s=Ce;break;default:s=Ra}return n=kh.bind(null,e),s=pi(s,n),e.callbackPriority=t,e.callbackNode=s,t}return n!==null&&n!==null&&gi(n),e.callbackPriority=2,e.callbackNode=null,2}function kh(e,t){if(xt!==0&&xt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Sr()&&e.callbackNode!==s)return null;var n=Ie;return n=Al(e,e===at?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(fh(e,n,t),Eh(e,Rt()),e.callbackNode!=null&&e.callbackNode===s?kh.bind(null,e):null)}function Bh(e,t){if(Sr())return null;fh(e,t,!0)}function D_(){H_(function(){(Ze&6)!==0?pi(Nl,T_):Ah()})}function Fo(){if(xs===0){var e=Bn;e===0&&(e=Cl,Cl<<=1,(Cl&261888)===0&&(Cl=256)),xs=e}return xs}function zh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zl(""+e)}function Lh(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function A_(e,t,s,n,i){if(t==="submit"&&s&&s.stateNode===i){var r=zh((i[Vt]||null).action),m=n.submitter;m&&(t=(t=m[Vt]||null)?zh(t.formAction):m.getAttribute("formAction"),t!==null&&(r=t,m=null));var _=new Ol("action","action",null,n,i);e.push({event:_,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(xs!==0){var T=m?Lh(i,m):new FormData(i);go(s,{pending:!0,data:T,method:i.method,action:r},null,T)}}else typeof r=="function"&&(_.preventDefault(),T=m?Lh(i,m):new FormData(i),go(s,{pending:!0,data:T,method:i.method,action:r},r,T))},currentTarget:i}]})}}for(var Ko=0;Ko<Bc.length;Ko++){var Jo=Bc[Ko],E_=Jo.toLowerCase(),k_=Jo[0].toUpperCase()+Jo.slice(1);ba(E_,"on"+k_)}ba(uf,"onAnimationEnd"),ba(ff,"onAnimationIteration"),ba(mf,"onAnimationStart"),ba("dblclick","onDoubleClick"),ba("focusin","onFocus"),ba("focusout","onBlur"),ba(Xy,"onTransitionRun"),ba(Qy,"onTransitionStart"),ba(Zy,"onTransitionCancel"),ba(hf,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wi));function Mh(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],i=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var m=n.length-1;0<=m;m--){var _=n[m],T=_.instance,$=_.currentTarget;if(_=_.listener,T!==r&&i.isPropagationStopped())break e;r=_,i.currentTarget=$;try{r(i)}catch(J){Hl(J)}i.currentTarget=null,r=T}else for(m=0;m<n.length;m++){if(_=n[m],T=_.instance,$=_.currentTarget,_=_.listener,T!==r&&i.isPropagationStopped())break e;r=_,i.currentTarget=$;try{r(i)}catch(J){Hl(J)}i.currentTarget=null,r=T}}}}function Ue(e,t){var s=t[dc];s===void 0&&(s=t[dc]=new Set);var n=e+"__bubble";s.has(n)||(Rh(t,e,2,!1),s.add(n))}function Wo(e,t,s){var n=0;t&&(n|=4),Rh(s,e,n,t)}var Cr="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Cr]){e[Cr]=!0,Du.forEach(function(s){s!=="selectionchange"&&(B_.has(s)||Wo(s,!1,e),Wo(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cr]||(t[Cr]=!0,Wo("selectionchange",!1,t))}}function Rh(e,t,s,n){switch(up(t)){case 2:var i=lv;break;case 8:i=rv;break;default:i=pd}s=i.bind(null,t,s,e),i=void 0,!vc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function td(e,t,s,n,i){var r=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var m=n.tag;if(m===3||m===4){var _=n.stateNode.containerInfo;if(_===i)break;if(m===4)for(m=n.return;m!==null;){var T=m.tag;if((T===3||T===4)&&m.stateNode.containerInfo===i)return;m=m.return}for(;_!==null;){if(m=pn(_),m===null)return;if(T=m.tag,T===5||T===6||T===26||T===27){n=r=m;continue e}_=_.parentNode}}n=n.return}Hu(function(){var $=r,J=yc(s),ne=[];e:{var X=pf.get(e);if(X!==void 0){var F=Ol,pe=e;switch(e){case"keypress":if(Ml(s)===0)break e;case"keydown":case"keyup":F=Ny;break;case"focusin":pe="focus",F=Sc;break;case"focusout":pe="blur",F=Sc;break;case"beforeblur":case"afterblur":F=Sc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=my;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Dy;break;case uf:case ff:case mf:F=gy;break;case hf:F=Ey;break;case"scroll":case"scrollend":F=uy;break;case"wheel":F=By;break;case"copy":case"cut":case"paste":F=_y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Yu;break;case"toggle":case"beforetoggle":F=Ly}var be=(t&4)!==0,tt=!be&&(e==="scroll"||e==="scrollend"),O=be?X!==null?X+"Capture":null:X;be=[];for(var B=$,G;B!==null;){var ae=B;if(G=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||G===null||O===null||(ae=ji(B,O),ae!=null&&be.push(el(B,ae,G))),tt)break;B=B.return}0<be.length&&(X=new F(X,pe,null,s,J),ne.push({event:X,listeners:be}))}}if((t&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",X&&s!==gc&&(pe=s.relatedTarget||s.fromElement)&&(pn(pe)||pe[hn]))break e;if((F||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,F?(pe=s.relatedTarget||s.toElement,F=$,pe=pe?pn(pe):null,pe!==null&&(tt=f(pe),be=pe.tag,pe!==tt||be!==5&&be!==27&&be!==6)&&(pe=null)):(F=null,pe=$),F!==pe)){if(be=Gu,ae="onMouseLeave",O="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(be=Yu,ae="onPointerLeave",O="onPointerEnter",B="pointer"),tt=F==null?X:xi(F),G=pe==null?X:xi(pe),X=new be(ae,B+"leave",F,s,J),X.target=tt,X.relatedTarget=G,ae=null,pn(J)===$&&(be=new be(O,B+"enter",pe,s,J),be.target=G,be.relatedTarget=tt,ae=be),tt=ae,F&&pe)t:{for(be=z_,O=F,B=pe,G=0,ae=O;ae;ae=be(ae))G++;ae=0;for(var _e=B;_e;_e=be(_e))ae++;for(;0<G-ae;)O=be(O),G--;for(;0<ae-G;)B=be(B),ae--;for(;G--;){if(O===B||B!==null&&O===B.alternate){be=O;break t}O=be(O),B=be(B)}be=null}else be=null;F!==null&&Oh(ne,X,F,be,!1),pe!==null&&tt!==null&&Oh(ne,tt,pe,be,!0)}}e:{if(X=$?xi($):window,F=X.nodeName&&X.nodeName.toLowerCase(),F==="select"||F==="input"&&X.type==="file")var Ye=Wu;else if(Ku(X))if(ef)Ye=$y;else{Ye=Vy;var ye=qy}else F=X.nodeName,!F||F.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?$&&pc($.elementType)&&(Ye=Wu):Ye=Gy;if(Ye&&(Ye=Ye(e,$))){Ju(ne,Ye,s,J);break e}ye&&ye(e,X,$),e==="focusout"&&$&&X.type==="number"&&$.memoizedProps.value!=null&&hc(X,"number",X.value)}switch(ye=$?xi($):window,e){case"focusin":(Ku(ye)||ye.contentEditable==="true")&&(wn=ye,Ac=$,Ai=null);break;case"focusout":Ai=Ac=wn=null;break;case"mousedown":Ec=!0;break;case"contextmenu":case"mouseup":case"dragend":Ec=!1,of(ne,s,J);break;case"selectionchange":if(Py)break;case"keydown":case"keyup":of(ne,s,J)}var ke;if(Nc)e:{switch(e){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Sn?Zu(e,s)&&(He="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(He="onCompositionStart");He&&(Pu&&s.locale!=="ko"&&(Sn||He!=="onCompositionStart"?He==="onCompositionEnd"&&Sn&&(ke=qu()):(ns=J,xc="value"in ns?ns.value:ns.textContent,Sn=!0)),ye=Tr($,He),0<ye.length&&(He=new $u(He,e,null,s,J),ne.push({event:He,listeners:ye}),ke?He.data=ke:(ke=Fu(s),ke!==null&&(He.data=ke)))),(ke=Ry?Oy(e,s):Uy(e,s))&&(He=Tr($,"onBeforeInput"),0<He.length&&(ye=new $u("onBeforeInput","beforeinput",null,s,J),ne.push({event:ye,listeners:He}),ye.data=ke)),A_(ne,e,$,s,J)}Mh(ne,t)})}function el(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Tr(e,t){for(var s=t+"Capture",n=[];e!==null;){var i=e,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=ji(e,s),i!=null&&n.unshift(el(e,i,r)),i=ji(e,t),i!=null&&n.push(el(e,i,r))),e.tag===3)return n;e=e.return}return[]}function z_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Oh(e,t,s,n,i){for(var r=t._reactName,m=[];s!==null&&s!==n;){var _=s,T=_.alternate,$=_.stateNode;if(_=_.tag,T!==null&&T===n)break;_!==5&&_!==26&&_!==27||$===null||(T=$,i?($=ji(s,r),$!=null&&m.unshift(el(s,$,T))):i||($=ji(s,r),$!=null&&m.push(el(s,$,T)))),s=s.return}m.length!==0&&e.push({event:t,listeners:m})}var L_=/\r\n?/g,M_=/\u0000|\uFFFD/g;function Uh(e){return(typeof e=="string"?e:""+e).replace(L_,`
`).replace(M_,"")}function Ih(e,t){return t=Uh(t),Uh(e)===t}function et(e,t,s,n,i,r){switch(s){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||xn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&xn(e,""+n);break;case"className":kl(e,"class",n);break;case"tabIndex":kl(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":kl(e,s,n);break;case"style":Uu(e,n,r);break;case"data":if(t!=="object"){kl(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(s);break}n=zl(""+n),e.setAttribute(s,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(s==="formAction"?(t!=="input"&&et(e,t,"name",i.name,i,null),et(e,t,"formEncType",i.formEncType,i,null),et(e,t,"formMethod",i.formMethod,i,null),et(e,t,"formTarget",i.formTarget,i,null)):(et(e,t,"encType",i.encType,i,null),et(e,t,"method",i.method,i,null),et(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(s);break}n=zl(""+n),e.setAttribute(s,n);break;case"onClick":n!=null&&(e.onclick=Ua);break;case"onScroll":n!=null&&Ue("scroll",e);break;case"onScrollEnd":n!=null&&Ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(d(61));if(s=n.__html,s!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=s}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}s=zl(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(s,""+n):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":n===!0?e.setAttribute(s,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(s,n):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(s,n):e.removeAttribute(s);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(s):e.setAttribute(s,n);break;case"popover":Ue("beforetoggle",e),Ue("toggle",e),El(e,"popover",n);break;case"xlinkActuate":Oa(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Oa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Oa(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Oa(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Oa(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Oa(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Oa(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Oa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Oa(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":El(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=oy.get(s)||s,El(e,s,n))}}function ad(e,t,s,n,i,r){switch(s){case"style":Uu(e,n,r);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(d(61));if(s=n.__html,s!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=s}}break;case"children":typeof n=="string"?xn(e,n):(typeof n=="number"||typeof n=="bigint")&&xn(e,""+n);break;case"onScroll":n!=null&&Ue("scroll",e);break;case"onScrollEnd":n!=null&&Ue("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Ua);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Au.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(i=s.endsWith("Capture"),t=s.slice(2,i?s.length-7:void 0),r=e[Vt]||null,r=r!=null?r[s]:null,typeof r=="function"&&e.removeEventListener(t,r,i),typeof n=="function")){typeof r!="function"&&r!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,n,i);break e}s in e?e[s]=n:n===!0?e.setAttribute(s,""):El(e,s,n)}}}function kt(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",e),Ue("load",e);var n=!1,i=!1,r;for(r in s)if(s.hasOwnProperty(r)){var m=s[r];if(m!=null)switch(r){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:et(e,t,r,m,s,null)}}i&&et(e,t,"srcSet",s.srcSet,s,null),n&&et(e,t,"src",s.src,s,null);return;case"input":Ue("invalid",e);var _=r=m=i=null,T=null,$=null;for(n in s)if(s.hasOwnProperty(n)){var J=s[n];if(J!=null)switch(n){case"name":i=J;break;case"type":m=J;break;case"checked":T=J;break;case"defaultChecked":$=J;break;case"value":r=J;break;case"defaultValue":_=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(d(137,t));break;default:et(e,t,n,J,s,null)}}Lu(e,r,_,T,$,m,i,!1);return;case"select":Ue("invalid",e),n=m=r=null;for(i in s)if(s.hasOwnProperty(i)&&(_=s[i],_!=null))switch(i){case"value":r=_;break;case"defaultValue":m=_;break;case"multiple":n=_;default:et(e,t,i,_,s,null)}t=r,s=m,e.multiple=!!n,t!=null?vn(e,!!n,t,!1):s!=null&&vn(e,!!n,s,!0);return;case"textarea":Ue("invalid",e),r=i=n=null;for(m in s)if(s.hasOwnProperty(m)&&(_=s[m],_!=null))switch(m){case"value":n=_;break;case"defaultValue":i=_;break;case"children":r=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(d(91));break;default:et(e,t,m,_,s,null)}Ru(e,n,i,r);return;case"option":for(T in s)if(s.hasOwnProperty(T)&&(n=s[T],n!=null))switch(T){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:et(e,t,T,n,s,null)}return;case"dialog":Ue("beforetoggle",e),Ue("toggle",e),Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":Ue("load",e);break;case"video":case"audio":for(n=0;n<Wi.length;n++)Ue(Wi[n],e);break;case"image":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"embed":case"source":case"link":Ue("error",e),Ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in s)if(s.hasOwnProperty($)&&(n=s[$],n!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:et(e,t,$,n,s,null)}return;default:if(pc(t)){for(J in s)s.hasOwnProperty(J)&&(n=s[J],n!==void 0&&ad(e,t,J,n,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(n=s[_],n!=null&&et(e,t,_,n,s,null))}function R_(e,t,s,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,m=null,_=null,T=null,$=null,J=null;for(F in s){var ne=s[F];if(s.hasOwnProperty(F)&&ne!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":T=ne;default:n.hasOwnProperty(F)||et(e,t,F,null,n,ne)}}for(var X in n){var F=n[X];if(ne=s[X],n.hasOwnProperty(X)&&(F!=null||ne!=null))switch(X){case"type":r=F;break;case"name":i=F;break;case"checked":$=F;break;case"defaultChecked":J=F;break;case"value":m=F;break;case"defaultValue":_=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(d(137,t));break;default:F!==ne&&et(e,t,X,F,n,ne)}}mc(e,m,_,T,$,J,r,i);return;case"select":F=m=_=X=null;for(r in s)if(T=s[r],s.hasOwnProperty(r)&&T!=null)switch(r){case"value":break;case"multiple":F=T;default:n.hasOwnProperty(r)||et(e,t,r,null,n,T)}for(i in n)if(r=n[i],T=s[i],n.hasOwnProperty(i)&&(r!=null||T!=null))switch(i){case"value":X=r;break;case"defaultValue":_=r;break;case"multiple":m=r;default:r!==T&&et(e,t,i,r,n,T)}t=_,s=m,n=F,X!=null?vn(e,!!s,X,!1):!!n!=!!s&&(t!=null?vn(e,!!s,t,!0):vn(e,!!s,s?[]:"",!1));return;case"textarea":F=X=null;for(_ in s)if(i=s[_],s.hasOwnProperty(_)&&i!=null&&!n.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:et(e,t,_,null,n,i)}for(m in n)if(i=n[m],r=s[m],n.hasOwnProperty(m)&&(i!=null||r!=null))switch(m){case"value":X=i;break;case"defaultValue":F=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(d(91));break;default:i!==r&&et(e,t,m,i,n,r)}Mu(e,X,F);return;case"option":for(var pe in s)if(X=s[pe],s.hasOwnProperty(pe)&&X!=null&&!n.hasOwnProperty(pe))switch(pe){case"selected":e.selected=!1;break;default:et(e,t,pe,null,n,X)}for(T in n)if(X=n[T],F=s[T],n.hasOwnProperty(T)&&X!==F&&(X!=null||F!=null))switch(T){case"selected":e.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:et(e,t,T,X,n,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in s)X=s[be],s.hasOwnProperty(be)&&X!=null&&!n.hasOwnProperty(be)&&et(e,t,be,null,n,X);for($ in n)if(X=n[$],F=s[$],n.hasOwnProperty($)&&X!==F&&(X!=null||F!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(d(137,t));break;default:et(e,t,$,X,n,F)}return;default:if(pc(t)){for(var tt in s)X=s[tt],s.hasOwnProperty(tt)&&X!==void 0&&!n.hasOwnProperty(tt)&&ad(e,t,tt,void 0,n,X);for(J in n)X=n[J],F=s[J],!n.hasOwnProperty(J)||X===F||X===void 0&&F===void 0||ad(e,t,J,X,n,F);return}}for(var O in s)X=s[O],s.hasOwnProperty(O)&&X!=null&&!n.hasOwnProperty(O)&&et(e,t,O,null,n,X);for(ne in n)X=n[ne],F=s[ne],!n.hasOwnProperty(ne)||X===F||X==null&&F==null||et(e,t,ne,X,n,F)}function Hh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function O_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),n=0;n<s.length;n++){var i=s[n],r=i.transferSize,m=i.initiatorType,_=i.duration;if(r&&_&&Hh(m)){for(m=0,_=i.responseEnd,n+=1;n<s.length;n++){var T=s[n],$=T.startTime;if($>_)break;var J=T.transferSize,ne=T.initiatorType;J&&Hh(ne)&&(T=T.responseEnd,m+=J*(T<_?1:(_-$)/(T-$)))}if(--n,t+=8*(r+m)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var sd=null,nd=null;function Dr(e){return e.nodeType===9?e:e.ownerDocument}function qh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function id(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ld=null;function U_(){var e=window.event;return e&&e.type==="popstate"?e===ld?!1:(ld=e,!0):(ld=null,!1)}var Gh=typeof setTimeout=="function"?setTimeout:void 0,I_=typeof clearTimeout=="function"?clearTimeout:void 0,$h=typeof Promise=="function"?Promise:void 0,H_=typeof queueMicrotask=="function"?queueMicrotask:typeof $h<"u"?function(e){return $h.resolve(null).then(e).catch(q_)}:Gh;function q_(e){setTimeout(function(){throw e})}function js(e){return e==="head"}function Yh(e,t){var s=t,n=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"||s==="/&"){if(n===0){e.removeChild(i),Kn(t);return}n--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")n++;else if(s==="html")tl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,tl(s);for(var r=s.firstChild;r;){var m=r.nextSibling,_=r.nodeName;r[vi]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&r.rel.toLowerCase()==="stylesheet"||s.removeChild(r),r=m}}else s==="body"&&tl(e.ownerDocument.body);s=i}while(s);Kn(t)}function Ph(e,t){var s=e;e=0;do{var n=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=n}while(s)}function rd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":rd(s),uc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function V_(e,t,s,n){for(;e.nodeType===1;){var i=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[vi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=_a(e.nextSibling),e===null)break}return null}function G_(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=_a(e.nextSibling),e===null))return null;return e}function Xh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=_a(e.nextSibling),e===null))return null;return e}function cd(e){return e.data==="$?"||e.data==="$~"}function od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $_(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var n=function(){t(),s.removeEventListener("DOMContentLoaded",n)};s.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function _a(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var dd=null;function Qh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return _a(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function Zh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function Fh(e,t,s){switch(t=Dr(s),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function tl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);uc(e)}var va=new Map,Kh=new Set;function Ar(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var es=A.d;A.d={f:Y_,r:P_,D:X_,C:Q_,L:Z_,m:F_,X:J_,S:K_,M:W_};function Y_(){var e=es.f(),t=xr();return e||t}function P_(e){var t=gn(e);t!==null&&t.tag===5&&t.type==="form"?hm(t):es.r(e)}var Qn=typeof document>"u"?null:document;function Jh(e,t,s){var n=Qn;if(n&&typeof t=="string"&&t){var i=ua(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof s=="string"&&(i+='[crossorigin="'+s+'"]'),Kh.has(i)||(Kh.add(i),e={rel:e,crossOrigin:s,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),kt(t,"link",e),St(t),n.head.appendChild(t)))}}function X_(e){es.D(e),Jh("dns-prefetch",e,null)}function Q_(e,t){es.C(e,t),Jh("preconnect",e,t)}function Z_(e,t,s){es.L(e,t,s);var n=Qn;if(n&&e&&t){var i='link[rel="preload"][as="'+ua(t)+'"]';t==="image"&&s&&s.imageSrcSet?(i+='[imagesrcset="'+ua(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(i+='[imagesizes="'+ua(s.imageSizes)+'"]')):i+='[href="'+ua(e)+'"]';var r=i;switch(t){case"style":r=Zn(e);break;case"script":r=Fn(e)}va.has(r)||(e=C({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),va.set(r,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(al(r))||t==="script"&&n.querySelector(sl(r))||(t=n.createElement("link"),kt(t,"link",e),St(t),n.head.appendChild(t)))}}function F_(e,t){es.m(e,t);var s=Qn;if(s&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+ua(n)+'"][href="'+ua(e)+'"]',r=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Fn(e)}if(!va.has(r)&&(e=C({rel:"modulepreload",href:e},t),va.set(r,e),s.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(sl(r)))return}n=s.createElement("link"),kt(n,"link",e),St(n),s.head.appendChild(n)}}}function K_(e,t,s){es.S(e,t,s);var n=Qn;if(n&&e){var i=yn(n).hoistableStyles,r=Zn(e);t=t||"default";var m=i.get(r);if(!m){var _={loading:0,preload:null};if(m=n.querySelector(al(r)))_.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},s),(s=va.get(r))&&ud(e,s);var T=m=n.createElement("link");St(T),kt(T,"link",e),T._p=new Promise(function($,J){T.onload=$,T.onerror=J}),T.addEventListener("load",function(){_.loading|=1}),T.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Er(m,t,n)}m={type:"stylesheet",instance:m,count:1,state:_},i.set(r,m)}}}function J_(e,t){es.X(e,t);var s=Qn;if(s&&e){var n=yn(s).hoistableScripts,i=Fn(e),r=n.get(i);r||(r=s.querySelector(sl(i)),r||(e=C({src:e,async:!0},t),(t=va.get(i))&&fd(e,t),r=s.createElement("script"),St(r),kt(r,"link",e),s.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(i,r))}}function W_(e,t){es.M(e,t);var s=Qn;if(s&&e){var n=yn(s).hoistableScripts,i=Fn(e),r=n.get(i);r||(r=s.querySelector(sl(i)),r||(e=C({src:e,async:!0,type:"module"},t),(t=va.get(i))&&fd(e,t),r=s.createElement("script"),St(r),kt(r,"link",e),s.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(i,r))}}function Wh(e,t,s,n){var i=(i=ie.current)?Ar(i):null;if(!i)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=Zn(s.href),s=yn(i).hoistableStyles,n=s.get(t),n||(n={type:"style",instance:null,count:0,state:null},s.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Zn(s.href);var r=yn(i).hoistableStyles,m=r.get(e);if(m||(i=i.ownerDocument||i,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,m),(r=i.querySelector(al(e)))&&!r._p&&(m.instance=r,m.state.loading=5),va.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},va.set(e,s),r||ev(i,e,s,m.state))),t&&n===null)throw Error(d(528,""));return m}if(t&&n!==null)throw Error(d(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Fn(s),s=yn(i).hoistableScripts,n=s.get(t),n||(n={type:"script",instance:null,count:0,state:null},s.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Zn(e){return'href="'+ua(e)+'"'}function al(e){return'link[rel="stylesheet"]['+e+"]"}function ep(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function ev(e,t,s,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),kt(t,"link",s),St(t),e.head.appendChild(t))}function Fn(e){return'[src="'+ua(e)+'"]'}function sl(e){return"script[async]"+e}function tp(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+ua(s.href)+'"]');if(n)return t.instance=n,St(n),n;var i=C({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),St(n),kt(n,"style",i),Er(n,s.precedence,e),t.instance=n;case"stylesheet":i=Zn(s.href);var r=e.querySelector(al(i));if(r)return t.state.loading|=4,t.instance=r,St(r),r;n=ep(s),(i=va.get(i))&&ud(n,i),r=(e.ownerDocument||e).createElement("link"),St(r);var m=r;return m._p=new Promise(function(_,T){m.onload=_,m.onerror=T}),kt(r,"link",n),t.state.loading|=4,Er(r,s.precedence,e),t.instance=r;case"script":return r=Fn(s.src),(i=e.querySelector(sl(r)))?(t.instance=i,St(i),i):(n=s,(i=va.get(r))&&(n=C({},s),fd(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),St(i),kt(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Er(n,s.precedence,e));return t.instance}function Er(e,t,s){for(var n=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,r=i,m=0;m<n.length;m++){var _=n[m];if(_.dataset.precedence===t)r=_;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function ud(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function fd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var kr=null;function ap(e,t,s){if(kr===null){var n=new Map,i=kr=new Map;i.set(s,n)}else i=kr,n=i.get(s),n||(n=new Map,i.set(s,n));if(n.has(e))return n;for(n.set(e,null),s=s.getElementsByTagName(e),i=0;i<s.length;i++){var r=s[i];if(!(r[vi]||r[Tt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var m=r.getAttribute(t)||"";m=e+m;var _=n.get(m);_?_.push(r):n.set(m,[r])}}return n}function sp(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function tv(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function np(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function av(e,t,s,n){if(s.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var i=Zn(n.href),r=t.querySelector(al(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Br.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=r,St(r);return}r=t.ownerDocument||t,n=ep(n),(i=va.get(i))&&ud(n,i),r=r.createElement("link"),St(r);var m=r;m._p=new Promise(function(_,T){m.onload=_,m.onerror=T}),kt(r,"link",n),s.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Br.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var md=0;function sv(e,t){return e.stylesheets&&e.count===0&&Lr(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var n=setTimeout(function(){if(e.stylesheets&&Lr(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&md===0&&(md=62500*O_());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Lr(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>md?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function Br(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zr=null;function Lr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zr=new Map,t.forEach(nv,e),zr=null,Br.call(e))}function nv(e,t){if(!(t.state.loading&4)){var s=zr.get(e);if(s)var n=s.get(null);else{s=new Map,zr.set(e,s);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var m=i[r];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(s.set(m.dataset.precedence,m),n=m)}n&&s.set(null,n)}i=t.instance,m=i.getAttribute("data-precedence"),r=s.get(m)||n,r===n&&s.set(null,i),s.set(m,i),this.count++,n=Br.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),r?r.parentNode.insertBefore(i,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var nl={$$typeof:E,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function iv(e,t,s,n,i,r,m,_,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rc(0),this.hiddenUpdates=rc(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function ip(e,t,s,n,i,r,m,_,T,$,J,ne){return e=new iv(e,t,s,m,T,$,J,ne,_),t=1,r===!0&&(t|=24),r=aa(3,null,null,t),e.current=r,r.stateNode=e,t=Yc(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:n,isDehydrated:s,cache:t},Zc(r),e}function lp(e){return e?(e=Tn,e):Tn}function rp(e,t,s,n,i,r){i=lp(i),n.context===null?n.context=i:n.pendingContext=i,n=ds(t),n.payload={element:s},r=r===void 0?null:r,r!==null&&(n.callback=r),s=us(e,n,t),s!==null&&(Qt(s,e,t),Ri(s,e,t))}function cp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function hd(e,t){cp(e,t),(e=e.alternate)&&cp(e,t)}function op(e){if(e.tag===13||e.tag===31){var t=$s(e,67108864);t!==null&&Qt(t,e,67108864),hd(e,67108864)}}function dp(e){if(e.tag===13||e.tag===31){var t=ra();t=cc(t);var s=$s(e,t);s!==null&&Qt(s,e,t),hd(e,t)}}var Mr=!0;function lv(e,t,s,n){var i=z.T;z.T=null;var r=A.p;try{A.p=2,pd(e,t,s,n)}finally{A.p=r,z.T=i}}function rv(e,t,s,n){var i=z.T;z.T=null;var r=A.p;try{A.p=8,pd(e,t,s,n)}finally{A.p=r,z.T=i}}function pd(e,t,s,n){if(Mr){var i=gd(n);if(i===null)td(e,t,n,Rr,s),fp(e,n);else if(ov(i,e,t,s,n))n.stopPropagation();else if(fp(e,n),t&4&&-1<cv.indexOf(e)){for(;i!==null;){var r=gn(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var m=Is(r.pendingLanes);if(m!==0){var _=r;for(_.pendingLanes|=2,_.entangledLanes|=2;m;){var T=1<<31-Ot(m);_.entanglements[1]|=T,m&=~T}ka(r),(Ze&6)===0&&(_r=Rt()+500,Ji(0))}}break;case 31:case 13:_=$s(r,2),_!==null&&Qt(_,r,2),xr(),hd(r,2)}if(r=gd(n),r===null&&td(e,t,n,Rr,s),r===i)break;i=r}i!==null&&n.stopPropagation()}else td(e,t,n,null,s)}}function gd(e){return e=yc(e),yd(e)}var Rr=null;function yd(e){if(Rr=null,e=pn(e),e!==null){var t=f(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=h(t),e!==null)return e;e=null}else if(s===31){if(e=g(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Rr=e,null}function up(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lc()){case Nl:return 2;case ja:return 8;case Ra:case P:return 32;case Ce:return 268435456;default:return 32}default:return 32}}var _d=!1,bs=null,Ss=null,ws=null,il=new Map,ll=new Map,Ns=[],cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fp(e,t){switch(e){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(t.pointerId)}}function rl(e,t,s,n,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:r,targetContainers:[i]},t!==null&&(t=gn(t),t!==null&&op(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ov(e,t,s,n,i){switch(t){case"focusin":return bs=rl(bs,e,t,s,n,i),!0;case"dragenter":return Ss=rl(Ss,e,t,s,n,i),!0;case"mouseover":return ws=rl(ws,e,t,s,n,i),!0;case"pointerover":var r=i.pointerId;return il.set(r,rl(il.get(r)||null,e,t,s,n,i)),!0;case"gotpointercapture":return r=i.pointerId,ll.set(r,rl(ll.get(r)||null,e,t,s,n,i)),!0}return!1}function mp(e){var t=pn(e.target);if(t!==null){var s=f(t);if(s!==null){if(t=s.tag,t===13){if(t=h(s),t!==null){e.blockedOn=t,Cu(e.priority,function(){dp(s)});return}}else if(t===31){if(t=g(s),t!==null){e.blockedOn=t,Cu(e.priority,function(){dp(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Or(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=gd(e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);gc=n,s.target.dispatchEvent(n),gc=null}else return t=gn(s),t!==null&&op(t),e.blockedOn=s,!1;t.shift()}return!0}function hp(e,t,s){Or(e)&&s.delete(t)}function dv(){_d=!1,bs!==null&&Or(bs)&&(bs=null),Ss!==null&&Or(Ss)&&(Ss=null),ws!==null&&Or(ws)&&(ws=null),il.forEach(hp),ll.forEach(hp)}function Ur(e,t){e.blockedOn===t&&(e.blockedOn=null,_d||(_d=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,dv)))}var Ir=null;function pp(e){Ir!==e&&(Ir=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ir===e&&(Ir=null);for(var t=0;t<e.length;t+=3){var s=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(yd(n||s)===null)continue;break}var r=gn(s);r!==null&&(e.splice(t,3),t-=3,go(r,{pending:!0,data:i,method:s.method,action:n},n,i))}}))}function Kn(e){function t(T){return Ur(T,e)}bs!==null&&Ur(bs,e),Ss!==null&&Ur(Ss,e),ws!==null&&Ur(ws,e),il.forEach(t),ll.forEach(t);for(var s=0;s<Ns.length;s++){var n=Ns[s];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ns.length&&(s=Ns[0],s.blockedOn===null);)mp(s),s.blockedOn===null&&Ns.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(n=0;n<s.length;n+=3){var i=s[n],r=s[n+1],m=i[Vt]||null;if(typeof r=="function")m||pp(s);else if(m){var _=null;if(r&&r.hasAttribute("formAction")){if(i=r,m=r[Vt]||null)_=m.formAction;else if(yd(i)!==null)continue}else _=m.action;typeof _=="function"?s[n+1]=_:(s.splice(n,3),n-=3),pp(s)}}}function gp(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(m){return i=m})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),n||setTimeout(s,20)}function s(){if(!n&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function vd(e){this._internalRoot=e}Hr.prototype.render=vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var s=t.current,n=ra();rp(s,n,e,t,null,null)},Hr.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rp(e.current,2,null,e,null,null),xr(),t[hn]=null}};function Hr(e){this._internalRoot=e}Hr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nu();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Ns.length&&t!==0&&t<Ns[s].priority;s++);Ns.splice(s,0,e),s===0&&mp(e)}};var yp=c.version;if(yp!=="19.2.0")throw Error(d(527,yp,"19.2.0"));A.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=v(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var uv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qr.isDisabled&&qr.supportsFiber)try{rt=qr.inject(uv),vt=qr}catch{}}return cl.createRoot=function(e,t){if(!u(e))throw Error(d(299));var s=!1,n="",i=wm,r=Nm,m=Cm;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=ip(e,1,!1,null,null,s,n,null,i,r,m,gp),e[hn]=t.current,ed(e),new vd(t)},cl.hydrateRoot=function(e,t,s){if(!u(e))throw Error(d(299));var n=!1,i="",r=wm,m=Nm,_=Cm,T=null;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onUncaughtError!==void 0&&(r=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.formState!==void 0&&(T=s.formState)),t=ip(e,1,!0,t,s??null,n,i,T,r,m,_,gp),t.context=lp(null),s=t.current,n=ra(),n=cc(n),i=ds(n),i.callback=null,us(s,i,n),s=n,t.current.lanes=s,_i(t,s),ka(t),e[hn]=t.current,ed(e),new Hr(t)},cl.version="19.2.0",cl}var Tp;function bx(){if(Tp)return bd.exports;Tp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(c){console.error(c)}}return l(),bd.exports=jx(),bd.exports}var Sx=bx();const wx={translation:{nav:{home:"Home",tracker:"Tracker",calculator:"Calc",library:"Library",schedule:"Schedule",guides:"Guides",profile:"Profile",login:"Login",more:"More"},dashboard:{welcome:"Welcome back",quickActions:"Quick Actions",recentInjections:"Recent Injections",upcomingSchedule:"Upcoming Schedule",noInjections:"No injections logged yet",noSchedule:"No upcoming doses scheduled"},tracker:{title:"Injection Tracker",logInjection:"Log Injection",peptide:"Peptide",dosage:"Dosage",date:"Date",time:"Time",site:"Injection Site",notes:"Notes",save:"Save",delete:"Delete",edit:"Edit"},calculator:{title:"Reconstitution Calculator",peptideAmount:"Peptide Amount",bacWater:"BAC Water",desiredDose:"Desired Dose",result:"Draw",units:"units"},schedule:{title:"Schedule",addDose:"Add Dose",today:"Today",upcoming:"Upcoming",completed:"Completed",markComplete:"Mark Complete"},settings:{title:"Settings",profile:"Profile",preferences:"Preferences",notifications:"Notifications",theme:"Theme",language:"Language",darkMode:"Dark Mode",lightMode:"Light Mode",export:"Export Data",logout:"Log Out"},common:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",loading:"Loading...",error:"Error",success:"Success",confirm:"Confirm",back:"Back",next:"Next",mg:"mg",mcg:"mcg",iu:"IU",ml:"mL"},export:{title:"Export Data",format:"Format",csv:"CSV",pdf:"PDF",dateRange:"Date Range",allTime:"All Time",lastMonth:"Last Month",lastWeek:"Last Week",download:"Download"},notifications:{enabled:"Notifications Enabled",disabled:"Notifications Disabled",scheduled:"Scheduled Dose Reminder",lowStock:"Low Stock Alert",permission:"Allow Notifications"}}},Nx={translation:{nav:{home:"Inicio",tracker:"Registro",calculator:"Calc",library:"Biblioteca",schedule:"Horario",guides:"Guas",profile:"Perfil",login:"Iniciar",more:"Ms"},dashboard:{welcome:"Bienvenido de nuevo",quickActions:"Acciones Rpidas",recentInjections:"Inyecciones Recientes",upcomingSchedule:"Prximas Dosis",noInjections:"No hay inyecciones registradas",noSchedule:"No hay dosis programadas"},tracker:{title:"Registro de Inyecciones",logInjection:"Registrar Inyeccin",peptide:"Pptido",dosage:"Dosis",date:"Fecha",time:"Hora",site:"Sitio de Inyeccin",notes:"Notas",save:"Guardar",delete:"Eliminar",edit:"Editar"},calculator:{title:"Calculadora de Reconstitucin",peptideAmount:"Cantidad de Pptido",bacWater:"Agua BAC",desiredDose:"Dosis Deseada",result:"Extraer",units:"unidades"},schedule:{title:"Horario",addDose:"Agregar Dosis",today:"Hoy",upcoming:"Prximo",completed:"Completado",markComplete:"Marcar Completo"},settings:{title:"Configuracin",profile:"Perfil",preferences:"Preferencias",notifications:"Notificaciones",theme:"Tema",language:"Idioma",darkMode:"Modo Oscuro",lightMode:"Modo Claro",export:"Exportar Datos",logout:"Cerrar Sesin"},common:{save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",loading:"Cargando...",error:"Error",success:"xito",confirm:"Confirmar",back:"Atrs",next:"Siguiente",mg:"mg",mcg:"mcg",iu:"UI",ml:"mL"},export:{title:"Exportar Datos",format:"Formato",csv:"CSV",pdf:"PDF",dateRange:"Rango de Fechas",allTime:"Todo el Tiempo",lastMonth:"ltimo Mes",lastWeek:"ltima Semana",download:"Descargar"},notifications:{enabled:"Notificaciones Activadas",disabled:"Notificaciones Desactivadas",scheduled:"Recordatorio de Dosis Programada",lowStock:"Alerta de Stock Bajo",permission:"Permitir Notificaciones"}}};kv.use(Bv).init({resources:{en:wx,es:Nx},lng:localStorage.getItem("peptide_language")||"en",fallbackLng:"en",interpolation:{escapeValue:!1}});const Cx="https://nhiwjerqyhtpienorzky.supabase.co",Tx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5oaXdqZXJxeWh0cGllbm9yemt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQxODU1MDEsImV4cCI6MjA3OTc2MTUwMX0.F4vRdN3qeH2ONDxoIgchW3Pn21KsGAWavwdnD3zkxhI",K=qv(Cx,Tx),Lg=j.createContext({}),Ct=()=>j.useContext(Lg),Dx=({children:l})=>{const[c,o]=j.useState(null),[d,u]=j.useState(!1),[f,h]=j.useState(!1),[g,p]=j.useState(!0);j.useEffect(()=>{let N=!0;(async()=>{try{const{data:{session:x}}=await K.auth.getSession();if(x?.user){const I=x.user;o(I);const[k,R]=await Promise.all([K.from("profiles").select("is_admin").eq("id",I.id).single(),K.from("user_subscriptions").select("plan, status, current_period_end").eq("user_id",I.id).single()]),Y=k.data?.is_admin||!1;u(Y);let L=Y;if(!L&&R.data&&R.data.status==="active"&&["premium","pro"].includes(R.data.plan)){const U=R.data.current_period_end;(!U||new Date(U)>new Date)&&(L=!0)}h(L)}else o(null),u(!1),h(!1)}catch(x){console.error("Auth check failed:",x),o(null)}finally{N&&p(!1)}})();const{data:{subscription:E}}=K.auth.onAuthStateChange(async(x,I)=>{if(I?.user){o(I.user);const{data:k}=await K.from("profiles").select("is_admin").eq("id",I.user.id).single(),{data:R}=await K.from("user_subscriptions").select("plan, status").eq("user_id",I.user.id).single(),Y=k?.is_admin||!1;u(Y);let L=Y;!L&&R?.status==="active"&&["premium","pro"].includes(R.plan)&&(L=!0),h(L)}else o(null),u(!1),h(!1);N&&p(!1)});return()=>{N=!1,E.unsubscribe()}},[]);const M={user:c,isAdmin:d,isPremium:f,loading:g,signUp:async(N,b,E)=>{const{data:x,error:I}=await K.auth.signUp({email:N,password:b,options:{data:{full_name:E}}});if(I)throw I;return x},signIn:async(N,b)=>{const{data:E,error:x}=await K.auth.signInWithPassword({email:N,password:b});if(x)throw x;return E},signInWithOAuth:async N=>{const{data:b,error:E}=await K.auth.signInWithOAuth({provider:N,options:{redirectTo:`${window.location.origin}/settings`}});if(E)throw E;return b},signOut:async()=>{const{error:N}=await K.auth.signOut();if(N)throw N},resetPassword:async N=>{const{error:b}=await K.auth.resetPasswordForEmail(N,{redirectTo:`${window.location.origin}/update-password`});if(b)throw b},updatePassword:async N=>{const{error:b}=await K.auth.updateUser({password:N});if(b)throw b},mockLogin:()=>{o({id:"mock-user-id",email:"demo@example.com",user_metadata:{full_name:"Demo User"}}),p(!1)}};return a.jsx(Lg.Provider,{value:M,children:!g&&l})},Mg=j.createContext(),Rg=()=>{const l=j.useContext(Mg);if(!l)throw new Error("useTheme must be used within a ThemeProvider");return l},Ax=({children:l})=>{const{user:c}=Ct(),[o,d]=j.useState(()=>{const h=localStorage.getItem("peptide_theme");return h||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});j.useEffect(()=>{document.documentElement.setAttribute("data-theme",o),localStorage.setItem("peptide_theme",o)},[o]),j.useEffect(()=>{(async()=>{if(c)try{const{data:g}=await K.from("profiles").select("theme_preference").eq("id",c.id).single();g?.theme_preference&&d(g.theme_preference)}catch{console.log("Theme preference not found, using local")}})()},[c]);const u=async()=>{const h=o==="dark"?"light":"dark";if(d(h),c)try{await K.from("profiles").update({theme_preference:h}).eq("id",c.id)}catch(g){console.error("Error saving theme preference:",g)}},f=async h=>{if(d(h),c)try{await K.from("profiles").update({theme_preference:h}).eq("id",c.id)}catch(g){console.error("Error saving theme preference:",g)}};return a.jsx(Mg.Provider,{value:{theme:o,toggleTheme:u,setThemeMode:f},children:l})},Vr=({children:l})=>{const{user:c,loading:o}=Ct(),d=un();return o?a.jsx("div",{className:"loading-screen",children:"Loading..."}):c?l:a.jsx(Xr,{to:"/login",state:{from:d},replace:!0})},Ex=({children:l})=>{const{user:c,isAdmin:o,loading:d}=Ct(),u=un();return d?a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",gap:"1rem"},children:[a.jsx(rn,{className:"animate-spin",size:32}),a.jsx("p",{style:{color:"var(--text-secondary)"},children:"Checking permissions..."})]}):c?o?l:a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",gap:"1.5rem",padding:"2rem",textAlign:"center"},children:[a.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"rgba(239, 68, 68, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Vv,{size:40,color:"#ef4444"})}),a.jsx("h1",{style:{fontSize:"1.5rem",margin:0},children:"Access Denied"}),a.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"400px"},children:"You don't have permission to access the admin panel. This area is restricted to administrators only."}),a.jsx("a",{href:"/",className:"btn-primary",style:{textDecoration:"none"},children:"Return to Home"})]}):a.jsx(Xr,{to:"/login",state:{from:u},replace:!0})};var di;(function(l){l.Unimplemented="UNIMPLEMENTED",l.Unavailable="UNAVAILABLE"})(di||(di={}));class Nd extends Error{constructor(c,o,d){super(c),this.message=c,this.code=o,this.data=d}}const kx=l=>{var c,o;return l?.androidBridge?"android":!((o=(c=l?.webkit)===null||c===void 0?void 0:c.messageHandlers)===null||o===void 0)&&o.bridge?"ios":"web"},Bx=l=>{const c=l.CapacitorCustomPlatform||null,o=l.Capacitor||{},d=o.Plugins=o.Plugins||{},u=()=>c!==null?c.name:kx(l),f=()=>u()!=="web",h=C=>{const D=v.get(C);return!!(D?.platforms.has(u())||g(C))},g=C=>{var D;return(D=o.PluginHeaders)===null||D===void 0?void 0:D.find(V=>V.name===C)},p=C=>l.console.error(C),v=new Map,S=(C,D={})=>{const V=v.get(C);if(V)return console.warn(`Capacitor plugin "${C}" already registered. Cannot register plugins twice.`),V.proxy;const w=u(),H=g(C);let M;const N=async()=>(!M&&w in D?M=typeof D[w]=="function"?M=await D[w]():M=D[w]:c!==null&&!M&&"web"in D&&(M=typeof D.web=="function"?M=await D.web():M=D.web),M),b=(Y,L)=>{var U,se;if(H){const W=H?.methods.find(y=>L===y.name);if(W)return W.rtype==="promise"?y=>o.nativePromise(C,L.toString(),y):(y,q)=>o.nativeCallback(C,L.toString(),y,q);if(Y)return(U=Y[L])===null||U===void 0?void 0:U.bind(Y)}else{if(Y)return(se=Y[L])===null||se===void 0?void 0:se.bind(Y);throw new Nd(`"${C}" plugin is not implemented on ${w}`,di.Unimplemented)}},E=Y=>{let L;const U=(...se)=>{const W=N().then(y=>{const q=b(y,Y);if(q){const le=q(...se);return L=le?.remove,le}else throw new Nd(`"${C}.${Y}()" is not implemented on ${w}`,di.Unimplemented)});return Y==="addListener"&&(W.remove=async()=>L()),W};return U.toString=()=>`${Y.toString()}() { [capacitor code] }`,Object.defineProperty(U,"name",{value:Y,writable:!1,configurable:!1}),U},x=E("addListener"),I=E("removeListener"),k=(Y,L)=>{const U=x({eventName:Y},L),se=async()=>{const y=await U;I({eventName:Y,callbackId:y},L)},W=new Promise(y=>U.then(()=>y({remove:se})));return W.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await se()},W},R=new Proxy({},{get(Y,L){switch(L){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return H?k:x;case"removeListener":return I;default:return E(L)}}});return d[C]=R,v.set(C,{name:C,proxy:R,platforms:new Set([...Object.keys(D),...H?[w]:[]])}),R};return o.convertFileSrc||(o.convertFileSrc=C=>C),o.getPlatform=u,o.handleError=p,o.isNativePlatform=f,o.isPluginAvailable=h,o.registerPlugin=S,o.Exception=Nd,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o},zx=l=>l.Capacitor=Bx(l),vl=zx(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),pu=vl.registerPlugin;class gu{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(c,o){let d=!1;this.listeners[c]||(this.listeners[c]=[],d=!0),this.listeners[c].push(o);const f=this.windowListeners[c];f&&!f.registered&&this.addWindowListener(f),d&&this.sendRetainedArgumentsForEvent(c);const h=async()=>this.removeListener(c,o);return Promise.resolve({remove:h})}async removeAllListeners(){this.listeners={};for(const c in this.windowListeners)this.removeWindowListener(this.windowListeners[c]);this.windowListeners={}}notifyListeners(c,o,d){const u=this.listeners[c];if(!u){if(d){let f=this.retainedEventArguments[c];f||(f=[]),f.push(o),this.retainedEventArguments[c]=f}return}u.forEach(f=>f(o))}hasListeners(c){var o;return!!(!((o=this.listeners[c])===null||o===void 0)&&o.length)}registerWindowListener(c,o){this.windowListeners[o]={registered:!1,windowEventName:c,pluginEventName:o,handler:d=>{this.notifyListeners(o,d)}}}unimplemented(c="not implemented"){return new vl.Exception(c,di.Unimplemented)}unavailable(c="not available"){return new vl.Exception(c,di.Unavailable)}async removeListener(c,o){const d=this.listeners[c];if(!d)return;const u=d.indexOf(o);this.listeners[c].splice(u,1),this.listeners[c].length||this.removeWindowListener(this.windowListeners[c])}addWindowListener(c){window.addEventListener(c.windowEventName,c.handler),c.registered=!0}removeWindowListener(c){c&&(window.removeEventListener(c.windowEventName,c.handler),c.registered=!1)}sendRetainedArgumentsForEvent(c){const o=this.retainedEventArguments[c];o&&(delete this.retainedEventArguments[c],o.forEach(d=>{this.notifyListeners(c,d)}))}}const Dp=l=>encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ap=l=>l.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Lx extends gu{async getCookies(){const c=document.cookie,o={};return c.split(";").forEach(d=>{if(d.length<=0)return;let[u,f]=d.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");u=Ap(u).trim(),f=Ap(f).trim(),o[u]=f}),o}async setCookie(c){try{const o=Dp(c.key),d=Dp(c.value),u=`; expires=${(c.expires||"").replace("expires=","")}`,f=(c.path||"/").replace("path=",""),h=c.url!=null&&c.url.length>0?`domain=${c.url}`:"";document.cookie=`${o}=${d||""}${u}; path=${f}; ${h};`}catch(o){return Promise.reject(o)}}async deleteCookie(c){try{document.cookie=`${c.key}=; Max-Age=0`}catch(o){return Promise.reject(o)}}async clearCookies(){try{const c=document.cookie.split(";")||[];for(const o of c)document.cookie=o.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(c){return Promise.reject(c)}}async clearAllCookies(){try{await this.clearCookies()}catch(c){return Promise.reject(c)}}}pu("CapacitorCookies",{web:()=>new Lx});const Mx=async l=>new Promise((c,o)=>{const d=new FileReader;d.onload=()=>{const u=d.result;c(u.indexOf(",")>=0?u.split(",")[1]:u)},d.onerror=u=>o(u),d.readAsDataURL(l)}),Rx=(l={})=>{const c=Object.keys(l);return Object.keys(l).map(u=>u.toLocaleLowerCase()).reduce((u,f,h)=>(u[f]=l[c[h]],u),{})},Ox=(l,c=!0)=>l?Object.entries(l).reduce((d,u)=>{const[f,h]=u;let g,p;return Array.isArray(h)?(p="",h.forEach(v=>{g=c?encodeURIComponent(v):v,p+=`${f}=${g}&`}),p.slice(0,-1)):(g=c?encodeURIComponent(h):h,p=`${f}=${g}`),`${d}&${p}`},"").substr(1):null,Ux=(l,c={})=>{const o=Object.assign({method:l.method||"GET",headers:l.headers},c),u=Rx(l.headers)["content-type"]||"";if(typeof l.data=="string")o.body=l.data;else if(u.includes("application/x-www-form-urlencoded")){const f=new URLSearchParams;for(const[h,g]of Object.entries(l.data||{}))f.set(h,g);o.body=f.toString()}else if(u.includes("multipart/form-data")||l.data instanceof FormData){const f=new FormData;if(l.data instanceof FormData)l.data.forEach((g,p)=>{f.append(p,g)});else for(const g of Object.keys(l.data))f.append(g,l.data[g]);o.body=f;const h=new Headers(o.headers);h.delete("content-type"),o.headers=h}else(u.includes("application/json")||typeof l.data=="object")&&(o.body=JSON.stringify(l.data));return o};class Ix extends gu{async request(c){const o=Ux(c,c.webFetchExtra),d=Ox(c.params,c.shouldEncodeUrlParams),u=d?`${c.url}?${d}`:c.url,f=await fetch(u,o),h=f.headers.get("content-type")||"";let{responseType:g="text"}=f.ok?c:{};h.includes("application/json")&&(g="json");let p,v;switch(g){case"arraybuffer":case"blob":v=await f.blob(),p=await Mx(v);break;case"json":p=await f.json();break;case"document":case"text":default:p=await f.text()}const S={};return f.headers.forEach((C,D)=>{S[D]=C}),{data:p,headers:S,status:f.status,url:f.url}}async get(c){return this.request(Object.assign(Object.assign({},c),{method:"GET"}))}async post(c){return this.request(Object.assign(Object.assign({},c),{method:"POST"}))}async put(c){return this.request(Object.assign(Object.assign({},c),{method:"PUT"}))}async patch(c){return this.request(Object.assign(Object.assign({},c),{method:"PATCH"}))}async delete(c){return this.request(Object.assign(Object.assign({},c),{method:"DELETE"}))}}pu("CapacitorHttp",{web:()=>new Ix});var Ep;(function(l){l.Dark="DARK",l.Light="LIGHT",l.Default="DEFAULT"})(Ep||(Ep={}));var kp;(function(l){l.StatusBar="StatusBar",l.NavigationBar="NavigationBar"})(kp||(kp={}));class Hx extends gu{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}pu("SystemBars",{web:()=>new Hx});const Ht=vl.isNativePlatform(),ui=vl.getPlatform(),qx={async impact(l="medium"){if(Ht)try{const{Haptics:c,ImpactStyle:o}=await Ge(async()=>{const{Haptics:u,ImpactStyle:f}=await import("./index-T8HM1IRC.js");return{Haptics:u,ImpactStyle:f}},__vite__mapDeps([0,1,2,3,4,5,6])),d={light:o.Light,medium:o.Medium,heavy:o.Heavy};await c.impact({style:d[l]||o.Medium})}catch(c){console.log("Haptics not available",c)}},async notification(l="success"){if(Ht)try{const{Haptics:c,NotificationType:o}=await Ge(async()=>{const{Haptics:u,NotificationType:f}=await import("./index-T8HM1IRC.js");return{Haptics:u,NotificationType:f}},__vite__mapDeps([0,1,2,3,4,5,6])),d={success:o.Success,warning:o.Warning,error:o.Error};await c.notification({type:d[l]||o.Success})}catch(c){console.log("Haptics not available",c)}},async vibrate(l=300){if(Ht)try{const{Haptics:c}=await Ge(async()=>{const{Haptics:o}=await import("./index-T8HM1IRC.js");return{Haptics:o}},__vite__mapDeps([0,1,2,3,4,5,6]));await c.vibrate({duration:l})}catch(c){console.log("Haptics not available",c)}}},nn={async requestPermission(){if(!Ht)return!1;try{const{LocalNotifications:l}=await Ge(async()=>{const{LocalNotifications:o}=await import("./index-JZVBs0Jm.js");return{LocalNotifications:o}},__vite__mapDeps([7,1,2,3,4,5,6]));return(await l.requestPermissions()).display==="granted"}catch(l){return console.log("Local notifications not available",l),!1}},async schedule(l){if(Ht)try{const{LocalNotifications:c}=await Ge(async()=>{const{LocalNotifications:o}=await import("./index-JZVBs0Jm.js");return{LocalNotifications:o}},__vite__mapDeps([7,1,2,3,4,5,6]));await c.schedule({notifications:l})}catch(c){console.log("Failed to schedule notification",c)}},async scheduleInjectionReminder({id:l,title:c,body:o,scheduledAt:d}){return this.schedule([{id:l,title:c||"Peptide Tracker Reminder",body:o,schedule:{at:d},sound:"default",smallIcon:"ic_stat_icon",iconColor:"#8b5cf6",actionTypeId:"INJECTION_REMINDER",extra:{type:"injection_reminder"}}])},async cancel(l){if(Ht)try{const{LocalNotifications:c}=await Ge(async()=>{const{LocalNotifications:o}=await import("./index-JZVBs0Jm.js");return{LocalNotifications:o}},__vite__mapDeps([7,1,2,3,4,5,6]));await c.cancel({notifications:l.map(o=>({id:o}))})}catch(c){console.log("Failed to cancel notifications",c)}},async getPending(){if(!Ht)return[];try{const{LocalNotifications:l}=await Ge(async()=>{const{LocalNotifications:o}=await import("./index-JZVBs0Jm.js");return{LocalNotifications:o}},__vite__mapDeps([7,1,2,3,4,5,6]));return(await l.getPending()).notifications}catch(l){return console.log("Failed to get pending notifications",l),[]}}},Wr={async setStyle(l="dark"){if(Ht)try{const{StatusBar:c,Style:o}=await Ge(async()=>{const{StatusBar:d,Style:u}=await import("./index-D0UTJNo3.js");return{StatusBar:d,Style:u}},__vite__mapDeps([8,2,3,4,1,5,6]));await c.setStyle({style:l==="dark"?o.Dark:o.Light})}catch(c){console.log("Status bar not available",c)}},async setBackgroundColor(l){if(!(!Ht||ui!=="android"))try{const{StatusBar:c}=await Ge(async()=>{const{StatusBar:o}=await import("./index-D0UTJNo3.js");return{StatusBar:o}},__vite__mapDeps([8,2,3,4,1,5,6]));await c.setBackgroundColor({color:l})}catch(c){console.log("Status bar not available",c)}},async hide(){if(Ht)try{const{StatusBar:l}=await Ge(async()=>{const{StatusBar:c}=await import("./index-D0UTJNo3.js");return{StatusBar:c}},__vite__mapDeps([8,2,3,4,1,5,6]));await l.hide()}catch(l){console.log("Status bar not available",l)}},async show(){if(Ht)try{const{StatusBar:l}=await Ge(async()=>{const{StatusBar:c}=await import("./index-D0UTJNo3.js");return{StatusBar:c}},__vite__mapDeps([8,2,3,4,1,5,6]));await l.show()}catch(l){console.log("Status bar not available",l)}}},Vx={async hide(){if(Ht)try{const{SplashScreen:l}=await Ge(async()=>{const{SplashScreen:c}=await import("./index-BUavrN_6.js");return{SplashScreen:c}},__vite__mapDeps([9,1,2,3,4,5,6]));await l.hide()}catch(l){console.log("Splash screen not available",l)}},async show(l={}){if(Ht)try{const{SplashScreen:c}=await Ge(async()=>{const{SplashScreen:o}=await import("./index-BUavrN_6.js");return{SplashScreen:o}},__vite__mapDeps([9,1,2,3,4,5,6]));await c.show(l)}catch(c){console.log("Splash screen not available",c)}}},Bp={async addStateListener(l){try{const{App:c}=await Ge(async()=>{const{App:o}=await import("./index-BwZiTGfl.js");return{App:o}},__vite__mapDeps([10,1,2,3,4,5,6]));c.addListener("appStateChange",l)}catch{}},async addUrlListener(l){try{const{App:c}=await Ge(async()=>{const{App:o}=await import("./index-BwZiTGfl.js");return{App:o}},__vite__mapDeps([10,1,2,3,4,5,6]));c.addListener("appUrlOpen",l)}catch{}},async addBackButtonListener(l){if(ui==="android")try{const{App:c}=await Ge(async()=>{const{App:o}=await import("./index-BwZiTGfl.js");return{App:o}},__vite__mapDeps([10,1,2,3,4,5,6]));c.addListener("backButton",l)}catch{}},async exitApp(){if(ui==="android")try{const{App:l}=await Ge(async()=>{const{App:c}=await import("./index-BwZiTGfl.js");return{App:c}},__vite__mapDeps([10,1,2,3,4,5,6]));await l.exitApp()}catch{}}},si={isNative:Ht,isAndroid:ui==="android"};async function Gx(){Ht&&(await Wr.setStyle("dark"),ui==="android"&&await Wr.setBackgroundColor("#0f172a"),setTimeout(()=>{Vx.hide()},500),await nn.requestPermission(),console.log(`Peptide Tracker running on ${ui}`))}const $x="_nav_s3me3_2",Yx="_navContent_s3me3_16",Px="_desktopOnly_s3me3_27",Xx="_mobileOnly_s3me3_31",Qx="_navItem_s3me3_42",Zx="_label_s3me3_53",Fx="_avatarIcon_s3me3_57",Kx="_moreMenu_s3me3_117",Jx="_backdrop_s3me3_118",Wx="_active_s3me3_166",ej="_moreButton_s3me3_195",tj="_activeDot_s3me3_199",aj="_backdropVisible_s3me3_235",sj="_moreMenuOpen_s3me3_262",nj="_moreMenuHeader_s3me3_268",ij="_moreMenuTitle_s3me3_276",lj="_closeButton_s3me3_282",rj="_moreMenuGrid_s3me3_305",cj="_moreMenuItem_s3me3_312",oj="_moreMenuItemActive_s3me3_337",dj="_moreMenuIcon_s3me3_343",uj="_moreMenuLabel_s3me3_364",fj="_premiumBadge_s3me3_374",mj="_premiumItem_s3me3_388",Te={nav:$x,navContent:Yx,desktopOnly:Px,mobileOnly:Xx,navItem:Qx,label:Zx,avatarIcon:Fx,moreMenu:Kx,backdrop:Jx,active:Wx,moreButton:ej,activeDot:tj,backdropVisible:aj,moreMenuOpen:sj,moreMenuHeader:nj,moreMenuTitle:ij,closeButton:lj,moreMenuGrid:rj,moreMenuItem:cj,moreMenuItemActive:oj,moreMenuIcon:dj,moreMenuLabel:uj,premiumBadge:fj,premiumItem:mj},hj=()=>{const{user:l}=Ct(),[c,o]=j.useState(!1),d=un(),u=j.useRef(null);j.useEffect(()=>{o(!1)},[d.pathname]),j.useEffect(()=>{const v=S=>{u.current&&!u.current.contains(S.target)&&o(!1)};return c&&(document.addEventListener("mousedown",v),document.addEventListener("touchstart",v)),()=>{document.removeEventListener("mousedown",v),document.removeEventListener("touchstart",v)}},[c]);const f=()=>{if(!l)return"";const v=l.user_metadata?.full_name||l.email||"";if(l.user_metadata?.full_name){const S=v.split(" ");return S.length>1?`${S[0][0]}${S[1][0]}`.toUpperCase():v[0]?.toUpperCase()||"U"}return v[0]?.toUpperCase()||"U"},h=["/half-life","/guides","/price-checker","/forum","/injection-sites","/blood-work","/titration","/reviews","/stack-builder"].includes(d.pathname),g=()=>{qx.impact("light")},p=[{to:"/injection-sites",icon:Gv,label:"Inject Sites",ariaLabel:"Injection Site Guide"},{to:"/half-life",icon:Wt,label:"Decay Plot",ariaLabel:"Half-Life Plotter"},{to:"/guides",icon:hl,label:"Guides",ariaLabel:"Peptide Guides"},{to:"/price-checker",icon:Qr,label:"Prices",ariaLabel:"Price Checker"},{to:"/inventory",icon:ac,label:"Stock",ariaLabel:"Peptide Inventory"},{to:"/reviews",icon:as,label:"Reviews",ariaLabel:"Vendor Reviews"},{to:"/blood-work",icon:$v,label:"Blood Work",ariaLabel:"Blood Work Tracker",premium:!0},{to:"/titration",icon:cn,label:"Titration",ariaLabel:"Dose Titration Planner",premium:!0},{to:"/stack-builder",icon:Yv,label:"Stack Builder",ariaLabel:"Peptide Stack Interaction Checker",premium:!0},{to:"/forum",icon:Lt,label:"Forum",ariaLabel:"Community Forum"}];return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`${Te.backdrop} ${c?Te.backdropVisible:""}`,onClick:()=>o(!1)}),a.jsxs("div",{ref:u,className:`${Te.moreMenu} ${c?Te.moreMenuOpen:""}`,children:[a.jsxs("div",{className:Te.moreMenuHeader,children:[a.jsx("span",{className:Te.moreMenuTitle,children:"More Options"}),a.jsx("button",{className:Te.closeButton,onClick:()=>o(!1),"aria-label":"Close menu",children:a.jsx(Rs,{size:20})})]}),a.jsx("div",{className:Te.moreMenuGrid,children:p.map(v=>a.jsxs(ts,{to:v.to,"aria-label":v.ariaLabel,className:({isActive:S})=>`${Te.moreMenuItem} ${S?Te.moreMenuItemActive:""} ${v.premium?Te.premiumItem:""}`,onClick:()=>o(!1),children:[a.jsxs("div",{className:Te.moreMenuIcon,children:[a.jsx(v.icon,{size:22}),v.premium&&a.jsx("span",{className:Te.premiumBadge,children:"PRO"})]}),a.jsx("span",{className:Te.moreMenuLabel,children:v.label})]},v.to))})]}),a.jsx("nav",{className:Te.nav,children:a.jsxs("div",{className:Te.navContent,children:[a.jsxs(ts,{to:"/","aria-label":"Home",onClick:g,className:({isActive:v})=>`${Te.navItem} ${v?Te.active:""}`,children:[a.jsx(Ng,{size:22}),a.jsx("span",{className:Te.label,children:"Home"})]}),a.jsxs(ts,{to:"/log","aria-label":"Injection Log",onClick:g,className:({isActive:v})=>`${Te.navItem} ${v?Te.active:""}`,children:[a.jsx(La,{size:22}),a.jsx("span",{className:Te.label,children:"Log"})]}),a.jsxs(ts,{to:"/calculator","aria-label":"Reconstitution Calculator",onClick:g,className:({isActive:v})=>`${Te.navItem} ${v?Te.active:""}`,children:[a.jsx(su,{size:22}),a.jsx("span",{className:Te.label,children:"Calc"})]}),a.jsxs(ts,{to:"/encyclopedia","aria-label":"Peptide Encyclopedia",onClick:g,className:({isActive:v})=>`${Te.navItem} ${v?Te.active:""}`,children:[a.jsx(hl,{size:22}),a.jsx("span",{className:Te.label,children:"Library"})]}),p.map(v=>a.jsxs(ts,{to:v.to,"aria-label":v.ariaLabel,className:({isActive:S})=>`${Te.navItem} ${Te.desktopOnly} ${S?Te.active:""}`,children:[a.jsx(v.icon,{size:22}),a.jsx("span",{className:Te.label,children:v.label})]},v.to)),a.jsxs("button",{className:`${Te.navItem} ${Te.moreButton} ${Te.mobileOnly} ${h?Te.active:""}`,onClick:()=>{g(),o(!c)},"aria-label":"More options","aria-expanded":c,children:[a.jsx(Pv,{size:22}),a.jsx("span",{className:Te.label,children:"More"}),h&&a.jsx("span",{className:Te.activeDot})]}),l?a.jsxs(ts,{to:"/settings","aria-label":"Profile Settings",className:({isActive:v})=>`${Te.navItem} ${v?Te.active:""}`,children:[a.jsx("div",{className:Te.avatarIcon,children:f()}),a.jsx("span",{className:Te.label,children:"Profile"})]}):a.jsxs(ts,{to:"/login","aria-label":"Login",className:({isActive:v})=>`${Te.navItem} ${v?Te.active:""}`,children:[a.jsx(pl,{size:22}),a.jsx("span",{className:Te.label,children:"Login"})]})]})})]})},pj=()=>{const l=un();return j.useEffect(()=>{if(si.isNative){const c=document.documentElement.getAttribute("data-theme")!=="light";Wr.setStyle(c?"dark":"light"),si.isAndroid&&Wr.setBackgroundColor("#0a0e1a")}},[]),j.useEffect(()=>{window.scrollTo(0,0)},[l.pathname]),j.useEffect(()=>{si.isAndroid&&Bp.addBackButtonListener(({canGoBack:c})=>{c||l.pathname!=="/"?window.history.back():Bp.exitApp()})},[l.pathname]),j.useEffect(()=>{const c=()=>{const o=window.visualViewport?.height||window.innerHeight,d=window.innerHeight;o<d*.75?document.body.classList.add("keyboard-open"):document.body.classList.remove("keyboard-open")};return window.visualViewport&&window.visualViewport.addEventListener("resize",c),()=>{window.visualViewport&&window.visualViewport.removeEventListener("resize",c)}},[]),a.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",paddingTop:"var(--safe-area-top, 0px)"},children:[a.jsx("a",{href:"#main-content",className:"skip-link",style:{position:"absolute",top:"-50px",left:"16px",background:"var(--accent-primary)",color:"white",padding:"12px 24px",borderRadius:"0 0 8px 8px",zIndex:9999,fontWeight:600,textDecoration:"none",transition:"top 0.3s ease"},children:"Skip to main content"}),a.jsx("main",{id:"main-content",role:"main",style:{flex:1,paddingBottom:"calc(80px + var(--safe-area-bottom, 0px))"},children:a.jsx(Sg,{})}),a.jsx(hj,{})]})},yu="peptide_tracker_injections",Gr=()=>{try{const l=localStorage.getItem(yu);return l?JSON.parse(l):[]}catch{return[]}},Cd=l=>{try{localStorage.setItem(yu,JSON.stringify(l))}catch(c){console.error("Error saving to localStorage:",c)}},Sl=()=>{const[l,c]=j.useState([]),[o,d]=j.useState(!0),[u,f]=j.useState(null),{user:h}=Ct(),g=j.useCallback(async()=>{try{f(null);const{data:w,error:H}=await K.from("injections").select("*").order("injection_date",{ascending:!1});if(H)throw H;const M=(w||[]).map(N=>({id:N.id,peptide:N.peptide_name,dosage:N.dosage_value||N.dosage_mcg/1e3,unit:N.dosage_unit||"mg",date:N.injection_date,notes:N.notes||"",site:N.injection_site||"Abdomen",bodyWeightLbs:N.body_weight_lbs||null}));c(M)}catch(w){console.error("Error fetching injections:",w),f("Failed to load injections")}},[]),p=j.useCallback(()=>{const w=Gr();w.sort((H,M)=>new Date(M.date)-new Date(H.date)),c(w)},[]);j.useEffect(()=>{d(!0),h&&h.id!=="mock-user-id"?g().finally(()=>d(!1)):(p(),d(!1))},[h,g,p]);const v=async w=>{const H={...w,id:w.id||crypto.randomUUID(),date:w.date||new Date().toISOString()};if(c(M=>[H,...M]),h&&h.id!=="mock-user-id")try{const M=w.unit==="mg"?w.dosage:w.unit==="mcg"?w.dosage/1e3:0,{data:N,error:b}=await K.from("injections").insert([{user_id:h.id,peptide_name:w.peptide,dosage_mcg:w.unit==="mg"?w.dosage*1e3:(w.unit==="mcg",w.dosage),dosage_value:w.dosage,dosage_unit:w.unit,injection_date:H.date,injection_site:w.site,body_weight_lbs:w.bodyWeightLbs||null,notes:w.notes||""}]).select().single();if(b)throw b;if(M>0)try{const{data:E}=await K.from("inventory").select("id, remaining_mg, user_id").eq("user_id",h.id).eq("peptide_name",w.peptide).gt("remaining_mg",0).order("created_at",{ascending:!0}).limit(1);if(E&&E.length>0){const x=E[0],I=Math.max(0,x.remaining_mg-M);await K.from("inventory").update({remaining_mg:I}).eq("id",x.id)}}catch(E){console.error("Silent error updating inventory:",E)}return c(E=>E.map(x=>x.id===H.id?{...x,id:N.id}:x)),{success:!0,data:N}}catch(M){return console.error("Error adding injection:",M),c(N=>N.filter(b=>b.id!==H.id)),f("Failed to save injection"),{success:!1,error:M}}else{const M=Gr();return Cd([H,...M]),{success:!0,data:H}}},S=async(w,H)=>{if(c(M=>M.map(N=>N.id===w?{...N,...H}:N)),h&&h.id!=="mock-user-id")try{const{error:M}=await K.from("injections").update({peptide_name:H.peptide,dosage_mcg:H.unit==="mg"?H.dosage*1e3:H.dosage,dosage_value:H.dosage,dosage_unit:H.unit,injection_date:H.date,injection_site:H.site,body_weight_lbs:H.bodyWeightLbs,notes:H.notes}).eq("id",w);if(M)throw M;return{success:!0}}catch(M){return console.error("Error updating injection:",M),g(),{success:!1,error:M}}else{const N=Gr().map(b=>b.id===w?{...b,...H}:b);return Cd(N),{success:!0}}},C=async w=>{const H=[...l];if(c(M=>M.filter(N=>N.id!==w)),h&&h.id!=="mock-user-id")try{const{error:M}=await K.from("injections").delete().eq("id",w);if(M)throw M;return{success:!0}}catch(M){return console.error("Error deleting injection:",M),c(H),f("Failed to delete injection"),{success:!1,error:M}}else{const N=Gr().filter(b=>b.id!==w);return Cd(N),{success:!0}}},D=()=>{localStorage.removeItem(yu)},V=j.useCallback(()=>{if(l.length===0)return null;const w=Date.now(),H=l[0];let M=0;l.forEach(E=>{const x=new Date(E.date).getTime();if(isNaN(x))return;const I=(w-x)/(1e3*60*60),Y=(E.unit==="mcg"?E.dosage/1e3:E.dosage)*Math.pow(.5,I/168);Y>.001&&(M+=Y)});const N=w-10080*60*1e3,b=l.filter(E=>new Date(E.date).getTime()>N);return{totalInjections:l.length,lastInjection:H,activeLevel:M.toFixed(3),weeklyCount:b.length,weeklyDosage:b.reduce((E,x)=>E+(x.unit==="mcg"?x.dosage/1e3:x.dosage),0).toFixed(2)}},[l]);return{injections:l,loading:o,error:u,addInjection:v,updateInjection:S,deleteInjection:C,clearLocalInjections:D,getStats:V,refresh:h&&h.id!=="mock-user-id"?g:p,isUsingLocalStorage:!h||h.id==="mock-user-id"}},ol="peptidelog_onboarding_complete",gj=()=>{const{user:l}=Ct(),[c,o]=j.useState(!1),[d,u]=j.useState(!0);j.useEffect(()=>{(async()=>{u(!0);try{if(l){const{data:v,error:S}=await K.from("profiles").select("onboarding_complete").eq("id",l.id).single();S&&S.code!=="PGRST116"&&console.warn("Error checking onboarding status:",S);const C=v?.onboarding_complete===!0;o(!C)}else{const v=localStorage.getItem(ol)==="true";o(!v)}}catch(v){console.error("Error checking onboarding:",v),o(!1)}finally{u(!1)}})()},[l]);const f=j.useCallback(async()=>{try{l&&await K.from("profiles").update({onboarding_complete:!0}).eq("id",l.id),localStorage.setItem(ol,"true"),o(!1)}catch(p){console.error("Error completing onboarding:",p),localStorage.setItem(ol,"true"),o(!1)}},[l]),h=j.useCallback(()=>{localStorage.setItem(ol,"true"),o(!1)},[]),g=j.useCallback(async()=>{try{l&&await K.from("profiles").update({onboarding_complete:!1}).eq("id",l.id),localStorage.removeItem(ol),o(!0)}catch(p){console.error("Error resetting onboarding:",p)}},[l]);return{showOnboarding:c,loading:d,completeOnboarding:f,skipOnboarding:h,resetOnboarding:g}},yj="_container_1aj82_1",_j="_header_1aj82_5",vj="_title_1aj82_14",xj="_rangeSelector_1aj82_24",jj="_rangeButton_1aj82_28",bj="_dropdown_1aj82_48",Sj="_dropdownItem_1aj82_62",wj="_active_1aj82_81",Nj="_statsGrid_1aj82_87",Cj="_statCard_1aj82_100",Tj="_statIcon_1aj82_116",Dj="_statContent_1aj82_126",Aj="_statValue_1aj82_132",Ej="_statLabel_1aj82_141",kj="_chartsGrid_1aj82_148",Bj="_chartCard_1aj82_159",zj="_chartTitle_1aj82_181",Lj="_chartContainer_1aj82_188",Mj="_noData_1aj82_193",ze={container:yj,header:_j,title:vj,rangeSelector:xj,rangeButton:jj,dropdown:bj,dropdownItem:Sj,active:wj,statsGrid:Nj,statCard:Cj,statIcon:Tj,statContent:Dj,statValue:Aj,statLabel:Ej,chartsGrid:kj,chartCard:Bj,chartTitle:zj,chartContainer:Lj,noData:Mj};mv.register(hv,pv,gv,yv,_v,vv,xv,jv,bv,Sv);const Rj=()=>{const{injections:l}=Sl(),{theme:c}=Rg(),[o,d]=j.useState("30"),[u,f]=j.useState(!1),h=c==="dark",g={primary:"#3b82f6",secondary:"#06b6d4",accent:"#8b5cf6",success:"#10b981",warning:"#f59e0b",text:h?"#e2e8f0":"#1f2937",textMuted:h?"#94a3b8":"#6b7280",grid:h?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",background:"rgba(59, 130, 246, 0.1)"},p=j.useMemo(()=>{const N=ln(new Date,parseInt(o));return l.filter(b=>new Date(b.injection_date||b.date)>=N)},[l,o]),v=j.useMemo(()=>{const N=p.length,b=[...new Set(p.map(k=>k.peptide_name||k.peptide))],E=N/(parseInt(o)/7),x={};p.forEach(k=>{const R=k.peptide_name||k.peptide;x[R]=(x[R]||0)+1});const I=Object.entries(x).sort((k,R)=>R[1]-k[1])[0];return{total:N,uniquePeptides:b.length,avgPerWeek:E.toFixed(1),mostUsed:I?I[0]:"N/A"}},[p,o]),S=j.useMemo(()=>{const N=parseInt(o),b=[],E=[];for(let x=N-1;x>=0;x--){const I=ln(new Date,x),k=Nt(I,"yyyy-MM-dd");b.push(Nt(I,N>14?"MMM d":"EEE"));const R=p.filter(Y=>Nt(new Date(Y.injection_date||Y.date),"yyyy-MM-dd")===k).length;E.push(R)}return{labels:b,datasets:[{label:"Injections",data:E,fill:!0,borderColor:g.primary,backgroundColor:"rgba(59, 130, 246, 0.15)",tension:.4,pointRadius:N>14?0:4,pointHoverRadius:6,pointBackgroundColor:g.primary}]}},[p,o,g]),C=j.useMemo(()=>{const N={};p.forEach(x=>{const I=x.peptide_name||x.peptide;N[I]=(N[I]||0)+1});const b=Object.entries(N).sort((x,I)=>I[1]-x[1]).slice(0,6),E=[g.primary,g.secondary,g.accent,g.success,g.warning,"#ec4899"];return{labels:b.map(([x])=>x),datasets:[{data:b.map(([,x])=>x),backgroundColor:E.slice(0,b.length),borderWidth:0,hoverOffset:8}]}},[p,g]),D=j.useMemo(()=>{const N=[];for(let b=3;b>=0;b--){const E=zv(ln(new Date,b*7)),x=Lv(ln(new Date,b*7)),I=Nt(E,"MMM d"),k=p.filter(R=>{const Y=new Date(R.injection_date||R.date);return Y>=E&&Y<=x}).length;N.push({label:I,count:k})}return{labels:N.map(b=>b.label),datasets:[{label:"Weekly Injections",data:N.map(b=>b.count),backgroundColor:["rgba(59, 130, 246, 0.6)","rgba(59, 130, 246, 0.7)","rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 1)"],borderRadius:8,borderSkipped:!1}]}},[p]),V={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:h?"#1a1f35":"#fff",titleColor:g.text,bodyColor:g.textMuted,borderColor:g.grid,borderWidth:1,padding:12,cornerRadius:8}},scales:{x:{grid:{display:!1},ticks:{color:g.textMuted,maxTicksLimit:7}},y:{beginAtZero:!0,grid:{color:g.grid},ticks:{color:g.textMuted,stepSize:1}}}},w={responsive:!0,maintainAspectRatio:!1,cutout:"65%",plugins:{legend:{position:"bottom",labels:{color:g.textMuted,padding:16,usePointStyle:!0,pointStyle:"circle"}}}},H={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{color:g.textMuted}},y:{beginAtZero:!0,grid:{color:g.grid},ticks:{color:g.textMuted,stepSize:1}}}},M=[{value:"7",label:"Last 7 Days"},{value:"14",label:"Last 14 Days"},{value:"30",label:"Last 30 Days"},{value:"90",label:"Last 90 Days"}];return a.jsxs("div",{className:ze.container,children:[a.jsxs("div",{className:ze.header,children:[a.jsxs("h2",{className:ze.title,children:[a.jsx(cn,{size:24}),"Progress Analytics"]}),a.jsxs("div",{className:ze.rangeSelector,children:[a.jsxs("button",{className:ze.rangeButton,onClick:()=>f(!u),children:[M.find(N=>N.value===o)?.label,a.jsx(li,{size:16})]}),u&&a.jsx("div",{className:ze.dropdown,children:M.map(N=>a.jsx("button",{className:`${ze.dropdownItem} ${o===N.value?ze.active:""}`,onClick:()=>{d(N.value),f(!1)},children:N.label},N.value))})]})]}),a.jsxs("div",{className:ze.statsGrid,children:[a.jsxs("div",{className:ze.statCard,children:[a.jsx("div",{className:ze.statIcon,style:{background:"rgba(59, 130, 246, 0.15)",color:g.primary},children:a.jsx(Wt,{size:20})}),a.jsxs("div",{className:ze.statContent,children:[a.jsx("span",{className:ze.statValue,children:v.total}),a.jsx("span",{className:ze.statLabel,children:"Total Injections"})]})]}),a.jsxs("div",{className:ze.statCard,children:[a.jsx("div",{className:ze.statIcon,style:{background:"rgba(6, 182, 212, 0.15)",color:g.secondary},children:a.jsx(gl,{size:20})}),a.jsxs("div",{className:ze.statContent,children:[a.jsx("span",{className:ze.statValue,children:v.uniquePeptides}),a.jsx("span",{className:ze.statLabel,children:"Peptides Used"})]})]}),a.jsxs("div",{className:ze.statCard,children:[a.jsx("div",{className:ze.statIcon,style:{background:"rgba(139, 92, 246, 0.15)",color:g.accent},children:a.jsx(Mt,{size:20})}),a.jsxs("div",{className:ze.statContent,children:[a.jsx("span",{className:ze.statValue,children:v.avgPerWeek}),a.jsx("span",{className:ze.statLabel,children:"Avg/Week"})]})]}),a.jsxs("div",{className:ze.statCard,children:[a.jsx("div",{className:ze.statIcon,style:{background:"rgba(16, 185, 129, 0.15)",color:g.success},children:a.jsx(cn,{size:20})}),a.jsxs("div",{className:ze.statContent,children:[a.jsx("span",{className:ze.statValue,title:v.mostUsed,children:v.mostUsed.substring(0,12)}),a.jsx("span",{className:ze.statLabel,children:"Most Used"})]})]})]}),a.jsxs("div",{className:ze.chartsGrid,children:[a.jsxs("div",{className:ze.chartCard,children:[a.jsx("h3",{className:ze.chartTitle,children:"Injection Trend"}),a.jsx("div",{className:ze.chartContainer,children:a.jsx(wv,{data:S,options:V})})]}),a.jsxs("div",{className:ze.chartCard,children:[a.jsx("h3",{className:ze.chartTitle,children:"Peptide Distribution"}),a.jsx("div",{className:ze.chartContainer,children:C.labels.length>0?a.jsx(Nv,{data:C,options:w}):a.jsx("div",{className:ze.noData,children:"No data available"})})]}),a.jsxs("div",{className:ze.chartCard,children:[a.jsx("h3",{className:ze.chartTitle,children:"Weekly Comparison"}),a.jsx("div",{className:ze.chartContainer,children:a.jsx(Cv,{data:D,options:H})})]})]})]})},Oj="_overlay_vreib_4",Uj="_modal_vreib_28",Ij="_progressBar_vreib_59",Hj="_progressFill_vreib_69",qj="_header_vreib_77",Vj="_skipButton_vreib_82",Gj="_stepIndicators_vreib_105",$j="_stepDot_vreib_112",Yj="_stepDotActive_vreib_126",Pj="_stepDotComplete_vreib_132",Xj="_content_vreib_137",Qj="_stepContent_vreib_143",Zj="_stepIcon_vreib_160",Fj="_stepIconInner_vreib_182",Kj="_stepTitle_vreib_188",Jj="_stepSubtitle_vreib_198",Wj="_featureList_vreib_206",e0="_featureItem_vreib_212",t0="_featureIcon_vreib_229",a0="_featureContent_vreib_239",s0="_featureTitle_vreib_243",n0="_featureDescription_vreib_250",i0="_quickStartOptions_vreib_258",l0="_quickStartCard_vreib_264",r0="_quickStartIcon_vreib_285",c0="_quickStartLabel_vreib_295",o0="_quickStartHint_vreib_302",d0="_tipBox_vreib_310",u0="_tipIcon_vreib_321",f0="_tipText_vreib_326",m0="_navigation_vreib_338",h0="_navButton_vreib_347",p0="_navButtonSecondary_vreib_359",g0="_navButtonPrimary_vreib_370",y0="_navSpacer_vreib_388",_0="_confetti_vreib_397",v0="_sparkle_vreib_407",Ee={overlay:Oj,modal:Uj,progressBar:Ij,progressFill:Hj,header:qj,skipButton:Vj,stepIndicators:Gj,stepDot:$j,stepDotActive:Yj,stepDotComplete:Pj,content:Xj,stepContent:Qj,stepIcon:Zj,stepIconInner:Fj,stepTitle:Kj,stepSubtitle:Jj,featureList:Wj,featureItem:e0,featureIcon:t0,featureContent:a0,featureTitle:s0,featureDescription:n0,quickStartOptions:i0,quickStartCard:l0,quickStartIcon:r0,quickStartLabel:c0,quickStartHint:o0,tipBox:d0,tipIcon:u0,tipText:f0,navigation:m0,navButton:h0,navButtonSecondary:p0,navButtonPrimary:g0,navSpacer:y0,confetti:_0,sparkle:v0},x0=({onComplete:l,onSkip:c})=>{const[o,d]=j.useState(0),u=[{id:"welcome",icon:Xv,iconBg:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",iconColor:"#ffffff",title:"Welcome to PeptideLog",subtitle:"Your all-in-one companion for tracking, calculating, and optimizing your peptide journey.",features:[{icon:La,color:"#10b981",bgColor:"rgba(16, 185, 129, 0.15)",title:"Track Every Dose",description:"Log injections with precision timing and dosage records"},{icon:su,color:"#3b82f6",bgColor:"rgba(59, 130, 246, 0.15)",title:"Calculate Reconstitution",description:"Never mess up your BAC water ratios again"},{icon:yl,color:"#8b5cf6",bgColor:"rgba(139, 92, 246, 0.15)",title:"Monitor Progress",description:"Visualize your journey with detailed analytics"}]},{id:"tools",icon:nu,iconBg:"linear-gradient(135deg, #10b981 0%, #06b6d4 100%)",iconColor:"#ffffff",title:"Powerful Tools at Your Fingertips",subtitle:"Everything you need to manage your peptides like a pro.",features:[{icon:Mt,color:"#f59e0b",bgColor:"rgba(245, 158, 11, 0.15)",title:"Smart Scheduling",description:"Set reminders and never miss a dose with our calendar"},{icon:Qr,color:"#06b6d4",bgColor:"rgba(6, 182, 212, 0.15)",title:"Price Comparison",description:"Find the best deals across multiple vendors"},{icon:hl,color:"#ec4899",bgColor:"rgba(236, 72, 153, 0.15)",title:"Peptide Encyclopedia",description:"Research 50+ peptides with detailed info"},{icon:ac,color:"#f97316",bgColor:"rgba(249, 115, 22, 0.15)",title:"Inventory Management",description:"Track your stock and get expiration alerts"}],tip:{icon:Qv,text:"All core features are <strong>completely free</strong>. No credit card required!"}},{id:"start",icon:gl,iconBg:"linear-gradient(135deg, #f59e0b 0%, #ef4444 100%)",iconColor:"#ffffff",title:"You're All Set!",subtitle:"Choose how you want to get started:",celebration:!0,quickStart:[{to:"/log",icon:La,color:"#10b981",bgColor:"rgba(16, 185, 129, 0.15)",label:"Log First Injection",hint:"Start tracking now"},{to:"/calculator",icon:su,color:"#3b82f6",bgColor:"rgba(59, 130, 246, 0.15)",label:"Use Calculator",hint:"Reconstitute a peptide"},{to:"/encyclopedia",icon:hl,color:"#8b5cf6",bgColor:"rgba(139, 92, 246, 0.15)",label:"Browse Encyclopedia",hint:"Learn about peptides"},{to:"/price-checker",icon:Qr,color:"#06b6d4",bgColor:"rgba(6, 182, 212, 0.15)",label:"Compare Prices",hint:"Find the best deals"}]}],f=u[o],h=o===u.length-1,g=o===0,p=(o+1)/u.length*100,v=j.useCallback(()=>{h?l?.():d(w=>w+1)},[h,l]),S=j.useCallback(()=>{g||d(w=>w-1)},[g]),C=j.useCallback(()=>{c?.()},[c]),D=j.useCallback(w=>{l?.()},[l]),V=j.useCallback(w=>{d(w)},[]);return a.jsx("div",{className:Ee.overlay,children:a.jsxs("div",{className:Ee.modal,children:[a.jsx("div",{className:Ee.progressBar,children:a.jsx("div",{className:Ee.progressFill,style:{width:`${p}%`}})}),a.jsxs("div",{className:Ee.header,children:[a.jsxs("button",{className:Ee.skipButton,onClick:C,"aria-label":"Skip onboarding",children:["Skip ",a.jsx(Rs,{size:14})]}),a.jsx("div",{className:Ee.stepIndicators,children:u.map((w,H)=>a.jsx("button",{className:`${Ee.stepDot} ${H===o?Ee.stepDotActive:""} ${H<o?Ee.stepDotComplete:""}`,onClick:()=>V(H),"aria-label":`Go to step ${H+1}`},w.id))})]}),a.jsx("div",{className:Ee.content,children:a.jsxs("div",{className:Ee.stepContent,children:[f.celebration&&a.jsxs("div",{className:Ee.confetti,children:[a.jsx("span",{className:Ee.sparkle}),a.jsx("span",{className:Ee.sparkle}),a.jsx("span",{className:Ee.sparkle}),a.jsx("span",{className:Ee.sparkle}),a.jsx("span",{className:Ee.sparkle})]}),a.jsx("div",{className:Ee.stepIcon,style:{background:f.iconBg},children:a.jsx(f.icon,{size:36,color:f.iconColor,className:Ee.stepIconInner})}),a.jsx("h2",{className:Ee.stepTitle,children:f.title}),a.jsx("p",{className:Ee.stepSubtitle,children:f.subtitle}),f.features&&a.jsx("div",{className:Ee.featureList,children:f.features.map((w,H)=>a.jsxs("div",{className:Ee.featureItem,children:[a.jsx("div",{className:Ee.featureIcon,style:{background:w.bgColor,color:w.color},children:a.jsx(w.icon,{size:22})}),a.jsxs("div",{className:Ee.featureContent,children:[a.jsx("h4",{className:Ee.featureTitle,children:w.title}),a.jsx("p",{className:Ee.featureDescription,children:w.description})]})]},H))}),f.quickStart&&a.jsx("div",{className:Ee.quickStartOptions,children:f.quickStart.map((w,H)=>a.jsxs(st,{to:w.to,className:Ee.quickStartCard,onClick:()=>D(w.to),children:[a.jsx("div",{className:Ee.quickStartIcon,style:{background:w.bgColor,color:w.color},children:a.jsx(w.icon,{size:28})}),a.jsx("span",{className:Ee.quickStartLabel,children:w.label}),a.jsx("span",{className:Ee.quickStartHint,children:w.hint})]},H))}),f.tip&&a.jsxs("div",{className:Ee.tipBox,children:[a.jsx(f.tip.icon,{size:20,className:Ee.tipIcon}),a.jsx("p",{className:Ee.tipText,dangerouslySetInnerHTML:{__html:f.tip.text}})]})]},o)}),a.jsxs("div",{className:Ee.navigation,children:[g?a.jsx("div",{className:Ee.navSpacer}):a.jsxs("button",{className:`${Ee.navButton} ${Ee.navButtonSecondary}`,onClick:S,children:[a.jsx(fu,{size:18}),"Back"]}),a.jsx("button",{className:`${Ee.navButton} ${Ee.navButtonPrimary}`,onClick:v,children:h?a.jsxs(a.Fragment,{children:[a.jsx(ai,{size:18}),"Get Started"]}):a.jsxs(a.Fragment,{children:["Next",a.jsx(ri,{size:18})]})})]})]})})};class j0{constructor(){this.scheduledNotifications=new Map}isSupported(){return"Notification"in window}async requestPermission(){return this.isSupported()?await Notification.requestPermission()==="granted":(console.log("This browser does not support desktop notification"),!1)}getPermission(){return this.isSupported()?Notification.permission:"unsupported"}sendNotification(c,o={}){if(Notification.permission==="granted"){const d=new Notification(c,{icon:"/pwa-192x192.png",badge:"/pwa-192x192.png",vibrate:[100,50,100],...o});return d.onclick=function(){window.focus(),d.close(),o.onClick&&o.onClick()},d}return null}scheduleNotification(c,o,d,u={}){this.cancelNotification(c);const f=new Date,g=new Date(o).getTime()-f.getTime();if(g<=0)return!1;const p=setTimeout(()=>{this.sendNotification(d,u),this.scheduledNotifications.delete(c)},g);return this.scheduledNotifications.set(c,p),!0}scheduleNotificationDelay(c,o,d){setTimeout(()=>{this.sendNotification(c,o)},d)}cancelNotification(c){return this.scheduledNotifications.has(c)?(clearTimeout(this.scheduledNotifications.get(c)),this.scheduledNotifications.delete(c),!0):!1}cancelAllNotifications(){this.scheduledNotifications.forEach(c=>{clearTimeout(c)}),this.scheduledNotifications.clear()}scheduleReminders(c,o=30){this.cancelAllNotifications();const d=new Date;let u=0;return c.forEach(f=>{if(f.completed)return;let h;if(f.scheduled_date&&f.scheduled_time)h=new Date(`${f.scheduled_date}T${f.scheduled_time}`);else if(f.date)h=new Date(f.date);else return;const g=new Date(h.getTime()-o*60*1e3);if(g>d){const p=f.peptide_name||f.peptide||"your peptide",v=f.dosage||"",S=f.unit||"mg";this.scheduleNotification(`reminder-${f.id}`,g," Dose Reminder",{body:`Time to take ${p} (${v}${S}) in ${o} minutes`,tag:`dose-reminder-${f.id}`}),u++}if(h>d){const p=f.peptide_name||f.peptide||"your peptide",v=f.dosage||"",S=f.unit||"mg";this.scheduleNotification(`dose-${f.id}`,h," Time for your dose!",{body:`Take ${p} - ${v}${S}`,tag:`dose-${f.id}`,requireInteraction:!0}),u++}}),u}sendLowStockAlert(c,o,d="mg"){return this.sendNotification(" Low Stock Alert",{body:`${c} is running low (${o}${d} remaining)`,tag:`low-stock-${c}`,requireInteraction:!0})}}const Ts=new j0,ru={requestPermission:()=>Ts.requestPermission(),sendNotification:(l,c)=>Ts.sendNotification(l,c),scheduleNotification:(l,c,o)=>Ts.scheduleNotificationDelay(l,c,o),scheduleReminders:(l,c)=>Ts.scheduleReminders(l,c),cancelAllNotifications:()=>Ts.cancelAllNotifications(),sendLowStockAlert:(l,c,o)=>Ts.sendLowStockAlert(l,c,o),getPermission:()=>Ts.getPermission(),isSupported:()=>Ts.isSupported()},zp="peptide_tracker_schedule",Td="peptide_tracker_templates",Og=()=>{const[l,c]=j.useState([]),[o,d]=j.useState([]),[u,f]=j.useState(!0),{user:h}=Ct();j.useEffect(()=>{h?(S().then(x=>{x&&si.isNative&&g(x)}),C()):p()},[h]);const g=x=>{!si.isNative||!x||x.length===0||(console.log("Syncing mobile notifications for",x.length,"schedules"),nn.getPending().then(I=>{const k=I.map(R=>R.id);k.length>0&&nn.cancel(k),x.forEach(R=>{if(R.completed)return;const Y=new Date(R.date);Y>new Date&&nn.scheduleInjectionReminder({id:parseInt(R.id.toString().replace(/\D/g,"").slice(-8))||Math.floor(Math.random()*1e5),title:"Time for your dose!",body:`Take ${R.peptide} (${R.dosage}${R.unit})`,scheduledAt:Y})})}))};j.useEffect(()=>{l.length>0&&(si.isNative?nn.getPending().then(x=>{const I=x.map(k=>k.id);I.length>0&&nn.cancel(I),l.forEach(k=>{if(k.completed)return;const R=new Date(k.date);R>new Date&&nn.scheduleInjectionReminder({id:parseInt(k.id.toString().replace(/\D/g,"").slice(-8))||Math.floor(Math.random()*1e5),title:"Time for your dose!",body:`Take ${k.peptide} (${k.dosage}${k.unit})`,scheduledAt:R})})}):ru.scheduleReminders(l))},[l]);const p=()=>{try{const x=localStorage.getItem(zp),I=localStorage.getItem(Td);x&&c(JSON.parse(x)),I&&d(JSON.parse(I))}catch(x){console.error("Error loading from localStorage:",x)}f(!1)},v=(x,I=zp)=>{try{localStorage.setItem(I,JSON.stringify(x))}catch(k){console.error("Error saving to localStorage:",k)}},S=async()=>{try{f(!0);const{data:x,error:I}=await K.from("schedules").select("*").order("scheduled_date",{ascending:!0});if(I)throw I;const k=x.map(R=>({id:R.id,date:new Date(`${R.scheduled_date}T${R.scheduled_time}`).toISOString(),peptide:R.peptide_name,dosage:R.dosage,unit:R.unit,time:R.scheduled_time?.slice(0,5)||"08:00",completed:R.completed,notes:R.notes,isRecurring:R.is_recurring||!1,parentTemplateId:R.parent_schedule_id}));return c(k),k}catch(x){return console.error("Error fetching schedules:",x),p(),[]}finally{f(!1)}},C=async()=>{try{const{data:x,error:I}=await K.from("schedule_templates").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(I)throw I;const k=x.map(R=>({id:R.id,name:R.name,peptide:R.peptide_name,dosage:R.dosage,unit:R.unit,time:R.time?.slice(0,5)||"08:00",recurrenceDays:R.recurrence_days||[],isActive:R.is_active,notes:R.notes}));d(k)}catch(x){console.error("Error fetching templates:",x)}},D=async x=>{const I={id:"temp-"+Date.now(),completed:!1,...x},k=[...l,I];if(c(k),h)try{const R=new Date(x.date),{data:Y,error:L}=await K.from("schedules").insert([{user_id:h.id,peptide_name:x.peptide,dosage:x.dosage,unit:x.unit,scheduled_date:R.toISOString().split("T")[0],scheduled_time:x.time+":00",completed:!1,notes:x.notes||null,is_recurring:!1}]).select().single();if(L)throw L;c(U=>U.map(se=>se.id===I.id?{...se,id:Y.id}:se))}catch(R){console.error("Error adding schedule:",R),S()}else v(k)},V=async(x,I,k)=>{const{peptide:R,dosage:Y,unit:L,time:U,recurrenceDays:se,notes:W,name:y}=x,le=_p({start:I,end:k}).filter(z=>se.includes(vp(z))).map(z=>{const A=new Date(z.getFullYear(),z.getMonth(),z.getDate(),12,0,0);return{id:"temp-"+Date.now()+"-"+z.getTime(),date:A.toISOString(),peptide:R,dosage:Y,unit:L,time:U,completed:!1,notes:W,isRecurring:!0}});if(c(z=>[...z,...le]),h)try{const{data:z,error:A}=await K.from("schedule_templates").insert([{user_id:h.id,name:y||`${R} Protocol`,peptide_name:R,dosage:Y,unit:L,time:U+":00",recurrence_days:se,is_active:!0,notes:W}]).select().single();if(A)throw A;const ee=le.map(ce=>({user_id:h.id,peptide_name:ce.peptide,dosage:ce.dosage,unit:ce.unit,scheduled_date:new Date(ce.date).toISOString().split("T")[0],scheduled_time:ce.time+":00",completed:!1,notes:ce.notes,is_recurring:!0,parent_schedule_id:z.id})),{error:te}=await K.from("schedules").insert(ee);if(te)throw te;return await S(),await C(),z}catch(z){return console.error("Error creating recurring schedule:",z),S(),null}else{v([...l,...le]);const z={id:"local-"+Date.now(),name:y||`${R} Protocol`,peptide:R,dosage:Y,unit:L,time:U,recurrenceDays:se,isActive:!0,notes:W},A=[...o,z];return d(A),v(A,Td),z}},w=async(x,I=!1)=>{if(h)try{I&&await K.from("schedules").delete().eq("parent_schedule_id",x);const{error:k}=await K.from("schedule_templates").delete().eq("id",x);if(k)throw k;await C(),I&&await S()}catch(k){console.error("Error deleting template:",k)}else{const k=o.filter(R=>R.id!==x);if(d(k),v(k,Td),I){const R=l.filter(Y=>Y.parentTemplateId!==x);c(R),v(R)}}},H=async(x,I=28)=>{const k=o.find(y=>y.id===x);if(!k)return;const Y=l.filter(y=>y.parentTemplateId===x).reduce((y,q)=>{const le=new Date(q.date);return le>y?le:y},new Date),L=xd(Y,1),U=xd(L,I),W=_p({start:L,end:U}).filter(y=>k.recurrenceDays.includes(vp(y))).map(y=>{const q=new Date(y.getFullYear(),y.getMonth(),y.getDate(),12,0,0);return{id:"temp-"+Date.now()+"-"+y.getTime(),date:q.toISOString(),peptide:k.peptide,dosage:k.dosage,unit:k.unit,time:k.time,completed:!1,notes:k.notes,isRecurring:!0,parentTemplateId:x}});if(c(y=>[...y,...W]),h)try{const y=W.map(q=>({user_id:h.id,peptide_name:q.peptide,dosage:q.dosage,unit:q.unit,scheduled_date:new Date(q.date).toISOString().split("T")[0],scheduled_time:q.time+":00",completed:!1,notes:q.notes,is_recurring:!0,parent_schedule_id:x}));await K.from("schedules").insert(y),await S()}catch(y){console.error("Error extending schedule:",y),S()}else v([...l,...W])},M=async x=>{const I=l.filter(k=>k.id!==x);if(c(I),h)try{const{error:k}=await K.from("schedules").delete().eq("id",x);if(k)throw k}catch(k){console.error("Error deleting schedule:",k),S()}else v(I)},N=async x=>{const I=l.find(Y=>Y.id===x);if(!I)return;const k=!I.completed,R=l.map(Y=>Y.id===x?{...Y,completed:k}:Y);if(c(R),h)try{const{error:Y}=await K.from("schedules").update({completed:k}).eq("id",x);if(Y)throw Y}catch(Y){console.error("Error toggling schedule:",Y),S()}else v(R)},b=j.useCallback((x=7)=>{const I=Mv(new Date),k=xd(I,x);return l.filter(R=>{const Y=new Date(R.date);return(Rv(Y,I)||Ov(Y,I))&&Uv(Y,k)}).sort((R,Y)=>new Date(R.date)-new Date(Y.date))},[l]),E=j.useCallback(()=>{const x={};return l.forEach(I=>{x[I.peptide]||(x[I.peptide]=[]),x[I.peptide].push(I)}),x},[l]);return{schedules:l,templates:o,loading:u,addSchedule:D,createRecurringSchedule:V,deleteTemplate:w,extendRecurringSchedule:H,deleteSchedule:M,toggleComplete:N,getUpcomingSchedules:b,getSchedulesByPeptide:E,refreshSchedules:S,refreshTemplates:C}},b0="_container_10ydc_1",S0="_header_10ydc_12",w0="_downloadBtn_10ydc_27",N0="_cardWrapper_10ydc_51",C0="_card_10ydc_51",T0="_cardHeader_10ydc_82",D0="_brand_10ydc_91",A0="_date_10ydc_100",E0="_title_10ydc_108",k0="_stackGrid_10ydc_116",B0="_stackItem_10ydc_124",z0="_itemHeader_10ydc_134",L0="_peptideName_10ydc_140",M0="_verifiedIcon_10ydc_146",R0="_itemDetails_10ydc_150",O0="_dosage_10ydc_156",U0="_schedule_10ydc_162",I0="_cardFooter_10ydc_171",H0="_hint_10ydc_183",jt={container:b0,header:S0,downloadBtn:w0,cardWrapper:N0,card:C0,cardHeader:T0,brand:D0,date:A0,title:E0,stackGrid:k0,stackItem:B0,itemHeader:z0,peptideName:L0,verifiedIcon:M0,itemDetails:R0,dosage:O0,schedule:U0,cardFooter:I0,hint:H0},q0=()=>{const l=j.useRef(null),{user:c}=Ct(),{templates:o}=Og(),[d,u]=j.useState(!1),f=o.filter(p=>p.isActive);if(!f||f.length===0)return null;const h=async()=>{if(l.current){u(!0);try{const v=(await wg(l.current,{scale:2,backgroundColor:null,logging:!1,useCORS:!0})).toDataURL("image/png"),S=document.createElement("a");S.href=v,S.download=`my-peptide-stack-${new Date().toISOString().split("T")[0]}.png`,S.click()}catch(p){console.error("Error generating stack card:",p)}finally{u(!1)}}},g=c?.user_metadata?.full_name?.split(" ")[0]||"My";return a.jsxs("div",{className:jt.container,children:[a.jsxs("div",{className:jt.header,children:[a.jsxs("h3",{children:[a.jsx(_l,{size:18})," Share Your Stack"]}),a.jsxs("button",{onClick:h,disabled:d,className:jt.downloadBtn,children:[a.jsx(xl,{size:16}),d?"Generating...":"Save Image"]})]}),a.jsx("div",{className:jt.cardWrapper,ref:l,children:a.jsxs("div",{className:jt.card,children:[a.jsxs("div",{className:jt.cardHeader,children:[a.jsxs("div",{className:jt.brand,children:[a.jsx(Zv,{size:24,color:"#10b981"}),a.jsx("span",{children:"PeptideLog"})]}),a.jsx("div",{className:jt.date,children:new Date().toLocaleDateString("en-US",{month:"short",year:"numeric"})})]}),a.jsxs("h2",{className:jt.title,children:[g,"'s Protocol"]}),a.jsx("div",{className:jt.stackGrid,children:f.map((p,v)=>a.jsxs("div",{className:jt.stackItem,children:[a.jsxs("div",{className:jt.itemHeader,children:[a.jsx("span",{className:jt.peptideName,children:p.peptide}),a.jsx(Fv,{size:14,className:jt.verifiedIcon})]}),a.jsxs("div",{className:jt.itemDetails,children:[a.jsxs("span",{className:jt.dosage,children:[p.dosage," ",p.unit]}),a.jsx("span",{className:jt.schedule,children:p.recurrenceDays?.length===7?"Daily":`${p.recurrenceDays?.length}x / week`})]})]},p.id||v))}),a.jsx("div",{className:jt.cardFooter,children:a.jsx("span",{children:"Generated by PeptideLog.net"})})]})}),a.jsx("p",{className:jt.hint,children:"Download this card to share on Instagram Stories or Twitter!"})]})},V0="_container_xmaym_1",G0="_header_xmaym_10",$0="_welcomeSection_xmaym_19",Y0="_userName_xmaym_27",P0="_subtitle_xmaym_34",X0="_primaryAction_xmaym_40",Q0="_statsGrid_xmaym_60",Z0="_statCard_xmaym_67",F0="_statPrimary_xmaym_101",K0="_statIcon_xmaym_106",J0="_statInfo_xmaym_118",W0="_statValue_xmaym_125",e1="_statUnit_xmaym_135",t1="_statLabel_xmaym_141",a1="_mainGrid_xmaym_151",s1="_section_xmaym_159",n1="_sectionHeader_xmaym_172",i1="_showMoreBtn_xmaym_193",l1="_viewAllBtn_xmaym_194",r1="_rotated_xmaym_213",c1="_actionsGrid_xmaym_218",o1="_actionCard_xmaym_224",d1="_actionPrimary_xmaym_259",u1="_actionIcon_xmaym_264",f1="_actionContent_xmaym_279",m1="_actionTitle_xmaym_284",h1="_actionDesc_xmaym_292",p1="_actionArrow_xmaym_297",g1="_premiumBadge_xmaym_308",y1="_activityList_xmaym_324",_1="_activityItem_xmaym_331",v1="_activityIcon_xmaym_348",x1="_activityInfo_xmaym_360",j1="_activityTitle_xmaym_367",b1="_activityMeta_xmaym_376",S1="_emptyState_xmaym_382",w1="_emptyIcon_xmaym_394",N1="_emptyAction_xmaym_404",C1="_analyticsSection_xmaym_416",T1="_mobileStats_xmaym_424",D1="_guestCta_xmaym_429",A1="_ctaContent_xmaym_441",E1="_ctaButton_xmaym_465",k1="_mobileStatItem_xmaym_603",B1="_mobileStatValue_xmaym_610",z1="_mobileStatLabel_xmaym_616",L1="_mobileStatDivider_xmaym_623",M1="_actionText_xmaym_629",fe={container:V0,header:G0,welcomeSection:$0,userName:Y0,subtitle:P0,primaryAction:X0,statsGrid:Q0,statCard:Z0,statPrimary:F0,statIcon:K0,statInfo:J0,statValue:W0,statUnit:e1,statLabel:t1,mainGrid:a1,section:s1,sectionHeader:n1,showMoreBtn:i1,viewAllBtn:l1,rotated:r1,actionsGrid:c1,actionCard:o1,actionPrimary:d1,actionIcon:u1,actionContent:f1,actionTitle:m1,actionDesc:h1,actionArrow:p1,premiumBadge:g1,activityList:y1,activityItem:_1,activityIcon:v1,activityInfo:x1,activityTitle:j1,activityMeta:b1,emptyState:S1,emptyIcon:w1,emptyAction:N1,analyticsSection:C1,mobileStats:T1,guestCta:D1,ctaContent:A1,ctaButton:E1,mobileStatItem:k1,mobileStatValue:B1,mobileStatLabel:z1,mobileStatDivider:L1,actionText:M1},R1=()=>{const{getStats:l,injections:c}=Sl(),{user:o}=Ct(),{showOnboarding:d,completeOnboarding:u,skipOnboarding:f}=gj(),[h,g]=j.useState(!1),p=j.useMemo(()=>l(),[l]),v=j.useMemo(()=>o?(o.user_metadata?.full_name||o.email||"User").split(" ")[0].split("@")[0]:"Guest",[o]),S=j.useMemo(()=>{if(!c||c.length===0)return{totalInjections:0,thisWeek:0,uniquePeptides:0,streak:0};const M=new Date,N=new Date(M.getTime()-10080*60*1e3),b=c.filter(k=>new Date(k.date)>=N).length,E=new Set(c.map(k=>k.peptide)).size;let x=0;const I=[...new Set(c.map(k=>new Date(k.date).toDateString()))].sort((k,R)=>new Date(R)-new Date(k));for(let k=0;k<I.length;k++){const R=new Date(M);if(R.setDate(R.getDate()-k),I.includes(R.toDateString()))x++;else break}return{totalInjections:c.length,thisWeek:b,uniquePeptides:E,streak:x}},[c]),C=j.useMemo(()=>!c||c.length===0?[]:c.slice(0,4).map(M=>({...M,timeAgo:D(new Date(M.date))})),[c]);function D(M){if(!M||isNaN(M.getTime()))return"";const N=Math.floor((new Date-M)/1e3);return N<60?"Just now":N<3600?`${Math.floor(N/60)}m ago`:N<86400?`${Math.floor(N/3600)}h ago`:N<604800?`${Math.floor(N/86400)}d ago`:M.toLocaleDateString()}const V=j.useMemo(()=>{const M=new Date().getHours();return M<12?"Good morning":M<18?"Good afternoon":"Good evening"},[]),w=[{to:"/log",icon:La,title:"Log Injection",desc:"Record a new dose",color:"#10b981",primary:!0},{to:"/calculator",icon:Wt,title:"Calculator",desc:"Reconstitute peptides",color:"#3b82f6"},{to:"/injection-sites",icon:gl,title:"Injection Sites",desc:"Where to inject",color:"#8b5cf6"},{to:"/encyclopedia",icon:hl,title:"Encyclopedia",desc:"Learn about peptides",color:"#f59e0b"},{to:"/price-checker",icon:Qr,title:"Price Checker",desc:"Compare prices",color:"#06b6d4"},{to:"/reviews",icon:ci,title:"Vendor Reviews",desc:"Community ratings",color:"#ec4899"},{to:"/inventory",icon:ac,title:"Inventory",desc:"Manage your stock",color:"#14b8a6"},{to:"/blood-work",icon:yl,title:"Blood Work",desc:"Track lab results",color:"#6366f1",premium:!0},{to:"/titration",icon:nu,title:"Titration Plan",desc:"Dose escalation",color:"#f97316",premium:!0}],H=h?w:w.slice(0,4);return a.jsxs("div",{className:fe.container,children:[d&&a.jsx(x0,{onComplete:u,onSkip:f}),a.jsxs("header",{className:fe.header,children:[a.jsxs("div",{className:fe.welcomeSection,children:[a.jsxs("h1",{children:[V,", ",a.jsx("span",{className:fe.userName,children:v})]}),a.jsx("p",{className:fe.subtitle,children:"Here's your peptide journey at a glance"})]}),o&&a.jsxs(st,{to:"/tracker",className:fe.primaryAction,children:[a.jsx(Ls,{size:20}),a.jsx("span",{className:fe.actionText,children:"Log Injection"})]})]}),a.jsxs("div",{className:fe.statsGrid,children:[a.jsxs("div",{className:`${fe.statCard} ${fe.statPrimary}`,children:[a.jsx("div",{className:fe.statIcon,children:a.jsx(Kv,{size:24})}),a.jsxs("div",{className:fe.statInfo,children:[a.jsxs("span",{className:fe.statValue,children:[p?p.activeLevel:"0.00",a.jsx("span",{className:fe.statUnit,children:"mg"})]}),a.jsx("span",{className:fe.statLabel,children:"Est. Active Level"})]})]}),a.jsxs("div",{className:fe.statCard,children:[a.jsx("div",{className:fe.statIcon,style:{background:"rgba(236, 72, 153, 0.15)",color:"#ec4899"},children:a.jsx(Ta,{size:24})}),a.jsxs("div",{className:fe.statInfo,children:[a.jsx("span",{className:fe.statValue,children:p?.lastInjection&&!isNaN(new Date(p.lastInjection.date).getTime())?new Date(p.lastInjection.date).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"--"}),a.jsx("span",{className:fe.statLabel,children:p?.lastInjection?.peptide||"Last Injection"})]})]}),a.jsxs("div",{className:fe.statCard,children:[a.jsx("div",{className:fe.statIcon,style:{background:"rgba(16, 185, 129, 0.15)",color:"#10b981"},children:a.jsx(yl,{size:24})}),a.jsxs("div",{className:fe.statInfo,children:[a.jsx("span",{className:fe.statValue,children:S.thisWeek}),a.jsx("span",{className:fe.statLabel,children:"This Week"})]})]}),a.jsxs("div",{className:fe.statCard,children:[a.jsx("div",{className:fe.statIcon,style:{background:"rgba(245, 158, 11, 0.15)",color:"#f59e0b"},children:a.jsx(gl,{size:24})}),a.jsxs("div",{className:fe.statInfo,children:[a.jsxs("span",{className:fe.statValue,children:[S.streak,a.jsx("span",{className:fe.statUnit,children:"days"})]}),a.jsx("span",{className:fe.statLabel,children:"Current Streak"})]})]})]}),a.jsxs("div",{className:fe.mainGrid,children:[a.jsxs("section",{className:fe.section,children:[a.jsxs("div",{className:fe.sectionHeader,children:[a.jsxs("h2",{children:[a.jsx(nu,{size:20})," Quick Actions"]}),w.length>4&&a.jsxs("button",{className:fe.showMoreBtn,onClick:()=>g(!h),children:[h?"Show Less":"Show All",a.jsx(ri,{size:16,className:h?fe.rotated:""})]})]}),a.jsx("div",{className:fe.actionsGrid,children:H.map((M,N)=>a.jsxs(st,{to:M.to,className:`${fe.actionCard} ${M.primary?fe.actionPrimary:""}`,style:{"--action-color":M.color},children:[M.premium&&a.jsx("span",{className:fe.premiumBadge,children:"PRO"}),a.jsx("div",{className:fe.actionIcon,style:{background:`${M.color}15`,color:M.color},children:a.jsx(M.icon,{size:24})}),a.jsxs("div",{className:fe.actionContent,children:[a.jsx("span",{className:fe.actionTitle,children:M.title}),a.jsx("span",{className:fe.actionDesc,children:M.desc})]}),a.jsx(Cg,{size:18,className:fe.actionArrow})]},M.to))})]}),a.jsxs("section",{className:fe.section,children:[a.jsxs("div",{className:fe.sectionHeader,children:[a.jsxs("h2",{children:[a.jsx(Jv,{size:20})," Recent Activity"]}),C.length>0&&a.jsxs(st,{to:"/log",className:fe.viewAllBtn,children:["View All ",a.jsx(ri,{size:16})]})]}),C.length>0?a.jsx("div",{className:fe.activityList,children:C.map((M,N)=>a.jsxs("div",{className:fe.activityItem,children:[a.jsx("div",{className:fe.activityIcon,children:a.jsx(Wv,{size:16})}),a.jsxs("div",{className:fe.activityInfo,children:[a.jsx("span",{className:fe.activityTitle,children:M.peptide}),a.jsxs("span",{className:fe.activityMeta,children:[M.dosage,M.unit,"  ",M.timeAgo]})]})]},M.id||N))}):a.jsxs("div",{className:fe.emptyState,children:[a.jsx(La,{size:32,className:fe.emptyIcon}),a.jsx("p",{children:"No injections logged yet"}),a.jsx(st,{to:"/log",className:fe.emptyAction,children:"Log your first injection"})]})]})]}),o&&a.jsx("section",{className:fe.analyticsSection,children:a.jsx(Rj,{})}),o&&a.jsx("section",{className:fe.section,children:a.jsx(q0,{})}),a.jsxs("div",{className:fe.mobileStats,children:[a.jsxs("div",{className:fe.mobileStatItem,children:[a.jsx("span",{className:fe.mobileStatValue,children:S.totalInjections}),a.jsx("span",{className:fe.mobileStatLabel,children:"Total"})]}),a.jsx("div",{className:fe.mobileStatDivider}),a.jsxs("div",{className:fe.mobileStatItem,children:[a.jsx("span",{className:fe.mobileStatValue,children:S.uniquePeptides}),a.jsx("span",{className:fe.mobileStatLabel,children:"Peptides"})]}),a.jsx("div",{className:fe.mobileStatDivider}),a.jsxs("div",{className:fe.mobileStatItem,children:[a.jsx("span",{className:fe.mobileStatValue,children:S.thisWeek}),a.jsx("span",{className:fe.mobileStatLabel,children:"This Week"})]})]}),!o&&a.jsxs("div",{className:fe.guestCta,children:[a.jsxs("div",{className:fe.ctaContent,children:[a.jsx(Ma,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Track Your Progress"}),a.jsx("p",{children:"Sign in to save your injections and access all features"})]})]}),a.jsx(st,{to:"/login",className:fe.ctaButton,children:"Sign In"})]})]})},O1=()=>{const[l,c]=j.useState([]),[o,d]=j.useState(!0),[u,f]=j.useState(null);return j.useEffect(()=>{(async()=>{try{const{data:v,error:S}=await K.from("peptides").select("*").order("name");if(S)throw S;const C=(v||[]).map(D=>({...D,halfLife:D.half_life_hours?`${D.half_life_hours} hours`:"Unknown",sideEffects:D.side_effects||[],commonDosage:D.common_dosage||"Consult protocol",researchLinks:D.research_links||[],protocols:D.dosage_protocols||[]}));c(C)}catch(v){console.error("Error fetching peptides:",v),f(v.message)}finally{d(!1)}})()},[]),{peptides:l,loading:o,error:u,getPeptideByName:p=>p?l.find(v=>v.name.toLowerCase()===p.toLowerCase()):null,getPeptidesByCategory:p=>l.filter(v=>v.category===p)}},U1="_container_ow5v7_1",I1="_loadingState_ow5v7_23",H1="_spinner_ow5v7_33",q1="_pageHeader_ow5v7_48",V1="_headerLeft_ow5v7_55",G1="_headerIcon_ow5v7_61",$1="_headerRight_ow5v7_81",Y1="_guestBadge_ow5v7_87",P1="_statsGrid_ow5v7_101",X1="_statCard_ow5v7_114",Q1="_statIcon_ow5v7_124",Z1="_statContent_ow5v7_134",F1="_statValue_ow5v7_139",K1="_statLabel_ow5v7_146",J1="_viewTabs_ow5v7_154",W1="_viewTab_ow5v7_154",eb="_activeTab_ow5v7_184",tb="_badge_ow5v7_189",ab="_errorBanner_ow5v7_198",sb="_calendarCard_ow5v7_211",nb="_calendarHeader_ow5v7_215",ib="_monthDisplay_ow5v7_222",lb="_todayBtn_ow5v7_236",rb="_navBtn_ow5v7_252",cb="_grid_ow5v7_272",ob="_dayHeader_ow5v7_278",db="_day_ow5v7_278",ub="_selected_ow5v7_308",fb="_today_ow5v7_236",mb="_dayNumber_ow5v7_314",hb="_dimmed_ow5v7_325",pb="_dots_ow5v7_334",gb="_dot_ow5v7_334",yb="_injectionDot_ow5v7_349",_b="_scheduleDot_ow5v7_353",vb="_completedDot_ow5v7_357",xb="_moreCount_ow5v7_362",jb="_detailsSection_ow5v7_369",bb="_detailsHeader_ow5v7_373",Sb="_todayLabel_ow5v7_391",wb="_actionButtons_ow5v7_402",Nb="_addBtn_ow5v7_407",Cb="_addBtnPrimary_ow5v7_421",Tb="_addBtnSecondary_ow5v7_431",Db="_addBtnTertiary_ow5v7_441",Ab="_form_ow5v7_452",Eb="_formHeader_ow5v7_475",kb="_closeBtn_ow5v7_488",Bb="_inputGroup_ow5v7_504",zb="_formRow_ow5v7_533",Lb="_autocompleteWrapper_ow5v7_550",Mb="_chevron_ow5v7_554",Rb="_chevronUp_ow5v7_564",Ob="_autocomplete_ow5v7_550",Ub="_autocompleteItem_ow5v7_582",Ib="_siteButtons_ow5v7_603",Hb="_siteButton_ow5v7_603",qb="_siteActive_ow5v7_624",Vb="_formSection_ow5v7_631",Gb="_quickProtocols_ow5v7_644",$b="_quickProtocolBtn_ow5v7_656",Yb="_quickProtocolActive_ow5v7_677",Pb="_protocolEmoji_ow5v7_683",Xb="_daysSelector_ow5v7_688",Qb="_dayBtn_ow5v7_694",Zb="_dayBtnActive_ow5v7_714",Fb="_dayShort_ow5v7_720",Kb="_dayLabel_ow5v7_725",Jb="_submitBtn_ow5v7_733",Wb="_dayItems_ow5v7_757",eS="_itemSection_ow5v7_763",tS="_sectionLabel_ow5v7_769",aS="_scheduleItem_ow5v7_782",sS="_completedSchedule_ow5v7_797",nS="_completeBtn_ow5v7_803",iS="_injectionItem_ow5v7_819",lS="_completedIcon_ow5v7_834",rS="_itemInfo_ow5v7_839",cS="_itemPeptide_ow5v7_847",oS="_itemDetails_ow5v7_852",dS="_recurringIcon_ow5v7_860",uS="_itemNotes_ow5v7_864",fS="_itemActions_ow5v7_870",mS="_editBtn_ow5v7_888",hS="_deleteBtn_ow5v7_889",pS="_confirmDelete_ow5v7_913",gS="_emptyState_ow5v7_919",yS="_emptyIcon_ow5v7_929",_S="_upcomingSection_ow5v7_947",vS="_upcomingHeader_ow5v7_951",xS="_upcomingList_ow5v7_970",jS="_upcomingItem_ow5v7_976",bS="_todayItem_ow5v7_991",SS="_completedItem_ow5v7_996",wS="_upcomingDate_ow5v7_1000",NS="_upcomingDay_ow5v7_1010",CS="_upcomingMonth_ow5v7_1017",TS="_upcomingInfo_ow5v7_1023",DS="_upcomingPeptide_ow5v7_1030",AS="_upcomingDetails_ow5v7_1035",ES="_quickCompleteBtn_ow5v7_1043",kS="_completedBadge_ow5v7_1063",BS="_templatesSection_ow5v7_1076",zS="_templatesList_ow5v7_1092",LS="_templateItem_ow5v7_1098",MS="_templateInfo_ow5v7_1108",RS="_templateName_ow5v7_1115",OS="_templateDetails_ow5v7_1120",Z={container:U1,loadingState:I1,spinner:H1,pageHeader:q1,headerLeft:V1,headerIcon:G1,headerRight:$1,guestBadge:Y1,statsGrid:P1,statCard:X1,statIcon:Q1,statContent:Z1,statValue:F1,statLabel:K1,viewTabs:J1,viewTab:W1,activeTab:eb,badge:tb,errorBanner:ab,calendarCard:sb,calendarHeader:nb,monthDisplay:ib,todayBtn:lb,navBtn:rb,grid:cb,dayHeader:ob,day:db,selected:ub,today:fb,dayNumber:mb,dimmed:hb,dots:pb,dot:gb,injectionDot:yb,scheduleDot:_b,completedDot:vb,moreCount:xb,detailsSection:jb,detailsHeader:bb,todayLabel:Sb,actionButtons:wb,addBtn:Nb,addBtnPrimary:Cb,addBtnSecondary:Tb,addBtnTertiary:Db,form:Ab,formHeader:Eb,closeBtn:kb,inputGroup:Bb,formRow:zb,autocompleteWrapper:Lb,chevron:Mb,chevronUp:Rb,autocomplete:Ob,autocompleteItem:Ub,siteButtons:Ib,siteButton:Hb,siteActive:qb,formSection:Vb,quickProtocols:Gb,quickProtocolBtn:$b,quickProtocolActive:Yb,protocolEmoji:Pb,daysSelector:Xb,dayBtn:Qb,dayBtnActive:Zb,dayShort:Fb,dayLabel:Kb,submitBtn:Jb,dayItems:Wb,itemSection:eS,sectionLabel:tS,scheduleItem:aS,completedSchedule:sS,completeBtn:nS,injectionItem:iS,completedIcon:lS,itemInfo:rS,itemPeptide:cS,itemDetails:oS,recurringIcon:dS,itemNotes:uS,itemActions:fS,editBtn:mS,deleteBtn:hS,confirmDelete:pS,emptyState:gS,emptyIcon:yS,upcomingSection:_S,upcomingHeader:vS,upcomingList:xS,upcomingItem:jS,todayItem:bS,completedItem:SS,upcomingDate:wS,upcomingDay:NS,upcomingMonth:CS,upcomingInfo:TS,upcomingPeptide:DS,upcomingDetails:AS,quickCompleteBtn:ES,completedBadge:kS,templatesSection:BS,templatesList:zS,templateItem:LS,templateInfo:MS,templateName:RS,templateDetails:OS},Lp=[{value:0,label:"Sun",short:"S"},{value:1,label:"Mon",short:"M"},{value:2,label:"Tue",short:"T"},{value:3,label:"Wed",short:"W"},{value:4,label:"Thu",short:"T"},{value:5,label:"Fri",short:"F"},{value:6,label:"Sat",short:"S"}],US=[{id:"daily",label:"Every Day",days:[0,1,2,3,4,5,6],icon:""},{id:"eod",label:"Every Other Day",days:[1,3,5],icon:""},{id:"mwf",label:"Mon/Wed/Fri",days:[1,3,5],icon:""},{id:"weekdays",label:"Weekdays",days:[1,2,3,4,5],icon:""},{id:"weekends",label:"Weekends",days:[0,6],icon:""},{id:"once",label:"Once Weekly",days:[],icon:"1"}],IS=()=>{const{injections:l,loading:c,error:o,addInjection:d,updateInjection:u,deleteInjection:f,getStats:h,isUsingLocalStorage:g}=Sl(),{peptides:p}=O1(),{schedules:v,templates:S,loading:C,addSchedule:D,createRecurringSchedule:V,deleteSchedule:w,toggleComplete:H,deleteTemplate:M,getUpcomingSchedules:N}=Og(),[b,E]=j.useState(new Date),[x,I]=j.useState(new Date),[k,R]=j.useState("calendar"),[Y,L]=j.useState(!1),[U,se]=j.useState("log"),[W,y]=j.useState(null),[q,le]=j.useState(!1),[z,A]=j.useState(null),ee=j.useRef(null),[te,ce]=j.useState({peptide:"",dosage:"",unit:"mg",site:"Abdomen",time:"08:00",notes:"",date:new Date().toISOString().slice(0,16),recurrenceDays:[],duration:28}),De=c||C,Se=j.useMemo(()=>h(),[h]),xe=b.getFullYear(),Me=b.getMonth(),Q=j.useMemo(()=>{const P=new Date(xe,Me,1),Ce=new Date(xe,Me+1,0),Fe=[];for(let rt=0;rt<P.getDay();rt++){const vt=new Date(xe,Me,-rt);Fe.unshift({date:vt,dimmed:!0})}for(let rt=1;rt<=Ce.getDate();rt++)Fe.push({date:new Date(xe,Me,rt),dimmed:!1});const Us=42-Fe.length;for(let rt=1;rt<=Us;rt++)Fe.push({date:new Date(xe,Me+1,rt),dimmed:!0});return Fe},[xe,Me]),ie=j.useCallback(P=>{const Ce=P.toDateString(),Fe=l.filter(rt=>new Date(rt.date).toDateString()===Ce),Us=v.filter(rt=>new Date(rt.date).toDateString()===Ce);return{injections:Fe,schedules:Us}},[l,v]),Re=j.useMemo(()=>{if(!te.peptide)return p.map(Ce=>Ce.name).slice(0,8);const P=te.peptide.toLowerCase();return p.filter(Ce=>Ce.name.toLowerCase().includes(P)).map(Ce=>Ce.name).slice(0,8)},[te.peptide,p]);j.useEffect(()=>{const P=Ce=>{ee.current&&!ee.current.contains(Ce.target)&&le(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const ve=()=>E(new Date(xe,Me+1,1)),ot=()=>E(new Date(xe,Me-1,1)),bt=()=>{E(new Date),I(new Date)},oe=P=>{I(P.date)},$e=P=>{const Ce=new Date;return P.toDateString()===Ce.toDateString()},qt=P=>P.toDateString()===x.toDateString(),ca=P=>{const Ce=new Date;return Ce.setHours(0,0,0,0),P<Ce},oa=()=>{ce({peptide:"",dosage:"",unit:"mg",site:"Abdomen",time:"08:00",notes:"",date:x.toISOString().slice(0,16),recurrenceDays:[],duration:28}),y(null),se("log")},Os=(P=null)=>{oa(),ce(P?Ce=>({...Ce,peptide:P.peptide,dosage:P.dosage?.toString()||"",unit:P.unit||"mg",date:new Date().toISOString().slice(0,16)}):Ce=>({...Ce,date:x.toISOString().slice(0,16)})),se("log"),L(!0)},nc=()=>{oa(),se("schedule"),L(!0)},mi=()=>{oa(),se("recurring"),L(!0),R("calendar")},hi=P=>{ce(Ce=>({...Ce,recurrenceDays:Ce.recurrenceDays.includes(P)?Ce.recurrenceDays.filter(Fe=>Fe!==P):[...Ce.recurrenceDays,P].sort()}))},pi=P=>{ce(Ce=>({...Ce,recurrenceDays:P.days}))},gi=P=>{ce(Ce=>({...Ce,peptide:P})),le(!1)},ic=async P=>{if(P.preventDefault(),!(!te.peptide||!te.dosage)){if(U==="log"){const Ce={peptide:te.peptide,dosage:parseFloat(te.dosage),unit:te.unit,site:te.site,notes:te.notes||"",date:new Date(te.date).toISOString()};W?await u(W,Ce):await d(Ce)}else if(U==="schedule")await D({date:x.toISOString(),peptide:te.peptide,dosage:parseFloat(te.dosage),unit:te.unit,time:te.time,notes:te.notes});else if(U==="recurring"){if(te.recurrenceDays.length===0)return;const Ce=new Date;Ce.setHours(0,0,0,0);const Fe=new Date;Fe.setDate(Fe.getDate()+te.duration),Fe.setHours(23,59,59,999),await V({peptide:te.peptide,dosage:parseFloat(te.dosage),unit:te.unit,time:te.time,recurrenceDays:te.recurrenceDays,notes:te.notes},Ce,Fe)}oa(),L(!1)}},wl=async P=>{await H(P.id),await d({peptide:P.peptide,dosage:P.dosage,unit:P.unit,site:"Abdomen",notes:"Completed from schedule",date:new Date().toISOString()})},Rt=P=>{ce({peptide:P.peptide,dosage:P.dosage.toString(),unit:P.unit,site:P.site||"Abdomen",time:"08:00",notes:P.notes||"",date:new Date(P.date).toISOString().slice(0,16),recurrenceDays:[],duration:28}),y(P.id),se("log"),L(!0)},lc=async P=>{z===P?(await f(P),A(null)):(A(P),setTimeout(()=>A(null),3e3))},Nl=P=>new Date(P).toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}),ja=j.useMemo(()=>ie(x),[x,ie]),Ra=j.useMemo(()=>N(7),[N]);return De?a.jsxs("div",{className:Z.loadingState,children:[a.jsx(ex,{size:32,className:Z.spinner}),a.jsx("p",{children:"Loading your injection log..."})]}):a.jsxs("div",{className:Z.container,children:[a.jsxs("div",{className:Z.pageHeader,children:[a.jsxs("div",{className:Z.headerLeft,children:[a.jsx(La,{size:28,className:Z.headerIcon}),a.jsxs("div",{children:[a.jsx("h1",{children:"Injection Log"}),a.jsx("p",{children:"Track & schedule your peptide protocol"})]})]}),a.jsx("div",{className:Z.headerRight,children:g&&a.jsxs("span",{className:Z.guestBadge,children:[a.jsx(tx,{size:14}),"Guest Mode"]})})]}),Se&&a.jsxs("div",{className:Z.statsGrid,children:[a.jsxs("div",{className:Z.statCard,children:[a.jsx("div",{className:Z.statIcon,style:{background:"rgba(16, 185, 129, 0.15)"},children:a.jsx(Wt,{size:18,color:"#10b981"})}),a.jsxs("div",{className:Z.statContent,children:[a.jsx("span",{className:Z.statValue,children:Se.activeLevel}),a.jsx("span",{className:Z.statLabel,children:"mg active"})]})]}),a.jsxs("div",{className:Z.statCard,children:[a.jsx("div",{className:Z.statIcon,style:{background:"rgba(59, 130, 246, 0.15)"},children:a.jsx(cn,{size:18,color:"#3b82f6"})}),a.jsxs("div",{className:Z.statContent,children:[a.jsx("span",{className:Z.statValue,children:Se.weeklyCount}),a.jsx("span",{className:Z.statLabel,children:"this week"})]})]}),a.jsxs("div",{className:Z.statCard,children:[a.jsx("div",{className:Z.statIcon,style:{background:"rgba(139, 92, 246, 0.15)"},children:a.jsx(La,{size:18,color:"#8b5cf6"})}),a.jsxs("div",{className:Z.statContent,children:[a.jsx("span",{className:Z.statValue,children:Se.totalInjections}),a.jsx("span",{className:Z.statLabel,children:"total"})]})]})]}),a.jsxs("div",{className:Z.viewTabs,children:[a.jsxs("button",{className:`${Z.viewTab} ${k==="calendar"?Z.activeTab:""}`,onClick:()=>R("calendar"),children:[a.jsx(Mt,{size:18}),"Calendar"]}),a.jsxs("button",{className:`${Z.viewTab} ${k==="schedule"?Z.activeTab:""}`,onClick:()=>R("schedule"),children:[a.jsx(Jn,{size:18}),"Upcoming",Ra.length>0&&a.jsx("span",{className:Z.badge,children:Ra.length})]})]}),o&&a.jsxs("div",{className:Z.errorBanner,children:[a.jsx(Ma,{size:16}),o]}),k==="calendar"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`card glass-panel ${Z.calendarCard}`,children:[a.jsxs("div",{className:Z.calendarHeader,children:[a.jsx("button",{className:Z.navBtn,onClick:ot,children:a.jsx(fu,{size:20})}),a.jsxs("div",{className:Z.monthDisplay,children:[a.jsx("h2",{children:b.toLocaleDateString(void 0,{month:"long",year:"numeric"})}),a.jsx("button",{className:Z.todayBtn,onClick:bt,children:"Today"})]}),a.jsx("button",{className:Z.navBtn,onClick:ve,children:a.jsx(ri,{size:20})})]}),a.jsxs("div",{className:Z.grid,children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(P=>a.jsx("div",{className:Z.dayHeader,children:P},P)),Q.map((P,Ce)=>{const Fe=ie(P.date),Us=Fe.injections.length>0;Fe.schedules.length>0;const rt=Fe.schedules.filter(ea=>ea.completed).length,vt=Fe.schedules.filter(ea=>!ea.completed).length;return a.jsxs("button",{className:`${Z.day} ${P.dimmed?Z.dimmed:""} ${$e(P.date)?Z.today:""} ${qt(P.date)?Z.selected:""}`,onClick:()=>oe(P),children:[a.jsx("span",{className:Z.dayNumber,children:P.date.getDate()}),a.jsxs("div",{className:Z.dots,children:[Us&&Fe.injections.slice(0,2).map((ea,Ot)=>a.jsx("span",{className:`${Z.dot} ${Z.injectionDot}`},`inj-${Ot}`)),vt>0&&a.jsx("span",{className:`${Z.dot} ${Z.scheduleDot}`}),rt>0&&a.jsx("span",{className:`${Z.dot} ${Z.completedDot}`}),Fe.injections.length+Fe.schedules.length>3&&a.jsxs("span",{className:Z.moreCount,children:["+",Fe.injections.length+Fe.schedules.length-3]})]})]},Ce)})]})]}),a.jsxs("div",{className:`card glass-panel ${Z.detailsSection}`,children:[a.jsxs("div",{className:Z.detailsHeader,children:[a.jsxs("div",{children:[a.jsx("h3",{children:x.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),$e(x)&&a.jsx("span",{className:Z.todayLabel,children:"Today"})]}),a.jsxs("div",{className:Z.actionButtons,children:[a.jsxs("button",{className:`${Z.addBtn} ${Z.addBtnPrimary}`,onClick:()=>Os(),children:[a.jsx(Ls,{size:18}),"Log Shot"]}),!ca(x)&&a.jsx("button",{className:`${Z.addBtn} ${Z.addBtnSecondary}`,onClick:nc,children:a.jsx(xp,{size:18})}),a.jsx("button",{className:`${Z.addBtn} ${Z.addBtnTertiary}`,onClick:mi,children:a.jsx(Jn,{size:18})})]})]}),Y&&a.jsxs("form",{className:Z.form,onSubmit:ic,children:[a.jsxs("div",{className:Z.formHeader,children:[a.jsxs("h4",{children:[U==="log"&&(W?"Edit Injection":"Log Injection"),U==="schedule"&&"Schedule Injection",U==="recurring"&&"Create Recurring Schedule"]}),a.jsx("button",{type:"button",className:Z.closeBtn,onClick:()=>L(!1),children:a.jsx(Rs,{size:20})})]}),a.jsxs("div",{className:Z.inputGroup,ref:ee,children:[a.jsx("label",{children:"Peptide Name *"}),a.jsxs("div",{className:Z.autocompleteWrapper,children:[a.jsx("input",{type:"text",placeholder:"Type or search peptide...",value:te.peptide,onChange:P=>ce({...te,peptide:P.target.value}),onFocus:()=>le(!0),required:!0,autoComplete:"off"}),a.jsx(li,{size:18,className:`${Z.chevron} ${q?Z.chevronUp:""}`}),q&&Re.length>0&&a.jsx("div",{className:Z.autocomplete,children:Re.map(P=>a.jsx("button",{type:"button",className:Z.autocompleteItem,onClick:()=>gi(P),children:P},P))})]})]}),a.jsxs("div",{className:Z.formRow,children:[a.jsxs("div",{className:Z.inputGroup,children:[a.jsx("label",{children:"Dosage *"}),a.jsx("input",{type:"number",step:"0.001",min:"0",placeholder:"0.25",value:te.dosage,onChange:P=>ce({...te,dosage:P.target.value}),required:!0})]}),a.jsxs("div",{className:Z.inputGroup,children:[a.jsx("label",{children:"Unit"}),a.jsxs("select",{value:te.unit,onChange:P=>ce({...te,unit:P.target.value}),children:[a.jsx("option",{value:"mg",children:"mg"}),a.jsx("option",{value:"mcg",children:"mcg"}),a.jsx("option",{value:"iu",children:"IU"})]})]}),(U==="schedule"||U==="recurring")&&a.jsxs("div",{className:Z.inputGroup,children:[a.jsx("label",{children:"Time"}),a.jsx("input",{type:"time",value:te.time,onChange:P=>ce({...te,time:P.target.value})})]})]}),U==="log"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:Z.inputGroup,children:[a.jsxs("label",{children:[a.jsx(Mt,{size:14,style:{marginRight:6,verticalAlign:"middle"}}),"Date & Time"]}),a.jsx("input",{type:"datetime-local",value:te.date,onChange:P=>ce({...te,date:P.target.value}),max:new Date().toISOString().slice(0,16)})]}),a.jsxs("div",{className:Z.inputGroup,children:[a.jsx("label",{children:"Injection Site"}),a.jsx("div",{className:Z.siteButtons,children:["Abdomen","Thigh","Arm","Glute"].map(P=>a.jsx("button",{type:"button",className:`${Z.siteButton} ${te.site===P?Z.siteActive:""}`,onClick:()=>ce({...te,site:P}),children:P},P))})]})]}),U==="recurring"&&a.jsxs("div",{className:Z.formSection,children:[a.jsx("label",{children:"Quick Protocols"}),a.jsx("div",{className:Z.quickProtocols,children:US.map(P=>a.jsxs("button",{type:"button",className:`${Z.quickProtocolBtn} ${JSON.stringify(te.recurrenceDays)===JSON.stringify(P.days)?Z.quickProtocolActive:""}`,onClick:()=>pi(P),children:[a.jsx("span",{className:Z.protocolEmoji,children:P.icon}),P.label]},P.id))}),a.jsx("label",{style:{marginTop:"1rem"},children:"Or select specific days"}),a.jsx("div",{className:Z.daysSelector,children:Lp.map(P=>a.jsxs("button",{type:"button",className:`${Z.dayBtn} ${te.recurrenceDays.includes(P.value)?Z.dayBtnActive:""}`,onClick:()=>hi(P.value),children:[a.jsx("span",{className:Z.dayShort,children:P.short}),a.jsx("span",{className:Z.dayLabel,children:P.label})]},P.value))}),a.jsxs("div",{className:Z.inputGroup,children:[a.jsx("label",{children:"Duration (days)"}),a.jsxs("select",{value:te.duration,onChange:P=>ce({...te,duration:parseInt(P.target.value)}),children:[a.jsx("option",{value:7,children:"1 Week"}),a.jsx("option",{value:14,children:"2 Weeks"}),a.jsx("option",{value:28,children:"4 Weeks"}),a.jsx("option",{value:56,children:"8 Weeks"}),a.jsx("option",{value:84,children:"12 Weeks"})]})]})]}),a.jsxs("div",{className:Z.inputGroup,children:[a.jsx("label",{children:"Notes (optional)"}),a.jsx("input",{type:"text",placeholder:"Optional notes...",value:te.notes,onChange:P=>ce({...te,notes:P.target.value})})]}),a.jsxs("button",{type:"submit",className:Z.submitBtn,children:[U==="log"&&(W?a.jsxs(a.Fragment,{children:[a.jsx(ai,{size:18})," Update"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ls,{size:18})," Log Injection"]})),U==="schedule"&&a.jsxs(a.Fragment,{children:[a.jsx(xp,{size:18})," Add to Schedule"]}),U==="recurring"&&a.jsxs(a.Fragment,{children:[a.jsx(Jn,{size:18})," Create Protocol"]})]})]}),a.jsxs("div",{className:Z.dayItems,children:[ja.schedules.filter(P=>!P.completed).length>0&&a.jsxs("div",{className:Z.itemSection,children:[a.jsxs("h5",{className:Z.sectionLabel,children:[a.jsx(Ta,{size:14}),"Scheduled"]}),ja.schedules.filter(P=>!P.completed).map(P=>a.jsxs("div",{className:Z.scheduleItem,children:[a.jsx("button",{className:Z.completeBtn,onClick:()=>wl(P),title:"Mark as complete (will log injection)",children:a.jsx(ax,{size:22})}),a.jsxs("div",{className:Z.itemInfo,children:[a.jsx("span",{className:Z.itemPeptide,children:P.peptide}),a.jsxs("span",{className:Z.itemDetails,children:[P.dosage,P.unit,"  ",P.time,P.isRecurring&&a.jsx(Jn,{size:12,className:Z.recurringIcon})]})]}),a.jsx("button",{className:Z.deleteBtn,onClick:()=>w(P.id),children:a.jsx(Ft,{size:16})})]},P.id))]}),ja.injections.length>0&&a.jsxs("div",{className:Z.itemSection,children:[a.jsxs("h5",{className:Z.sectionLabel,children:[a.jsx(_t,{size:14}),"Logged"]}),ja.injections.map(P=>a.jsxs("div",{className:Z.injectionItem,children:[a.jsx("div",{className:Z.completedIcon,children:a.jsx(_t,{size:22})}),a.jsxs("div",{className:Z.itemInfo,children:[a.jsx("span",{className:Z.itemPeptide,children:P.peptide}),a.jsxs("span",{className:Z.itemDetails,children:[P.dosage,P.unit,"  ",P.site,"  ",Nl(P.date)]}),P.notes&&a.jsx("span",{className:Z.itemNotes,children:P.notes})]}),a.jsxs("div",{className:Z.itemActions,children:[a.jsx("button",{className:Z.editBtn,onClick:()=>Rt(P),children:a.jsx(ks,{size:16})}),a.jsx("button",{className:`${Z.deleteBtn} ${z===P.id?Z.confirmDelete:""}`,onClick:()=>lc(P.id),children:z===P.id?a.jsx(ai,{size:16}):a.jsx(Ft,{size:16})})]})]},P.id))]}),ja.schedules.filter(P=>P.completed).length>0&&a.jsxs("div",{className:Z.itemSection,children:[a.jsxs("h5",{className:Z.sectionLabel,style:{opacity:.6},children:[a.jsx(ai,{size:14}),"Completed Schedule"]}),ja.schedules.filter(P=>P.completed).map(P=>a.jsxs("div",{className:`${Z.scheduleItem} ${Z.completedSchedule}`,children:[a.jsx("div",{className:Z.completedIcon,children:a.jsx(_t,{size:22})}),a.jsxs("div",{className:Z.itemInfo,children:[a.jsx("span",{className:Z.itemPeptide,children:P.peptide}),a.jsxs("span",{className:Z.itemDetails,children:[P.dosage,P.unit,"  ",P.time]})]})]},P.id))]}),ja.injections.length===0&&ja.schedules.length===0&&a.jsxs("div",{className:Z.emptyState,children:[a.jsx(La,{size:40,className:Z.emptyIcon}),a.jsx("p",{children:"No injections for this day"}),a.jsx("span",{children:'Tap "Log Shot" to add one'})]})]})]})]}):a.jsxs("div",{className:`card glass-panel ${Z.upcomingSection}`,children:[a.jsxs("div",{className:Z.upcomingHeader,children:[a.jsxs("h3",{children:[a.jsx(Jn,{size:20}),"Upcoming Schedule"]}),a.jsxs("button",{className:Z.addBtn,onClick:mi,children:[a.jsx(Ls,{size:18}),"New Protocol"]})]}),Ra.length===0?a.jsxs("div",{className:Z.emptyState,children:[a.jsx(Mt,{size:40,className:Z.emptyIcon}),a.jsx("p",{children:"No upcoming schedules"}),a.jsx("span",{children:"Create a recurring protocol to get started"})]}):a.jsx("div",{className:Z.upcomingList,children:Ra.map(P=>{const Ce=new Date(P.date),Fe=$e(Ce);return a.jsxs("div",{className:`${Z.upcomingItem} ${P.completed?Z.completedItem:""} ${Fe?Z.todayItem:""}`,children:[a.jsxs("div",{className:Z.upcomingDate,children:[a.jsx("span",{className:Z.upcomingDay,children:Ce.getDate()}),a.jsx("span",{className:Z.upcomingMonth,children:Ce.toLocaleDateString(void 0,{weekday:"short"})})]}),a.jsxs("div",{className:Z.upcomingInfo,children:[a.jsx("span",{className:Z.upcomingPeptide,children:P.peptide}),a.jsxs("span",{className:Z.upcomingDetails,children:[P.dosage,P.unit,"  ",P.time,P.isRecurring&&a.jsx(Jn,{size:12,className:Z.recurringIcon})]})]}),!P.completed&&Fe&&a.jsxs("button",{className:Z.quickCompleteBtn,onClick:()=>wl(P),children:[a.jsx(ai,{size:18}),"Log Now"]}),P.completed&&a.jsxs("span",{className:Z.completedBadge,children:[a.jsx(_t,{size:16}),"Done"]})]},P.id)})}),S.length>0&&a.jsxs("div",{className:Z.templatesSection,children:[a.jsxs("h4",{children:[a.jsx(Tg,{size:16}),"Active Protocols"]}),a.jsx("div",{className:Z.templatesList,children:S.map(P=>a.jsxs("div",{className:Z.templateItem,children:[a.jsxs("div",{className:Z.templateInfo,children:[a.jsx("span",{className:Z.templateName,children:P.name||P.peptide}),a.jsxs("span",{className:Z.templateDetails,children:[P.dosage,P.unit,"  ",P.recurrenceDays?.map(Ce=>Lp[Ce]?.short).join(", ")]})]}),a.jsx("button",{className:Z.deleteBtn,onClick:()=>M(P.id,!0),title:"Delete protocol and all scheduled items",children:a.jsx(Ft,{size:16})})]},P.id))})]})]})]})},HS=()=>a.jsx("div",{className:"padding-container",style:{padding:"20px"},children:a.jsx(IS,{})}),qS=()=>{const[l,c]=j.useState(""),[o,d]=j.useState(""),[u,f]=j.useState(!1),[h,g]=j.useState(!1),[p,v]=j.useState(!1),[S,C]=j.useState(null),[D,V]=j.useState(!1),[w,H]=j.useState(""),[M,N]=j.useState(null),{signIn:b,signInWithOAuth:E,user:x}=Ct(),I=ec(),R=un().state?.from?.pathname||"/settings";j.useEffect(()=>{(async()=>{if(x){if(D)return;const{data:q}=await K.auth.mfa.getAuthenticatorAssuranceLevel();if(q&&q.nextLevel==="aal2"&&q.currentLevel==="aal1"){V(!0);const{data:le}=await K.auth.mfa.listFactors(),z=le?.all?.find(A=>A.factor_type==="totp");z?N(z.id):C("2FA required but no factor found. Please contact support.")}else I(R,{replace:!0})}})()},[x,D,I,R]);const Y=async y=>{y.preventDefault(),g(!0),C(null);try{await b(l,o)}catch(q){q.message.includes("Invalid login credentials")?C("Invalid email or password. Please try again."):q.message.includes("Email not confirmed")?C("Please check your email and confirm your account before logging in."):C(q.message)}finally{g(!1)}},L=async y=>{y.preventDefault(),g(!0),C(null);try{if(!M)throw new Error("2FA factor ID not found");const q=await K.auth.mfa.challenge({factorId:M});if(q.error)throw q.error;const le=await K.auth.mfa.verify({factorId:M,challengeId:q.data.id,code:w});if(le.error)throw le.error;I(R,{replace:!0})}catch(q){C(q.message)}finally{g(!1)}},U=async()=>{v(!0),C(null);try{await E("google")}catch{C("Failed to sign in with Google. Please try again."),v(!1)}},se={background:"rgba(15, 23, 42, 0.5)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-md)",padding:"0.75rem 1rem",color:"var(--text-primary)",fontSize:"1rem",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s",width:"100%",boxSizing:"border-box"},W={display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",width:"100%",padding:"0.75rem 1rem",background:"rgba(255, 255, 255, 0.05)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-md)",color:"var(--text-primary)",fontSize:"0.95rem",fontWeight:"500",cursor:p?"not-allowed":"pointer",opacity:p?.7:1,transition:"all 0.2s"};return a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:a.jsxs("div",{className:"card glass-panel",style:{width:"100%",maxWidth:"400px",padding:"2rem"},children:[a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"2rem"},children:[a.jsx("div",{style:{background:"var(--accent-glow)",padding:"1rem",borderRadius:"50%",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:D?a.jsx(Kt,{size:32,color:"var(--accent-primary)"}):a.jsx(pl,{size:32,color:"var(--accent-primary)"})}),a.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:D?"Two-Factor Authentication":"Welcome Back"}),a.jsx("p",{style:{color:"var(--text-secondary)",marginTop:"0.5rem"},children:D?"Enter the code from your authenticator app":"Sign in to your account"})]}),S&&a.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#ef4444",padding:"0.75rem",borderRadius:"var(--radius-md)",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[a.jsx(Ma,{size:16}),a.jsx("span",{children:S})]}),D?a.jsxs("form",{onSubmit:L,style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[a.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--text-secondary)"},children:"Verification Code"}),a.jsx("input",{type:"text",value:w,onChange:y=>H(y.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Enter 6-digit code",style:{...se,textAlign:"center",letterSpacing:"0.25rem",fontSize:"1.25rem"},required:!0,autoFocus:!0,maxLength:6})]}),a.jsxs("button",{type:"submit",className:"btn-primary",disabled:h||w.length!==6,style:{marginTop:"0.5rem",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",opacity:h||w.length!==6?.7:1,cursor:h||w.length!==6?"not-allowed":"pointer"},children:[a.jsx("span",{children:h?"Verifying...":"Verify Code"}),!h&&a.jsx(Kt,{size:18})]}),a.jsx("button",{type:"button",onClick:()=>V(!1),style:{background:"transparent",border:"none",color:"var(--text-tertiary)",cursor:"pointer",fontSize:"0.875rem",textDecoration:"underline"},children:"Cancel and go back"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{marginBottom:"1.5rem"},children:a.jsxs("button",{onClick:U,disabled:p,style:W,onMouseEnter:y=>{p||(y.target.style.background="rgba(255, 255, 255, 0.1)")},onMouseLeave:y=>{y.target.style.background="rgba(255, 255, 255, 0.05)"},children:[a.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),p?"Connecting...":"Continue with Google"]})}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[a.jsx("div",{style:{flex:1,height:"1px",background:"var(--glass-border)"}}),a.jsx("span",{style:{color:"var(--text-tertiary)",fontSize:"0.75rem",textTransform:"uppercase"},children:"or"}),a.jsx("div",{style:{flex:1,height:"1px",background:"var(--glass-border)"}})]}),a.jsxs("form",{onSubmit:Y,style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[a.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--text-secondary)"},children:"Email"}),a.jsx("input",{type:"email",value:l,onChange:y=>c(y.target.value),placeholder:"Enter your email",style:se,required:!0,autoComplete:"email"})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--text-secondary)"},children:"Password"}),a.jsx(st,{to:"/forgot-password",style:{fontSize:"0.75rem",color:"var(--accent-primary)",textDecoration:"none"},children:"Forgot password?"})]}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx("input",{type:u?"text":"password",value:o,onChange:y=>d(y.target.value),placeholder:"Enter your password",style:{...se,paddingRight:"3rem"},required:!0,autoComplete:"current-password"}),a.jsx("button",{type:"button",onClick:()=>f(!u),style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-tertiary)"},tabIndex:-1,children:u?a.jsx(sx,{size:18}):a.jsx(jl,{size:18})})]})]}),a.jsxs("button",{type:"submit",className:"btn-primary",disabled:h,style:{marginTop:"0.5rem",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",opacity:h?.7:1,cursor:h?"not-allowed":"pointer"},children:[a.jsx("span",{children:h?"Signing in...":"Sign In"}),!h&&a.jsx(pl,{size:18})]})]})]}),a.jsx("div",{style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid var(--glass-border)",textAlign:"center"},children:a.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:["Don't have an account?"," ",a.jsx(st,{to:"/signup",style:{color:"var(--accent-primary)",textDecoration:"none",fontWeight:"500"},children:"Create one"})]})})]})})},VS=()=>{const[l,c]=j.useState(""),[o,d]=j.useState(""),[u,f]=j.useState(""),[h,g]=j.useState(""),[p,v]=j.useState(!1),[S,C]=j.useState(null),[D,V]=j.useState(!1),{signUp:w}=Ct();ec();const H=async N=>{if(N.preventDefault(),v(!0),C(null),u!==h){C("Passwords don't match"),v(!1);return}if(u.length<6){C("Password must be at least 6 characters"),v(!1);return}try{await w(o,u,l),V(!0)}catch(b){C(b.message)}finally{v(!1)}},M={background:"rgba(15, 23, 42, 0.5)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-md)",padding:"0.75rem 1rem",color:"var(--text-primary)",fontSize:"1rem",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s",width:"100%",boxSizing:"border-box"};return D?a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:a.jsxs("div",{className:"card glass-panel",style:{width:"100%",maxWidth:"400px",padding:"2rem",textAlign:"center"},children:[a.jsx("div",{style:{background:"rgba(16, 185, 129, 0.1)",padding:"1rem",borderRadius:"50%",marginBottom:"1.5rem",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:a.jsx(bl,{size:40,color:"#10b981"})}),a.jsx("h2",{style:{margin:"0 0 1rem 0",fontSize:"1.5rem",fontWeight:"600"},children:"Check Your Email"}),a.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:"1.5rem",lineHeight:"1.6"},children:["We've sent a confirmation link to ",a.jsx("strong",{style:{color:"var(--text-primary)"},children:o}),". Please click the link to verify your account."]}),a.jsx("p",{style:{color:"var(--text-tertiary)",fontSize:"0.875rem",marginBottom:"1.5rem"},children:"Didn't receive the email? Check your spam folder."}),a.jsx(st,{to:"/login",className:"btn-primary",style:{display:"inline-block",textDecoration:"none"},children:"Go to Login"})]})}):a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:a.jsxs("div",{className:"card glass-panel",style:{width:"100%",maxWidth:"400px",padding:"2rem"},children:[a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"2rem"},children:[a.jsx("div",{style:{background:"var(--accent-glow)",padding:"1rem",borderRadius:"50%",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(iu,{size:32,color:"var(--accent-primary)"})}),a.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:"Create Account"}),a.jsx("p",{style:{color:"var(--text-secondary)",marginTop:"0.5rem"},children:"Join Peptide Tracker today"})]}),S&&a.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#ef4444",padding:"0.75rem",borderRadius:"var(--radius-md)",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[a.jsx(Ma,{size:16}),a.jsx("span",{children:S})]}),a.jsxs("form",{onSubmit:H,style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[a.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--text-secondary)"},children:"Full Name"}),a.jsx("input",{type:"text",value:l,onChange:N=>c(N.target.value),placeholder:"Enter your full name",style:M,required:!0})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[a.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--text-secondary)"},children:"Email"}),a.jsx("input",{type:"email",value:o,onChange:N=>d(N.target.value),placeholder:"Enter your email",style:M,required:!0})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[a.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--text-secondary)"},children:"Password"}),a.jsx("input",{type:"password",value:u,onChange:N=>f(N.target.value),placeholder:"Create a password (min. 6 characters)",style:M,required:!0,minLength:6})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[a.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--text-secondary)"},children:"Confirm Password"}),a.jsx("input",{type:"password",value:h,onChange:N=>g(N.target.value),placeholder:"Confirm your password",style:M,required:!0})]}),a.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,style:{marginTop:"0.5rem",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",opacity:p?.7:1,cursor:p?"not-allowed":"pointer"},children:[a.jsx("span",{children:p?"Creating account...":"Create Account"}),!p&&a.jsx(iu,{size:18})]})]}),a.jsx("div",{style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid var(--glass-border)",textAlign:"center"},children:a.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:["Already have an account?"," ",a.jsx(st,{to:"/login",style:{color:"var(--accent-primary)",textDecoration:"none",fontWeight:"500"},children:"Sign in"})]})}),a.jsxs("p",{style:{color:"var(--text-tertiary)",fontSize:"0.75rem",textAlign:"center",marginTop:"1rem",lineHeight:"1.5"},children:["By creating an account, you agree to our"," ",a.jsx(st,{to:"/terms",style:{color:"var(--text-secondary)"},children:"Terms of Service"})," ","and"," ",a.jsx(st,{to:"/privacy",style:{color:"var(--text-secondary)"},children:"Privacy Policy"})]})]})})},GS=()=>{const[l,c]=j.useState(""),[o,d]=j.useState(!1),[u,f]=j.useState(null),[h,g]=j.useState(!1),{resetPassword:p}=Ct(),v=async C=>{C.preventDefault(),d(!0),f(null);try{await p(l),g(!0)}catch(D){f(D.message)}finally{d(!1)}},S={background:"rgba(15, 23, 42, 0.5)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-md)",padding:"0.75rem 1rem",color:"var(--text-primary)",fontSize:"1rem",outline:"none",transition:"border-color 0.2s",width:"100%",boxSizing:"border-box"};return h?a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:a.jsxs("div",{className:"card glass-panel",style:{width:"100%",maxWidth:"400px",padding:"2rem",textAlign:"center"},children:[a.jsx("div",{style:{background:"rgba(16, 185, 129, 0.1)",padding:"1rem",borderRadius:"50%",marginBottom:"1.5rem",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:a.jsx(_t,{size:40,color:"#10b981"})}),a.jsx("h2",{style:{margin:"0 0 1rem 0",fontSize:"1.5rem",fontWeight:"600"},children:"Check Your Email"}),a.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:"1.5rem",lineHeight:"1.6"},children:["We've sent password reset instructions to ",a.jsx("strong",{style:{color:"var(--text-primary)"},children:l})]}),a.jsx("p",{style:{color:"var(--text-tertiary)",fontSize:"0.875rem",marginBottom:"1.5rem"},children:"Didn't receive the email? Check your spam folder or try again."}),a.jsxs(st,{to:"/login",className:"btn-primary",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",textDecoration:"none"},children:[a.jsx(Zr,{size:18}),"Back to Login"]})]})}):a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:a.jsxs("div",{className:"card glass-panel",style:{width:"100%",maxWidth:"400px",padding:"2rem"},children:[a.jsxs(st,{to:"/login",style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--text-secondary)",textDecoration:"none",fontSize:"0.875rem",marginBottom:"1.5rem"},children:[a.jsx(Zr,{size:16}),"Back to login"]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"2rem"},children:[a.jsx("div",{style:{background:"var(--accent-glow)",padding:"1rem",borderRadius:"50%",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(bl,{size:32,color:"var(--accent-primary)"})}),a.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:"Reset Password"}),a.jsx("p",{style:{color:"var(--text-secondary)",marginTop:"0.5rem",textAlign:"center"},children:"Enter your email and we'll send you a link to reset your password"})]}),u&&a.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#ef4444",padding:"0.75rem",borderRadius:"var(--radius-md)",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[a.jsx(Ma,{size:16}),a.jsx("span",{children:u})]}),a.jsxs("form",{onSubmit:v,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[a.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--text-secondary)"},children:"Email Address"}),a.jsx("input",{type:"email",value:l,onChange:C=>c(C.target.value),placeholder:"Enter your email",style:S,required:!0,autoComplete:"email"})]}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:o,style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",opacity:o?.7:1,cursor:o?"not-allowed":"pointer"},children:a.jsx("span",{children:o?"Sending...":"Send Reset Link"})})]})]})})},$S={async requestPasswordReset(l){try{const{error:c}=await K.auth.resetPasswordForEmail(l,{redirectTo:`${window.location.origin}/reset-password`});if(c)throw c;return{success:!0}}catch(c){return console.error("[Email Service] Password reset failed:",c),{success:!1,error:c.message}}},async sendMagicLink(l){try{const{error:c}=await K.auth.signInWithOtp({email:l,options:{emailRedirectTo:`${window.location.origin}/`}});if(c)throw c;return{success:!0}}catch(c){return console.error("[Email Service] Magic link failed:",c),{success:!1,error:c.message}}},async resendConfirmation(l){try{const{error:c}=await K.auth.resend({type:"signup",email:l,options:{emailRedirectTo:`${window.location.origin}/`}});if(c)throw c;return{success:!0}}catch(c){return console.error("[Email Service] Resend confirmation failed:",c),{success:!1,error:c.message}}},async sendCustomEmail(l,c,o={}){try{const{data:d,error:u}=await K.functions.invoke("send-email",{body:{type:l,email:c,data:o}});if(u)throw u;return{success:!0,data:d}}catch(d){return console.warn(`[Email Service] Custom email (${l}) failed:`,d.message),d.message?.includes("not found")||d.status===404?(console.log(`[Email Service] Edge Function not deployed. Email type: ${l}, To: ${c}`),{success:!0,simulated:!0}):{success:!1,error:d.message}}},async sendWelcomeEmail(l,c){return this.sendCustomEmail("welcome",l,{name:c})},async sendInjectionReminder(l,c,o){return this.sendCustomEmail("injection_reminder",l,{peptideName:c,scheduledTime:o})},async sendTicketUpdate(l,c,o){return this.sendCustomEmail("ticket_update",l,{ticketSubject:c,status:o})},async updateNotificationPreferences(l,c){try{const{error:o}=await K.from("profiles").update({email_notifications:c.email??!0,push_notifications:c.push??!0,reminder_time:c.reminderTime??null}).eq("id",l);if(o)throw o;return{success:!0}}catch(o){return console.error("[Email Service] Update preferences failed:",o),{success:!1,error:o.message}}},async getNotificationPreferences(l){try{const{data:c,error:o}=await K.from("profiles").select("email_notifications, push_notifications, reminder_time").eq("id",l).single();if(o)throw o;return{success:!0,preferences:{email:c.email_notifications??!0,push:c.push_notifications??!0,reminderTime:c.reminder_time}}}catch(c){return console.error("[Email Service] Get preferences failed:",c),{success:!1,error:c.message}}}},Ug={toCSV:(l,c="injection_history")=>{if(!l||l.length===0)throw new Error("No data to export");const o=["Date","Time","Peptide","Dosage","Unit","Injection Site","Notes"],d=l.map(p=>{const v=new Date(p.injection_date||p.date);return[Nt(v,"yyyy-MM-dd"),Nt(v,"HH:mm"),p.peptide_name||p.peptide||"",p.dosage_value||p.dosage_mcg||p.dosage||"",p.dosage_unit||p.unit||"mcg",p.injection_site||p.site||"",(p.notes||"").replace(/"/g,'""')]}),u=[o.join(","),...d.map(p=>p.map(v=>`"${v}"`).join(","))].join(`
`),f=new Blob([u],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(f),g=document.createElement("a");return g.href=h,g.download=`${c}_${Nt(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(h),!0},toPDF:(l,c={})=>{if(!l||l.length===0)throw new Error("No data to export");const{filename:o="injection_history",title:d="Injection History Report"}=c,u=new Hv;u.setFontSize(20),u.setTextColor(59,130,246),u.text("Peptide Tracker",14,20),u.setFontSize(14),u.setTextColor(31,41,55),u.text(d,14,30),u.setFontSize(10),u.setTextColor(107,114,128),u.text(`Generated on ${Nt(new Date,"MMMM d, yyyy")}`,14,38),u.text(`Total Records: ${l.length}`,14,44);const f=l.map(S=>{const C=new Date(S.injection_date||S.date);return[Nt(C,"MMM d, yyyy"),Nt(C,"h:mm a"),S.peptide_name||S.peptide||"",`${S.dosage_value||S.dosage_mcg||S.dosage||""} ${S.dosage_unit||S.unit||"mcg"}`,S.injection_site||S.site||"",(S.notes||"").substring(0,30)+(S.notes?.length>30?"...":"")]});u.autoTable({startY:52,head:[["Date","Time","Peptide","Dosage","Site","Notes"]],body:f,theme:"striped",headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[249,250,251]},styles:{fontSize:9,cellPadding:4},columnStyles:{0:{cellWidth:25},1:{cellWidth:20},2:{cellWidth:35},3:{cellWidth:25},4:{cellWidth:25},5:{cellWidth:"auto"}}});const h=u.lastAutoTable.finalY+15,g={};l.forEach(S=>{const C=S.peptide_name||S.peptide;g[C]=(g[C]||0)+1});const p=Object.entries(g).sort((S,C)=>C[1]-S[1]).slice(0,5);h<250&&(u.setFontSize(12),u.setTextColor(31,41,55),u.text("Summary by Peptide",14,h),u.autoTable({startY:h+5,head:[["Peptide","Count","Percentage"]],body:p.map(([S,C])=>[S,C,`${(C/l.length*100).toFixed(1)}%`]),theme:"plain",headStyles:{fillColor:[243,244,246],textColor:[55,65,81],fontStyle:"bold"},styles:{fontSize:9}}));const v=u.internal.getNumberOfPages();for(let S=1;S<=v;S++)u.setPage(S),u.setFontSize(8),u.setTextColor(156,163,175),u.text(`Page ${S} of ${v} | Peptide Tracker`,u.internal.pageSize.width/2,u.internal.pageSize.height-10,{align:"center"});return u.save(`${o}_${Nt(new Date,"yyyy-MM-dd")}.pdf`),!0},schedulesToCSV:(l,c="schedule_export")=>{if(!l||l.length===0)throw new Error("No schedules to export");const o=["Date","Time","Peptide","Dosage","Unit","Completed","Notes"],d=l.map(p=>[p.scheduled_date||Nt(new Date(p.date),"yyyy-MM-dd"),p.scheduled_time||p.time||"",p.peptide_name||p.peptide||"",p.dosage||"",p.unit||"mg",p.completed?"Yes":"No",(p.notes||"").replace(/"/g,'""')]),u=[o.join(","),...d.map(p=>p.map(v=>`"${v}"`).join(","))].join(`
`),f=new Blob([u],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(f),g=document.createElement("a");return g.href=h,g.download=`${c}_${Nt(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(h),!0}},YS=Object.freeze(Object.defineProperty({__proto__:null,exportService:Ug},Symbol.toStringTag,{value:"Module"})),N6=async l=>{try{let{data:c,error:o}=await K.from("reviews_with_profiles").select("*").eq("peptide_name",l).order("created_at",{ascending:!1});if(o&&o.code==="PGRST200"){const d=await K.from("reviews").select("*").eq("peptide_name",l).order("created_at",{ascending:!1});c=d.data,o=d.error}if(o)throw o;return(c||[]).map(d=>({...d,user_name:d.full_name||"Anonymous"}))}catch(c){return console.warn("Error fetching reviews:",c),[]}},PS=async l=>{try{const{data:c,error:o}=await K.from("reviews").select("*").eq("user_id",l).order("created_at",{ascending:!1});if(o)throw o;return c||[]}catch(c){return console.warn("Error fetching user reviews:",c),[]}},XS=async l=>{try{const{error:c}=await K.from("reviews").delete().eq("id",l);if(c)throw c;return!0}catch(c){return console.warn("Error deleting review:",c),!1}},C6=async(l,c,o,d)=>{try{const{data:u,error:f}=await K.from("reviews").insert([{peptide_name:l,rating:c,comment:o,user_id:d}]).select();if(f)throw f;return u[0]}catch(u){throw console.warn("Error submitting review:",u),u}};var Wn={},Dd,Mp;function QS(){return Mp||(Mp=1,Dd=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Dd}var Ad={},Ds={},Rp;function fn(){if(Rp)return Ds;Rp=1;let l;const c=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Ds.getSymbolSize=function(d){if(!d)throw new Error('"version" cannot be null or undefined');if(d<1||d>40)throw new Error('"version" should be in range from 1 to 40');return d*4+17},Ds.getSymbolTotalCodewords=function(d){return c[d]},Ds.getBCHDigit=function(o){let d=0;for(;o!==0;)d++,o>>>=1;return d},Ds.setToSJISFunction=function(d){if(typeof d!="function")throw new Error('"toSJISFunc" is not a valid function.');l=d},Ds.isKanjiModeEnabled=function(){return typeof l<"u"},Ds.toSJIS=function(d){return l(d)},Ds}var Ed={},Op;function _u(){return Op||(Op=1,(function(l){l.L={bit:1},l.M={bit:0},l.Q={bit:3},l.H={bit:2};function c(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return l.L;case"m":case"medium":return l.M;case"q":case"quartile":return l.Q;case"h":case"high":return l.H;default:throw new Error("Unknown EC Level: "+o)}}l.isValid=function(d){return d&&typeof d.bit<"u"&&d.bit>=0&&d.bit<4},l.from=function(d,u){if(l.isValid(d))return d;try{return c(d)}catch{return u}}})(Ed)),Ed}var kd,Up;function ZS(){if(Up)return kd;Up=1;function l(){this.buffer=[],this.length=0}return l.prototype={get:function(c){const o=Math.floor(c/8);return(this.buffer[o]>>>7-c%8&1)===1},put:function(c,o){for(let d=0;d<o;d++)this.putBit((c>>>o-d-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(c){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),c&&(this.buffer[o]|=128>>>this.length%8),this.length++}},kd=l,kd}var Bd,Ip;function FS(){if(Ip)return Bd;Ip=1;function l(c){if(!c||c<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=c,this.data=new Uint8Array(c*c),this.reservedBit=new Uint8Array(c*c)}return l.prototype.set=function(c,o,d,u){const f=c*this.size+o;this.data[f]=d,u&&(this.reservedBit[f]=!0)},l.prototype.get=function(c,o){return this.data[c*this.size+o]},l.prototype.xor=function(c,o,d){this.data[c*this.size+o]^=d},l.prototype.isReserved=function(c,o){return this.reservedBit[c*this.size+o]},Bd=l,Bd}var zd={},Hp;function KS(){return Hp||(Hp=1,(function(l){const c=fn().getSymbolSize;l.getRowColCoords=function(d){if(d===1)return[];const u=Math.floor(d/7)+2,f=c(d),h=f===145?26:Math.ceil((f-13)/(2*u-2))*2,g=[f-7];for(let p=1;p<u-1;p++)g[p]=g[p-1]-h;return g.push(6),g.reverse()},l.getPositions=function(d){const u=[],f=l.getRowColCoords(d),h=f.length;for(let g=0;g<h;g++)for(let p=0;p<h;p++)g===0&&p===0||g===0&&p===h-1||g===h-1&&p===0||u.push([f[g],f[p]]);return u}})(zd)),zd}var Ld={},qp;function JS(){if(qp)return Ld;qp=1;const l=fn().getSymbolSize,c=7;return Ld.getPositions=function(d){const u=l(d);return[[0,0],[u-c,0],[0,u-c]]},Ld}var Md={},Vp;function WS(){return Vp||(Vp=1,(function(l){l.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const c={N1:3,N2:3,N3:40,N4:10};l.isValid=function(u){return u!=null&&u!==""&&!isNaN(u)&&u>=0&&u<=7},l.from=function(u){return l.isValid(u)?parseInt(u,10):void 0},l.getPenaltyN1=function(u){const f=u.size;let h=0,g=0,p=0,v=null,S=null;for(let C=0;C<f;C++){g=p=0,v=S=null;for(let D=0;D<f;D++){let V=u.get(C,D);V===v?g++:(g>=5&&(h+=c.N1+(g-5)),v=V,g=1),V=u.get(D,C),V===S?p++:(p>=5&&(h+=c.N1+(p-5)),S=V,p=1)}g>=5&&(h+=c.N1+(g-5)),p>=5&&(h+=c.N1+(p-5))}return h},l.getPenaltyN2=function(u){const f=u.size;let h=0;for(let g=0;g<f-1;g++)for(let p=0;p<f-1;p++){const v=u.get(g,p)+u.get(g,p+1)+u.get(g+1,p)+u.get(g+1,p+1);(v===4||v===0)&&h++}return h*c.N2},l.getPenaltyN3=function(u){const f=u.size;let h=0,g=0,p=0;for(let v=0;v<f;v++){g=p=0;for(let S=0;S<f;S++)g=g<<1&2047|u.get(v,S),S>=10&&(g===1488||g===93)&&h++,p=p<<1&2047|u.get(S,v),S>=10&&(p===1488||p===93)&&h++}return h*c.N3},l.getPenaltyN4=function(u){let f=0;const h=u.data.length;for(let p=0;p<h;p++)f+=u.data[p];return Math.abs(Math.ceil(f*100/h/5)-10)*c.N4};function o(d,u,f){switch(d){case l.Patterns.PATTERN000:return(u+f)%2===0;case l.Patterns.PATTERN001:return u%2===0;case l.Patterns.PATTERN010:return f%3===0;case l.Patterns.PATTERN011:return(u+f)%3===0;case l.Patterns.PATTERN100:return(Math.floor(u/2)+Math.floor(f/3))%2===0;case l.Patterns.PATTERN101:return u*f%2+u*f%3===0;case l.Patterns.PATTERN110:return(u*f%2+u*f%3)%2===0;case l.Patterns.PATTERN111:return(u*f%3+(u+f)%2)%2===0;default:throw new Error("bad maskPattern:"+d)}}l.applyMask=function(u,f){const h=f.size;for(let g=0;g<h;g++)for(let p=0;p<h;p++)f.isReserved(p,g)||f.xor(p,g,o(u,p,g))},l.getBestMask=function(u,f){const h=Object.keys(l.Patterns).length;let g=0,p=1/0;for(let v=0;v<h;v++){f(v),l.applyMask(v,u);const S=l.getPenaltyN1(u)+l.getPenaltyN2(u)+l.getPenaltyN3(u)+l.getPenaltyN4(u);l.applyMask(v,u),S<p&&(p=S,g=v)}return g}})(Md)),Md}var $r={},Gp;function Ig(){if(Gp)return $r;Gp=1;const l=_u(),c=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return $r.getBlocksCount=function(u,f){switch(f){case l.L:return c[(u-1)*4+0];case l.M:return c[(u-1)*4+1];case l.Q:return c[(u-1)*4+2];case l.H:return c[(u-1)*4+3];default:return}},$r.getTotalCodewordsCount=function(u,f){switch(f){case l.L:return o[(u-1)*4+0];case l.M:return o[(u-1)*4+1];case l.Q:return o[(u-1)*4+2];case l.H:return o[(u-1)*4+3];default:return}},$r}var Rd={},dl={},$p;function e2(){if($p)return dl;$p=1;const l=new Uint8Array(512),c=new Uint8Array(256);return(function(){let d=1;for(let u=0;u<255;u++)l[u]=d,c[d]=u,d<<=1,d&256&&(d^=285);for(let u=255;u<512;u++)l[u]=l[u-255]})(),dl.log=function(d){if(d<1)throw new Error("log("+d+")");return c[d]},dl.exp=function(d){return l[d]},dl.mul=function(d,u){return d===0||u===0?0:l[c[d]+c[u]]},dl}var Yp;function t2(){return Yp||(Yp=1,(function(l){const c=e2();l.mul=function(d,u){const f=new Uint8Array(d.length+u.length-1);for(let h=0;h<d.length;h++)for(let g=0;g<u.length;g++)f[h+g]^=c.mul(d[h],u[g]);return f},l.mod=function(d,u){let f=new Uint8Array(d);for(;f.length-u.length>=0;){const h=f[0];for(let p=0;p<u.length;p++)f[p]^=c.mul(u[p],h);let g=0;for(;g<f.length&&f[g]===0;)g++;f=f.slice(g)}return f},l.generateECPolynomial=function(d){let u=new Uint8Array([1]);for(let f=0;f<d;f++)u=l.mul(u,new Uint8Array([1,c.exp(f)]));return u}})(Rd)),Rd}var Od,Pp;function a2(){if(Pp)return Od;Pp=1;const l=t2();function c(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}return c.prototype.initialize=function(d){this.degree=d,this.genPoly=l.generateECPolynomial(this.degree)},c.prototype.encode=function(d){if(!this.genPoly)throw new Error("Encoder not initialized");const u=new Uint8Array(d.length+this.degree);u.set(d);const f=l.mod(u,this.genPoly),h=this.degree-f.length;if(h>0){const g=new Uint8Array(this.degree);return g.set(f,h),g}return f},Od=c,Od}var Ud={},Id={},Hd={},Xp;function Hg(){return Xp||(Xp=1,Hd.isValid=function(c){return!isNaN(c)&&c>=1&&c<=40}),Hd}var Ba={},Qp;function qg(){if(Qp)return Ba;Qp=1;const l="[0-9]+",c="[A-Z $%*+\\-./:]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const d="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+`)(?:.|[\r
]))+`;Ba.KANJI=new RegExp(o,"g"),Ba.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ba.BYTE=new RegExp(d,"g"),Ba.NUMERIC=new RegExp(l,"g"),Ba.ALPHANUMERIC=new RegExp(c,"g");const u=new RegExp("^"+o+"$"),f=new RegExp("^"+l+"$"),h=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Ba.testKanji=function(p){return u.test(p)},Ba.testNumeric=function(p){return f.test(p)},Ba.testAlphanumeric=function(p){return h.test(p)},Ba}var Zp;function mn(){return Zp||(Zp=1,(function(l){const c=Hg(),o=qg();l.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},l.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},l.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},l.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},l.MIXED={bit:-1},l.getCharCountIndicator=function(f,h){if(!f.ccBits)throw new Error("Invalid mode: "+f);if(!c.isValid(h))throw new Error("Invalid version: "+h);return h>=1&&h<10?f.ccBits[0]:h<27?f.ccBits[1]:f.ccBits[2]},l.getBestModeForData=function(f){return o.testNumeric(f)?l.NUMERIC:o.testAlphanumeric(f)?l.ALPHANUMERIC:o.testKanji(f)?l.KANJI:l.BYTE},l.toString=function(f){if(f&&f.id)return f.id;throw new Error("Invalid mode")},l.isValid=function(f){return f&&f.bit&&f.ccBits};function d(u){if(typeof u!="string")throw new Error("Param is not a string");switch(u.toLowerCase()){case"numeric":return l.NUMERIC;case"alphanumeric":return l.ALPHANUMERIC;case"kanji":return l.KANJI;case"byte":return l.BYTE;default:throw new Error("Unknown mode: "+u)}}l.from=function(f,h){if(l.isValid(f))return f;try{return d(f)}catch{return h}}})(Id)),Id}var Fp;function s2(){return Fp||(Fp=1,(function(l){const c=fn(),o=Ig(),d=_u(),u=mn(),f=Hg(),h=7973,g=c.getBCHDigit(h);function p(D,V,w){for(let H=1;H<=40;H++)if(V<=l.getCapacity(H,w,D))return H}function v(D,V){return u.getCharCountIndicator(D,V)+4}function S(D,V){let w=0;return D.forEach(function(H){const M=v(H.mode,V);w+=M+H.getBitsLength()}),w}function C(D,V){for(let w=1;w<=40;w++)if(S(D,w)<=l.getCapacity(w,V,u.MIXED))return w}l.from=function(V,w){return f.isValid(V)?parseInt(V,10):w},l.getCapacity=function(V,w,H){if(!f.isValid(V))throw new Error("Invalid QR Code version");typeof H>"u"&&(H=u.BYTE);const M=c.getSymbolTotalCodewords(V),N=o.getTotalCodewordsCount(V,w),b=(M-N)*8;if(H===u.MIXED)return b;const E=b-v(H,V);switch(H){case u.NUMERIC:return Math.floor(E/10*3);case u.ALPHANUMERIC:return Math.floor(E/11*2);case u.KANJI:return Math.floor(E/13);case u.BYTE:default:return Math.floor(E/8)}},l.getBestVersionForData=function(V,w){let H;const M=d.from(w,d.M);if(Array.isArray(V)){if(V.length>1)return C(V,M);if(V.length===0)return 1;H=V[0]}else H=V;return p(H.mode,H.getLength(),M)},l.getEncodedBits=function(V){if(!f.isValid(V)||V<7)throw new Error("Invalid QR Code version");let w=V<<12;for(;c.getBCHDigit(w)-g>=0;)w^=h<<c.getBCHDigit(w)-g;return V<<12|w}})(Ud)),Ud}var qd={},Kp;function n2(){if(Kp)return qd;Kp=1;const l=fn(),c=1335,o=21522,d=l.getBCHDigit(c);return qd.getEncodedBits=function(f,h){const g=f.bit<<3|h;let p=g<<10;for(;l.getBCHDigit(p)-d>=0;)p^=c<<l.getBCHDigit(p)-d;return(g<<10|p)^o},qd}var Vd={},Gd,Jp;function i2(){if(Jp)return Gd;Jp=1;const l=mn();function c(o){this.mode=l.NUMERIC,this.data=o.toString()}return c.getBitsLength=function(d){return 10*Math.floor(d/3)+(d%3?d%3*3+1:0)},c.prototype.getLength=function(){return this.data.length},c.prototype.getBitsLength=function(){return c.getBitsLength(this.data.length)},c.prototype.write=function(d){let u,f,h;for(u=0;u+3<=this.data.length;u+=3)f=this.data.substr(u,3),h=parseInt(f,10),d.put(h,10);const g=this.data.length-u;g>0&&(f=this.data.substr(u),h=parseInt(f,10),d.put(h,g*3+1))},Gd=c,Gd}var $d,Wp;function l2(){if(Wp)return $d;Wp=1;const l=mn(),c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(d){this.mode=l.ALPHANUMERIC,this.data=d}return o.getBitsLength=function(u){return 11*Math.floor(u/2)+6*(u%2)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(u){let f;for(f=0;f+2<=this.data.length;f+=2){let h=c.indexOf(this.data[f])*45;h+=c.indexOf(this.data[f+1]),u.put(h,11)}this.data.length%2&&u.put(c.indexOf(this.data[f]),6)},$d=o,$d}var Yd,eg;function r2(){if(eg)return Yd;eg=1;const l=mn();function c(o){this.mode=l.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}return c.getBitsLength=function(d){return d*8},c.prototype.getLength=function(){return this.data.length},c.prototype.getBitsLength=function(){return c.getBitsLength(this.data.length)},c.prototype.write=function(o){for(let d=0,u=this.data.length;d<u;d++)o.put(this.data[d],8)},Yd=c,Yd}var Pd,tg;function c2(){if(tg)return Pd;tg=1;const l=mn(),c=fn();function o(d){this.mode=l.KANJI,this.data=d}return o.getBitsLength=function(u){return u*13},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(d){let u;for(u=0;u<this.data.length;u++){let f=c.toSJIS(this.data[u]);if(f>=33088&&f<=40956)f-=33088;else if(f>=57408&&f<=60351)f-=49472;else throw new Error("Invalid SJIS character: "+this.data[u]+`
Make sure your charset is UTF-8`);f=(f>>>8&255)*192+(f&255),d.put(f,13)}},Pd=o,Pd}var Xd={exports:{}},ag;function o2(){return ag||(ag=1,(function(l){var c={single_source_shortest_paths:function(o,d,u){var f={},h={};h[d]=0;var g=c.PriorityQueue.make();g.push(d,0);for(var p,v,S,C,D,V,w,H,M;!g.empty();){p=g.pop(),v=p.value,C=p.cost,D=o[v]||{};for(S in D)D.hasOwnProperty(S)&&(V=D[S],w=C+V,H=h[S],M=typeof h[S]>"u",(M||H>w)&&(h[S]=w,g.push(S,w),f[S]=v))}if(typeof u<"u"&&typeof h[u]>"u"){var N=["Could not find a path from ",d," to ",u,"."].join("");throw new Error(N)}return f},extract_shortest_path_from_predecessor_list:function(o,d){for(var u=[],f=d;f;)u.push(f),o[f],f=o[f];return u.reverse(),u},find_path:function(o,d,u){var f=c.single_source_shortest_paths(o,d,u);return c.extract_shortest_path_from_predecessor_list(f,u)},PriorityQueue:{make:function(o){var d=c.PriorityQueue,u={},f;o=o||{};for(f in d)d.hasOwnProperty(f)&&(u[f]=d[f]);return u.queue=[],u.sorter=o.sorter||d.default_sorter,u},default_sorter:function(o,d){return o.cost-d.cost},push:function(o,d){var u={value:o,cost:d};this.queue.push(u),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};l.exports=c})(Xd)),Xd.exports}var sg;function d2(){return sg||(sg=1,(function(l){const c=mn(),o=i2(),d=l2(),u=r2(),f=c2(),h=qg(),g=fn(),p=o2();function v(N){return unescape(encodeURIComponent(N)).length}function S(N,b,E){const x=[];let I;for(;(I=N.exec(E))!==null;)x.push({data:I[0],index:I.index,mode:b,length:I[0].length});return x}function C(N){const b=S(h.NUMERIC,c.NUMERIC,N),E=S(h.ALPHANUMERIC,c.ALPHANUMERIC,N);let x,I;return g.isKanjiModeEnabled()?(x=S(h.BYTE,c.BYTE,N),I=S(h.KANJI,c.KANJI,N)):(x=S(h.BYTE_KANJI,c.BYTE,N),I=[]),b.concat(E,x,I).sort(function(R,Y){return R.index-Y.index}).map(function(R){return{data:R.data,mode:R.mode,length:R.length}})}function D(N,b){switch(b){case c.NUMERIC:return o.getBitsLength(N);case c.ALPHANUMERIC:return d.getBitsLength(N);case c.KANJI:return f.getBitsLength(N);case c.BYTE:return u.getBitsLength(N)}}function V(N){return N.reduce(function(b,E){const x=b.length-1>=0?b[b.length-1]:null;return x&&x.mode===E.mode?(b[b.length-1].data+=E.data,b):(b.push(E),b)},[])}function w(N){const b=[];for(let E=0;E<N.length;E++){const x=N[E];switch(x.mode){case c.NUMERIC:b.push([x,{data:x.data,mode:c.ALPHANUMERIC,length:x.length},{data:x.data,mode:c.BYTE,length:x.length}]);break;case c.ALPHANUMERIC:b.push([x,{data:x.data,mode:c.BYTE,length:x.length}]);break;case c.KANJI:b.push([x,{data:x.data,mode:c.BYTE,length:v(x.data)}]);break;case c.BYTE:b.push([{data:x.data,mode:c.BYTE,length:v(x.data)}])}}return b}function H(N,b){const E={},x={start:{}};let I=["start"];for(let k=0;k<N.length;k++){const R=N[k],Y=[];for(let L=0;L<R.length;L++){const U=R[L],se=""+k+L;Y.push(se),E[se]={node:U,lastCount:0},x[se]={};for(let W=0;W<I.length;W++){const y=I[W];E[y]&&E[y].node.mode===U.mode?(x[y][se]=D(E[y].lastCount+U.length,U.mode)-D(E[y].lastCount,U.mode),E[y].lastCount+=U.length):(E[y]&&(E[y].lastCount=U.length),x[y][se]=D(U.length,U.mode)+4+c.getCharCountIndicator(U.mode,b))}}I=Y}for(let k=0;k<I.length;k++)x[I[k]].end=0;return{map:x,table:E}}function M(N,b){let E;const x=c.getBestModeForData(N);if(E=c.from(b,x),E!==c.BYTE&&E.bit<x.bit)throw new Error('"'+N+'" cannot be encoded with mode '+c.toString(E)+`.
 Suggested mode is: `+c.toString(x));switch(E===c.KANJI&&!g.isKanjiModeEnabled()&&(E=c.BYTE),E){case c.NUMERIC:return new o(N);case c.ALPHANUMERIC:return new d(N);case c.KANJI:return new f(N);case c.BYTE:return new u(N)}}l.fromArray=function(b){return b.reduce(function(E,x){return typeof x=="string"?E.push(M(x,null)):x.data&&E.push(M(x.data,x.mode)),E},[])},l.fromString=function(b,E){const x=C(b,g.isKanjiModeEnabled()),I=w(x),k=H(I,E),R=p.find_path(k.map,"start","end"),Y=[];for(let L=1;L<R.length-1;L++)Y.push(k.table[R[L]].node);return l.fromArray(V(Y))},l.rawSplit=function(b){return l.fromArray(C(b,g.isKanjiModeEnabled()))}})(Vd)),Vd}var ng;function u2(){if(ng)return Ad;ng=1;const l=fn(),c=_u(),o=ZS(),d=FS(),u=KS(),f=JS(),h=WS(),g=Ig(),p=a2(),v=s2(),S=n2(),C=mn(),D=d2();function V(k,R){const Y=k.size,L=f.getPositions(R);for(let U=0;U<L.length;U++){const se=L[U][0],W=L[U][1];for(let y=-1;y<=7;y++)if(!(se+y<=-1||Y<=se+y))for(let q=-1;q<=7;q++)W+q<=-1||Y<=W+q||(y>=0&&y<=6&&(q===0||q===6)||q>=0&&q<=6&&(y===0||y===6)||y>=2&&y<=4&&q>=2&&q<=4?k.set(se+y,W+q,!0,!0):k.set(se+y,W+q,!1,!0))}}function w(k){const R=k.size;for(let Y=8;Y<R-8;Y++){const L=Y%2===0;k.set(Y,6,L,!0),k.set(6,Y,L,!0)}}function H(k,R){const Y=u.getPositions(R);for(let L=0;L<Y.length;L++){const U=Y[L][0],se=Y[L][1];for(let W=-2;W<=2;W++)for(let y=-2;y<=2;y++)W===-2||W===2||y===-2||y===2||W===0&&y===0?k.set(U+W,se+y,!0,!0):k.set(U+W,se+y,!1,!0)}}function M(k,R){const Y=k.size,L=v.getEncodedBits(R);let U,se,W;for(let y=0;y<18;y++)U=Math.floor(y/3),se=y%3+Y-8-3,W=(L>>y&1)===1,k.set(U,se,W,!0),k.set(se,U,W,!0)}function N(k,R,Y){const L=k.size,U=S.getEncodedBits(R,Y);let se,W;for(se=0;se<15;se++)W=(U>>se&1)===1,se<6?k.set(se,8,W,!0):se<8?k.set(se+1,8,W,!0):k.set(L-15+se,8,W,!0),se<8?k.set(8,L-se-1,W,!0):se<9?k.set(8,15-se-1+1,W,!0):k.set(8,15-se-1,W,!0);k.set(L-8,8,1,!0)}function b(k,R){const Y=k.size;let L=-1,U=Y-1,se=7,W=0;for(let y=Y-1;y>0;y-=2)for(y===6&&y--;;){for(let q=0;q<2;q++)if(!k.isReserved(U,y-q)){let le=!1;W<R.length&&(le=(R[W]>>>se&1)===1),k.set(U,y-q,le),se--,se===-1&&(W++,se=7)}if(U+=L,U<0||Y<=U){U-=L,L=-L;break}}}function E(k,R,Y){const L=new o;Y.forEach(function(q){L.put(q.mode.bit,4),L.put(q.getLength(),C.getCharCountIndicator(q.mode,k)),q.write(L)});const U=l.getSymbolTotalCodewords(k),se=g.getTotalCodewordsCount(k,R),W=(U-se)*8;for(L.getLengthInBits()+4<=W&&L.put(0,4);L.getLengthInBits()%8!==0;)L.putBit(0);const y=(W-L.getLengthInBits())/8;for(let q=0;q<y;q++)L.put(q%2?17:236,8);return x(L,k,R)}function x(k,R,Y){const L=l.getSymbolTotalCodewords(R),U=g.getTotalCodewordsCount(R,Y),se=L-U,W=g.getBlocksCount(R,Y),y=L%W,q=W-y,le=Math.floor(L/W),z=Math.floor(se/W),A=z+1,ee=le-z,te=new p(ee);let ce=0;const De=new Array(W),Se=new Array(W);let xe=0;const Me=new Uint8Array(k.buffer);for(let ot=0;ot<W;ot++){const bt=ot<q?z:A;De[ot]=Me.slice(ce,ce+bt),Se[ot]=te.encode(De[ot]),ce+=bt,xe=Math.max(xe,bt)}const Q=new Uint8Array(L);let ie=0,Re,ve;for(Re=0;Re<xe;Re++)for(ve=0;ve<W;ve++)Re<De[ve].length&&(Q[ie++]=De[ve][Re]);for(Re=0;Re<ee;Re++)for(ve=0;ve<W;ve++)Q[ie++]=Se[ve][Re];return Q}function I(k,R,Y,L){let U;if(Array.isArray(k))U=D.fromArray(k);else if(typeof k=="string"){let le=R;if(!le){const z=D.rawSplit(k);le=v.getBestVersionForData(z,Y)}U=D.fromString(k,le||40)}else throw new Error("Invalid data");const se=v.getBestVersionForData(U,Y);if(!se)throw new Error("The amount of data is too big to be stored in a QR Code");if(!R)R=se;else if(R<se)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+se+`.
`);const W=E(R,Y,U),y=l.getSymbolSize(R),q=new d(y);return V(q,R),w(q),H(q,R),N(q,Y,0),R>=7&&M(q,R),b(q,W),isNaN(L)&&(L=h.getBestMask(q,N.bind(null,q,Y))),h.applyMask(L,q),N(q,Y,L),{modules:q,version:R,errorCorrectionLevel:Y,maskPattern:L,segments:U}}return Ad.create=function(R,Y){if(typeof R>"u"||R==="")throw new Error("No input text");let L=c.M,U,se;return typeof Y<"u"&&(L=c.from(Y.errorCorrectionLevel,c.M),U=v.from(Y.version),se=h.from(Y.maskPattern),Y.toSJISFunc&&l.setToSJISFunction(Y.toSJISFunc)),I(R,U,L,se)},Ad}var Qd={},Zd={},ig;function Vg(){return ig||(ig=1,(function(l){function c(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let d=o.slice().replace("#","").split("");if(d.length<3||d.length===5||d.length>8)throw new Error("Invalid hex color: "+o);(d.length===3||d.length===4)&&(d=Array.prototype.concat.apply([],d.map(function(f){return[f,f]}))),d.length===6&&d.push("F","F");const u=parseInt(d.join(""),16);return{r:u>>24&255,g:u>>16&255,b:u>>8&255,a:u&255,hex:"#"+d.slice(0,6).join("")}}l.getOptions=function(d){d||(d={}),d.color||(d.color={});const u=typeof d.margin>"u"||d.margin===null||d.margin<0?4:d.margin,f=d.width&&d.width>=21?d.width:void 0,h=d.scale||4;return{width:f,scale:f?4:h,margin:u,color:{dark:c(d.color.dark||"#000000ff"),light:c(d.color.light||"#ffffffff")},type:d.type,rendererOpts:d.rendererOpts||{}}},l.getScale=function(d,u){return u.width&&u.width>=d+u.margin*2?u.width/(d+u.margin*2):u.scale},l.getImageWidth=function(d,u){const f=l.getScale(d,u);return Math.floor((d+u.margin*2)*f)},l.qrToImageData=function(d,u,f){const h=u.modules.size,g=u.modules.data,p=l.getScale(h,f),v=Math.floor((h+f.margin*2)*p),S=f.margin*p,C=[f.color.light,f.color.dark];for(let D=0;D<v;D++)for(let V=0;V<v;V++){let w=(D*v+V)*4,H=f.color.light;if(D>=S&&V>=S&&D<v-S&&V<v-S){const M=Math.floor((D-S)/p),N=Math.floor((V-S)/p);H=C[g[M*h+N]?1:0]}d[w++]=H.r,d[w++]=H.g,d[w++]=H.b,d[w]=H.a}}})(Zd)),Zd}var lg;function f2(){return lg||(lg=1,(function(l){const c=Vg();function o(u,f,h){u.clearRect(0,0,f.width,f.height),f.style||(f.style={}),f.height=h,f.width=h,f.style.height=h+"px",f.style.width=h+"px"}function d(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}l.render=function(f,h,g){let p=g,v=h;typeof p>"u"&&(!h||!h.getContext)&&(p=h,h=void 0),h||(v=d()),p=c.getOptions(p);const S=c.getImageWidth(f.modules.size,p),C=v.getContext("2d"),D=C.createImageData(S,S);return c.qrToImageData(D.data,f,p),o(C,v,S),C.putImageData(D,0,0),v},l.renderToDataURL=function(f,h,g){let p=g;typeof p>"u"&&(!h||!h.getContext)&&(p=h,h=void 0),p||(p={});const v=l.render(f,h,p),S=p.type||"image/png",C=p.rendererOpts||{};return v.toDataURL(S,C.quality)}})(Qd)),Qd}var Fd={},rg;function m2(){if(rg)return Fd;rg=1;const l=Vg();function c(u,f){const h=u.a/255,g=f+'="'+u.hex+'"';return h<1?g+" "+f+'-opacity="'+h.toFixed(2).slice(1)+'"':g}function o(u,f,h){let g=u+f;return typeof h<"u"&&(g+=" "+h),g}function d(u,f,h){let g="",p=0,v=!1,S=0;for(let C=0;C<u.length;C++){const D=Math.floor(C%f),V=Math.floor(C/f);!D&&!v&&(v=!0),u[C]?(S++,C>0&&D>0&&u[C-1]||(g+=v?o("M",D+h,.5+V+h):o("m",p,0),p=0,v=!1),D+1<f&&u[C+1]||(g+=o("h",S),S=0)):p++}return g}return Fd.render=function(f,h,g){const p=l.getOptions(h),v=f.modules.size,S=f.modules.data,C=v+p.margin*2,D=p.color.light.a?"<path "+c(p.color.light,"fill")+' d="M0 0h'+C+"v"+C+'H0z"/>':"",V="<path "+c(p.color.dark,"stroke")+' d="'+d(S,v,p.margin)+'"/>',w='viewBox="0 0 '+C+" "+C+'"',M='<svg xmlns="http://www.w3.org/2000/svg" '+(p.width?'width="'+p.width+'" height="'+p.width+'" ':"")+w+' shape-rendering="crispEdges">'+D+V+`</svg>
`;return typeof g=="function"&&g(null,M),M},Fd}var cg;function h2(){if(cg)return Wn;cg=1;const l=QS(),c=u2(),o=f2(),d=m2();function u(f,h,g,p,v){const S=[].slice.call(arguments,1),C=S.length,D=typeof S[C-1]=="function";if(!D&&!l())throw new Error("Callback required as last argument");if(D){if(C<2)throw new Error("Too few arguments provided");C===2?(v=g,g=h,h=p=void 0):C===3&&(h.getContext&&typeof v>"u"?(v=p,p=void 0):(v=p,p=g,g=h,h=void 0))}else{if(C<1)throw new Error("Too few arguments provided");return C===1?(g=h,h=p=void 0):C===2&&!h.getContext&&(p=g,g=h,h=void 0),new Promise(function(V,w){try{const H=c.create(g,p);V(f(H,h,p))}catch(H){w(H)}})}try{const V=c.create(g,p);v(null,f(V,h,p))}catch(V){v(V)}}return Wn.create=c.create,Wn.toCanvas=u.bind(null,o.render),Wn.toDataURL=u.bind(null,o.renderToDataURL),Wn.toString=u.bind(null,function(f,h,g){return d.render(f,g)}),Wn}var p2=h2();const g2=tc(p2),y2=()=>{const[l,c]=j.useState(!1),[o,d]=j.useState(!1),[u,f]=j.useState(""),[h,g]=j.useState(""),[p,v]=j.useState(null),[S,C]=j.useState(null),[D,V]=j.useState(!0);j.useEffect(()=>{w()},[]);const w=async()=>{try{V(!0);const{data:E,error:x}=await K.auth.mfa.listFactors();if(x)throw x;const I=E.all.find(k=>k.factor_type==="totp"&&k.status==="verified");I?(c(!0),v(I.id)):(c(!1),v(null))}catch(E){console.error("Error checking 2FA status:",E),C(E.message)}finally{V(!1)}};return{isEnabled:l,isEnrolling:o,isLoading:D,qrCodeUrl:u,secret:h,error:S,startEnrollment:async()=>{try{C(null);const{data:E,error:x}=await K.auth.mfa.enroll({factorType:"totp"});if(x)throw x;v(E.id),g(E.totp.secret);const I=await g2.toDataURL(E.totp.uri);f(I),d(!0)}catch(E){console.error("Error starting enrollment:",E),C(E.message)}},verifyAndEnable:async E=>{try{C(null);const x=await K.auth.mfa.challenge({factorId:p});if(x.error)throw x.error;const I=await K.auth.mfa.verify({factorId:p,challengeId:x.data.id,code:E});if(I.error)throw I.error;return c(!0),d(!1),f(""),g(""),!0}catch(x){return console.error("Error verifying code:",x),C(x.message),!1}},disableTwoFactor:async()=>{try{if(C(null),p){const{error:E}=await K.auth.mfa.unenroll({factorId:p});if(E)throw E}else{const{data:E}=await K.auth.mfa.listFactors(),x=E.all.find(k=>k.factor_type==="totp");if(!x)throw new Error("No active 2FA found");const{error:I}=await K.auth.mfa.unenroll({factorId:x.id});if(I)throw I}return c(!1),v(null),!0}catch(E){return console.error("Error disabling 2FA:",E),C(E.message),!1}},cancelEnrollment:async()=>{p&&o&&await K.auth.mfa.unenroll({factorId:p}),d(!1),f(""),g(""),v(null)}}},_2="_overlay_kjoru_1",v2="_modal_kjoru_13",x2="_header_kjoru_23",j2="_title_kjoru_31",b2="_closeButton_kjoru_41",S2="_content_kjoru_60",w2="_previewContainer_kjoru_64",N2="_progressCard_kjoru_69",C2="_cardHeader_kjoru_76",T2="_cardLogo_kjoru_83",D2="_cardDate_kjoru_89",A2="_cardStats_kjoru_94",E2="_cardStatItem_kjoru_101",k2="_cardStatIcon_kjoru_108",B2="_cardStatValue_kjoru_115",z2="_cardStatLabel_kjoru_123",L2="_cardFooter_kjoru_130",M2="_topPeptide_kjoru_138",R2="_watermark_kjoru_144",O2="_actions_kjoru_150",U2="_generateButton_kjoru_155",I2="_actionButton_kjoru_178",Xe={overlay:_2,modal:v2,header:x2,title:j2,closeButton:b2,content:S2,previewContainer:w2,progressCard:N2,cardHeader:C2,cardLogo:T2,cardDate:D2,cardStats:A2,cardStatItem:E2,cardStatIcon:k2,cardStatValue:B2,cardStatLabel:z2,cardFooter:L2,topPeptide:M2,watermark:R2,actions:O2,generateButton:U2,actionButton:I2},H2=({onClose:l})=>{const{injections:c}=Sl(),[o,d]=j.useState(!1),[u,f]=j.useState(!1),[h,g]=j.useState(null),p=j.useRef(null),v=c.filter(b=>new Date(b.injection_date||b.date)>=ln(new Date,30)),S={total:v.length,streak:C(c),topPeptide:D(v),compliance:V(v)};function C(b){if(b.length===0)return 0;let E=0,x=new Date;x.setHours(0,0,0,0);for(let I=0;I<365;I++){const k=Nt(x,"yyyy-MM-dd");if(b.some(Y=>Nt(new Date(Y.injection_date||Y.date),"yyyy-MM-dd")===k))E++,x=ln(x,1);else if(I===0)x=ln(x,1);else break}return E}function D(b){const E={};b.forEach(I=>{const k=I.peptide_name||I.peptide;E[k]=(E[k]||0)+1});const x=Object.entries(E).sort((I,k)=>k[1]-I[1]);return x[0]?x[0][0]:"None"}function V(b){const E=new Set(b.map(x=>Nt(new Date(x.injection_date||x.date),"yyyy-MM-dd")));return Math.min(100,Math.round(E.size/30*100))}const w=async()=>{if(p.current){d(!0);try{const E=(await wg(p.current,{backgroundColor:"#0a0e1a",scale:2,logging:!1,useCORS:!0})).toDataURL("image/png");g(E)}catch(b){console.error("Error generating image:",b)}finally{d(!1)}}},H=()=>{if(!h)return;const b=document.createElement("a");b.download=`peptide-progress-${Nt(new Date,"yyyy-MM-dd")}.png`,b.href=h,b.click()},M=async()=>{if(h)try{const E=await(await fetch(h)).blob();await navigator.clipboard.write([new ClipboardItem({"image/png":E})]),f(!0),setTimeout(()=>f(!1),2e3)}catch(b){console.error("Error copying to clipboard:",b)}},N=async()=>{if(!(!h||!navigator.share))try{const E=await(await fetch(h)).blob(),x=new File([E],"peptide-progress.png",{type:"image/png"});await navigator.share({title:"My Peptide Progress",text:"Check out my peptide tracking progress!",files:[x]})}catch(b){console.error("Error sharing:",b)}};return a.jsx("div",{className:Xe.overlay,children:a.jsxs("div",{className:Xe.modal,children:[a.jsxs("div",{className:Xe.header,children:[a.jsxs("h2",{className:Xe.title,children:[a.jsx(_l,{size:20}),"Share Progress"]}),a.jsx("button",{className:Xe.closeButton,onClick:l,children:a.jsx(Rs,{size:20})})]}),a.jsxs("div",{className:Xe.content,children:[a.jsx("div",{className:Xe.previewContainer,children:a.jsxs("div",{ref:p,className:Xe.progressCard,children:[a.jsxs("div",{className:Xe.cardHeader,children:[a.jsx("div",{className:Xe.cardLogo,children:" Peptide Tracker"}),a.jsx("div",{className:Xe.cardDate,children:Nt(new Date,"MMMM yyyy")})]}),a.jsxs("div",{className:Xe.cardStats,children:[a.jsxs("div",{className:Xe.cardStatItem,children:[a.jsx("div",{className:Xe.cardStatIcon,children:a.jsx(gl,{size:24})}),a.jsx("div",{className:Xe.cardStatValue,children:S.total}),a.jsx("div",{className:Xe.cardStatLabel,children:"Injections (30d)"})]}),a.jsxs("div",{className:Xe.cardStatItem,children:[a.jsx("div",{className:Xe.cardStatIcon,children:a.jsx(cn,{size:24})}),a.jsx("div",{className:Xe.cardStatValue,children:S.streak}),a.jsx("div",{className:Xe.cardStatLabel,children:"Day Streak"})]}),a.jsxs("div",{className:Xe.cardStatItem,children:[a.jsx("div",{className:Xe.cardStatIcon,children:a.jsx(Mt,{size:24})}),a.jsxs("div",{className:Xe.cardStatValue,children:[S.compliance,"%"]}),a.jsx("div",{className:Xe.cardStatLabel,children:"Compliance"})]})]}),a.jsxs("div",{className:Xe.cardFooter,children:[a.jsxs("span",{className:Xe.topPeptide,children:["Top: ",S.topPeptide]}),a.jsx("span",{className:Xe.watermark,children:"peptidetracker.app"})]})]})}),a.jsx("div",{className:Xe.actions,children:h?a.jsxs(a.Fragment,{children:[a.jsxs("button",{className:Xe.actionButton,onClick:H,children:[a.jsx(xl,{size:18}),"Download"]}),a.jsxs("button",{className:Xe.actionButton,onClick:M,children:[u?a.jsx(ai,{size:18}):a.jsx(Dg,{size:18}),u?"Copied!":"Copy"]}),navigator.share&&a.jsxs("button",{className:Xe.actionButton,onClick:N,children:[a.jsx(_l,{size:18}),"Share"]})]}):a.jsx("button",{className:Xe.generateButton,onClick:w,disabled:o,children:o?"Generating...":"Generate Image"})})]})]})})},As={async exportUserData(l){try{const[c,o,d,u,f]=await Promise.all([K.from("profiles").select("*").eq("id",l).single(),K.from("injections").select("*").eq("user_id",l).order("date",{ascending:!1}),K.from("schedules").select("*").eq("user_id",l),K.from("inventory").select("*").eq("user_id",l),K.from("reviews").select("*").eq("user_id",l)]);return{success:!0,data:{exportDate:new Date().toISOString(),exportVersion:"1.0",user:{profile:c.data,statistics:{totalInjections:o.data?.length||0,totalSchedules:d.data?.length||0,totalInventoryItems:u.data?.length||0,totalReviews:f.data?.length||0}},data:{injections:o.data||[],schedules:d.data||[],inventory:u.data||[],reviews:f.data||[]}},filename:`peptide-tracker-export-${new Date().toISOString().split("T")[0]}.json`}}catch(c){return console.error("[Backup Service] Export failed:",c),{success:!1,error:c.message}}},async exportAsCSV(l){try{const[c,o,d]=await Promise.all([K.from("injections").select("*").eq("user_id",l).order("date",{ascending:!1}),K.from("schedules").select("*").eq("user_id",l),K.from("inventory").select("*").eq("user_id",l)]),u={};return c.data?.length&&(u.injections=this._arrayToCSV(c.data,["date","peptide_name","dose_amount","dose_unit","injection_site","notes"])),o.data?.length&&(u.schedules=this._arrayToCSV(o.data,["peptide_name","dose_amount","dose_unit","frequency","time","notes"])),d.data?.length&&(u.inventory=this._arrayToCSV(d.data,["peptide_name","quantity","vial_size","expiration_date","notes"])),{success:!0,files:u}}catch(c){return console.error("[Backup Service] CSV export failed:",c),{success:!1,error:c.message}}},_arrayToCSV(l,c){if(!l||!l.length)return"";const o=c.join(","),d=l.map(u=>c.map(f=>{const h=u[f];return h==null?"":typeof h=="string"&&(h.includes(",")||h.includes('"'))?`"${h.replace(/"/g,'""')}"`:h}).join(","));return[o,...d].join(`
`)},downloadJSON(l,c){const o=new Blob([JSON.stringify(l,null,2)],{type:"application/json"});this._triggerDownload(o,c)},downloadCSV(l,c){const o=new Blob([l],{type:"text/csv;charset=utf-8;"});this._triggerDownload(o,c)},_triggerDownload(l,c){const o=URL.createObjectURL(l),d=document.createElement("a");d.href=o,d.download=c,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(o)},async importUserData(l,c){try{const o=typeof c=="string"?JSON.parse(c):c;if(!o.exportVersion||!o.data)throw new Error("Invalid backup file format");const d={injections:0,schedules:0,errors:[]};if(o.data.injections?.length)for(const u of o.data.injections){const{error:f}=await K.from("injections").insert({user_id:l,peptide_name:u.peptide_name,date:u.date,dose_amount:u.dose_amount,dose_unit:u.dose_unit,injection_site:u.injection_site,notes:u.notes});f?d.errors.push(`Injection: ${f.message}`):d.injections++}if(o.data.schedules?.length)for(const u of o.data.schedules){const{error:f}=await K.from("schedules").insert({user_id:l,peptide_name:u.peptide_name,dose_amount:u.dose_amount,dose_unit:u.dose_unit,frequency:u.frequency,time:u.time,notes:u.notes});f?d.errors.push(`Schedule: ${f.message}`):d.schedules++}return{success:!0,imported:d,message:`Imported ${d.injections} injections and ${d.schedules} schedules`}}catch(o){return console.error("[Backup Service] Import failed:",o),{success:!1,error:o.message}}},async deleteAllUserData(l){try{return await Promise.all([K.from("reviews").delete().eq("user_id",l),K.from("injections").delete().eq("user_id",l),K.from("schedules").delete().eq("user_id",l),K.from("inventory").delete().eq("user_id",l),K.from("ticket_messages").delete().match({user_id:l}),K.from("support_tickets").delete().eq("user_id",l)]),{success:!0,message:"All user data has been deleted"}}catch(c){return console.error("[Backup Service] Delete failed:",c),{success:!1,error:c.message}}},getBackupInfo(){return{provider:"Supabase",features:["Automatic daily database backups","Encrypted at rest and in transit","Point-in-time recovery available","Geo-redundant storage"],userExportFormats:["JSON","CSV"],gdprCompliant:!0,documentation:"https://supabase.com/docs/guides/platform/backups"}}},q2="_container_if0li_1",V2="_infoCard_if0li_8",G2="_infoHeader_if0li_15",$2="_featureList_if0li_34",Y2="_message_if0li_57",P2="_success_if0li_66",X2="_error_if0li_72",Q2="_section_if0li_79",Z2="_exportButtons_if0li_102",F2="_exportBtn_if0li_108",K2="_importLabel_if0li_132",J2="_dangerZone_if0li_155",W2="_deleteBtn_if0li_177",ew="_deleteConfirm_if0li_192",tw="_confirmButtons_if0li_213",aw="_cancelBtn_if0li_218",sw="_confirmDeleteBtn_if0li_227",nw="_spin_if0li_242",ct={container:q2,infoCard:V2,infoHeader:G2,featureList:$2,message:Y2,success:P2,error:X2,section:Q2,exportButtons:Z2,exportBtn:F2,importLabel:K2,dangerZone:J2,deleteBtn:W2,deleteConfirm:ew,confirmButtons:tw,cancelBtn:aw,confirmDeleteBtn:sw,spin:nw},iw=()=>{const{user:l}=Ct(),[c,o]=j.useState(!1),[d,u]=j.useState(null),[f,h]=j.useState(!1),[g,p]=j.useState(""),v=async()=>{if(l){o(!0),u(null);try{const w=await As.exportUserData(l.id);if(w.success)As.downloadJSON(w.data,w.filename),u({type:"success",text:"Data exported successfully!"});else throw new Error(w.error)}catch(w){u({type:"error",text:"Export failed: "+w.message})}finally{o(!1)}}},S=async()=>{if(l){o(!0),u(null);try{const w=await As.exportAsCSV(l.id);if(w.success)Object.entries(w.files).forEach(([H,M])=>{M&&As.downloadCSV(M,`peptide-tracker-${H}.csv`)}),u({type:"success",text:"CSV files exported successfully!"});else throw new Error(w.error)}catch(w){u({type:"error",text:"Export failed: "+w.message})}finally{o(!1)}}},C=async w=>{const H=w.target.files?.[0];if(!(!H||!l)){o(!0),u(null);try{const M=await H.text(),N=await As.importUserData(l.id,M);if(N.success)u({type:"success",text:N.message});else throw new Error(N.error)}catch(M){u({type:"error",text:"Import failed: "+M.message})}finally{o(!1),w.target.value=""}}},D=async()=>{if(!(!l||g!=="DELETE")){o(!0),u(null);try{const w=await As.deleteAllUserData(l.id);if(w.success)u({type:"success",text:w.message}),h(!1),p("");else throw new Error(w.error)}catch(w){u({type:"error",text:"Delete failed: "+w.message})}finally{o(!1)}}},V=As.getBackupInfo();return a.jsxs("div",{className:ct.container,children:[a.jsxs("div",{className:ct.infoCard,children:[a.jsxs("div",{className:ct.infoHeader,children:[a.jsx(Kt,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Your Data is Secure"}),a.jsxs("p",{children:["Backed by ",V.provider,"'s enterprise-grade infrastructure"]})]})]}),a.jsx("ul",{className:ct.featureList,children:V.features.map((w,H)=>a.jsxs("li",{children:[a.jsx(_t,{size:16}),w]},H))})]}),d&&a.jsxs("div",{className:`${ct.message} ${ct[d.type]}`,children:[d.type==="success"?a.jsx(_t,{size:18}):a.jsx(on,{size:18}),d.text]}),a.jsxs("div",{className:ct.section,children:[a.jsxs("h3",{children:[a.jsx(xl,{size:20})," Export Your Data"]}),a.jsx("p",{children:"Download a complete copy of all your data."}),a.jsxs("div",{className:ct.exportButtons,children:[a.jsxs("button",{onClick:v,disabled:c,className:ct.exportBtn,children:[c?a.jsx(rn,{size:18,className:ct.spin}):a.jsx(nx,{size:18}),"Export as JSON"]}),a.jsxs("button",{onClick:S,disabled:c,className:ct.exportBtn,children:[c?a.jsx(rn,{size:18,className:ct.spin}):a.jsx(oi,{size:18}),"Export as CSV"]}),a.jsxs("button",{onClick:async()=>{if(l){o(!0);try{const w=await As.exportUserData(l.id);if(w.success&&w.data.injections){const{exportService:H}=await Ge(async()=>{const{exportService:M}=await Promise.resolve().then(()=>YS);return{exportService:M}},void 0);H.toPDF(w.data.injections,{title:`Peptide Log Report - ${l.user_metadata?.full_name||"User"}`}),u({type:"success",text:"PDF Report downloaded!"})}else throw new Error("No data available for PDF")}catch(w){u({type:"error",text:"PDF Export failed: "+w.message})}finally{o(!1)}}},disabled:c,className:ct.exportBtn,children:[c?a.jsx(rn,{size:18,className:ct.spin}):a.jsx(oi,{size:18}),"Doctor's Report (PDF)"]})]})]}),a.jsxs("div",{className:ct.section,children:[a.jsxs("h3",{children:[a.jsx(jp,{size:20})," Import Data"]}),a.jsx("p",{children:"Restore from a previous JSON backup file."}),a.jsxs("label",{className:ct.importLabel,children:[a.jsx("input",{type:"file",accept:".json",onChange:C,disabled:c}),a.jsx(jp,{size:18}),"Choose JSON File"]})]}),a.jsxs("div",{className:ct.dangerZone,children:[a.jsxs("h3",{children:[a.jsx(Ft,{size:20})," Danger Zone"]}),a.jsx("p",{children:"Permanently delete all your tracking data. This cannot be undone."}),f?a.jsxs("div",{className:ct.deleteConfirm,children:[a.jsxs("p",{children:["Type ",a.jsx("strong",{children:"DELETE"})," to confirm:"]}),a.jsx("input",{type:"text",value:g,onChange:w=>p(w.target.value),placeholder:"Type DELETE"}),a.jsxs("div",{className:ct.confirmButtons,children:[a.jsx("button",{onClick:()=>{h(!1),p("")},className:ct.cancelBtn,children:"Cancel"}),a.jsx("button",{onClick:D,disabled:g!=="DELETE"||c,className:ct.confirmDeleteBtn,children:c?a.jsx(rn,{size:18,className:ct.spin}):"Permanently Delete"})]})]}):a.jsx("button",{onClick:()=>h(!0),className:ct.deleteBtn,children:"Delete All My Data"})]})]})},lw="_container_p86kk_1",rw="_header_p86kk_8",cw="_subtitle_p86kk_22",ow="_layout_p86kk_28",dw="_sidebar_p86kk_34",uw="_tabBtn_p86kk_40",fw="_active_p86kk_62",mw="_content_p86kk_69",hw="_section_p86kk_76",pw="_formGroup_p86kk_90",gw="_hint_p86kk_107",yw="_inputWithIcon_p86kk_114",_w="_disabledInput_p86kk_136",vw="_infoCard_p86kk_142",xw="_statusActive_p86kk_172",jw="_statusInactive_p86kk_178",bw="_secondaryBtn_p86kk_184",Sw="_dangerBtn_p86kk_205",ww="_divider_p86kk_223",Nw="_sessionCard_p86kk_229",Cw="_timestamp_p86kk_247",Tw="_toggleGroup_p86kk_253",Dw="_toggleItem_p86kk_259",Aw="_toggle_p86kk_253",Ew="_slider_p86kk_301",kw="_description_p86kk_335",Bw="_linkGroup_p86kk_341",zw="_link_p86kk_341",Lw="_dangerZone_p86kk_360",Mw="_dangerCard_p86kk_364",re={container:lw,header:rw,subtitle:cw,layout:ow,sidebar:dw,tabBtn:uw,active:fw,content:mw,section:hw,formGroup:pw,hint:gw,inputWithIcon:yw,disabledInput:_w,infoCard:vw,statusActive:xw,statusInactive:jw,secondaryBtn:bw,dangerBtn:Sw,divider:ww,sessionCard:Nw,timestamp:Cw,toggleGroup:Tw,toggleItem:Dw,toggle:Aw,slider:Ew,description:kw,linkGroup:Bw,link:zw,dangerZone:Lw,dangerCard:Mw},Rw=()=>{const{user:l,signOut:c}=Ct(),{theme:o,toggleTheme:d,setThemeMode:u}=Rg(),{t:f,i18n:h}=Iv(),{injections:g}=Sl(),{isEnabled:p,isEnrolling:v,isLoading:S,qrCodeUrl:C,secret:D,startEnrollment:V,verifyAndEnable:w,disableTwoFactor:H,cancelEnrollment:M,error:N}=y2(),[b,E]=j.useState(""),[x,I]=j.useState(!0),[k,R]=j.useState(!1),[Y,L]=j.useState(null),[U,se]=j.useState("profile"),[W,y]=j.useState({full_name:"",email:"",age:"",gender:"prefer-not-to-say",weight_goal:"weight-loss"}),[q,le]=j.useState(o==="dark"),[z,A]=j.useState(!1),[ee,te]=j.useState(!1),[ce,De]=j.useState({injectionReminders:!0,expirationAlerts:!0,weeklyReports:!0,priceAlerts:!1}),[Se,xe]=j.useState([]),[Me,Q]=j.useState(!1);j.useEffect(()=>{l&&(ve(),ie())},[l]);const ie=async()=>{if(l){Q(!0);try{const oe=await PS(l.id);xe(oe)}catch(oe){console.error("Error fetching reviews:",oe)}finally{Q(!1)}}},Re=async oe=>{if(!confirm("Are you sure you want to delete this review?"))return;await XS(oe)&&xe(Se.filter(qt=>qt.id!==oe))},ve=async()=>{try{I(!0);const{data:oe,error:$e}=await K.from("profiles").select("*").eq("id",l.id).single();if($e&&$e.code!=="PGRST116")throw $e;y(oe?{full_name:oe.full_name||"",email:l.email,age:oe.age||"",gender:oe.gender||"prefer-not-to-say",weight_goal:oe.weight_goal||"weight-loss"}:qt=>({...qt,email:l.email}))}catch(oe){console.error("Error fetching profile:",oe)}finally{I(!1)}},ot=async()=>{try{R(!0),L(null);const oe={id:l.id,full_name:W.full_name,updated_at:new Date().toISOString()},{error:$e}=await K.from("profiles").upsert(oe);if($e)throw $e;L({type:"success",text:"Settings saved successfully"})}catch(oe){console.error("Error updating profile:",oe),L({type:"error",text:"Failed to save settings"})}finally{R(!1)}},bt=[{id:"profile",label:"Profile",icon:dn},{id:"activity",label:"Activity",icon:Wt},{id:"security",label:"Security",icon:Fr},{id:"notifications",label:"Notifications",icon:mu},{id:"data",label:"Data & Backup",icon:Ms},{id:"privacy",label:"Privacy",icon:Kt}];return x?a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:a.jsx(rn,{className:"animate-spin",size:32})}):a.jsxs("div",{className:re.container,children:[a.jsxs("div",{className:re.header,children:[a.jsx("h1",{children:"Settings"}),a.jsx("p",{className:re.subtitle,children:"Manage your account and preferences"})]}),a.jsxs("div",{className:re.layout,children:[a.jsx("div",{className:re.sidebar,children:bt.map(oe=>{const $e=oe.icon;return a.jsxs("button",{className:`${re.tabBtn} ${U===oe.id?re.active:""}`,onClick:()=>se(oe.id),children:[a.jsx($e,{size:20}),a.jsx("span",{children:oe.label})]},oe.id)})}),a.jsxs("div",{className:re.content,children:[U==="profile"&&a.jsxs("div",{className:re.section,children:[a.jsx("h2",{children:"Profile Information"}),a.jsxs("div",{className:re.formGroup,children:[a.jsx("label",{children:"Full Name"}),a.jsx("input",{type:"text",placeholder:"John Doe",value:W.full_name,onChange:oe=>y({...W,full_name:oe.target.value})})]}),a.jsxs("div",{className:re.formGroup,children:[a.jsx("label",{children:"Email Address"}),a.jsxs("div",{className:re.inputWithIcon,children:[a.jsx(bl,{size:18}),a.jsx("input",{type:"email",value:W.email,disabled:!0,className:re.disabledInput,style:{paddingLeft:"48px"}})]})]}),a.jsxs("div",{className:re.formGroup,children:[a.jsx("label",{children:"Age (Optional)"}),a.jsx("input",{type:"number",placeholder:"30",value:W.age,onChange:oe=>y({...W,age:oe.target.value})}),a.jsx("span",{className:re.hint,children:"Used for personalized recommendations"})]}),a.jsxs("div",{className:re.formGroup,children:[a.jsx("label",{children:"Gender (Optional)"}),a.jsxs("select",{value:W.gender,onChange:oe=>y({...W,gender:oe.target.value}),children:[a.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"}),a.jsx("option",{value:"male",children:"Male"}),a.jsx("option",{value:"female",children:"Female"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{className:re.formGroup,children:[a.jsx("label",{children:"Weight Goal"}),a.jsxs("select",{value:W.weight_goal,onChange:oe=>y({...W,weight_goal:oe.target.value}),children:[a.jsx("option",{value:"weight-loss",children:"Weight Loss"}),a.jsx("option",{value:"muscle-gain",children:"Muscle Gain"}),a.jsx("option",{value:"recovery",children:"Recovery & Healing"}),a.jsx("option",{value:"anti-aging",children:"Anti-Aging"}),a.jsx("option",{value:"performance",children:"Performance Enhancement"}),a.jsx("option",{value:"other",children:"Other"})]})]}),Y&&a.jsx("div",{className:`alert ${Y.type==="error"?"alert-error":"alert-success"}`,style:{marginBottom:"1rem",padding:"10px",borderRadius:"8px",background:Y.type==="error"?"rgba(255,0,0,0.1)":"rgba(0,255,0,0.1)",color:Y.type==="error"?"#ff4d4d":"#4dff4d"},children:Y.text}),a.jsx("button",{className:"btn-primary",onClick:ot,disabled:k,children:k?"Saving...":"Save Changes"})]}),U==="activity"&&a.jsxs("div",{className:re.section,children:[a.jsx("h2",{children:"Your Activity"}),a.jsx("p",{className:re.subtitle,style:{marginBottom:"1.5rem"},children:"View your reviews, ratings, and contributions"}),a.jsxs("div",{style:{marginBottom:"2rem"},children:[a.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[a.jsx(zs,{size:20,color:"var(--accent-primary)"}),"Your Reviews (",Se.length,")"]}),Me?a.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[a.jsx(rn,{className:"animate-spin",size:24}),a.jsx("p",{style:{color:"var(--text-secondary)",marginTop:"0.5rem"},children:"Loading reviews..."})]}):Se.length===0?a.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"rgba(15, 23, 42, 0.3)",borderRadius:"12px",border:"1px solid var(--glass-border)"},children:[a.jsx(zs,{size:32,color:"var(--text-tertiary)",style:{marginBottom:"0.5rem"}}),a.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"No reviews yet"}),a.jsx("p",{style:{color:"var(--text-tertiary)",fontSize:"0.875rem"},children:"Share your experience with peptides by leaving reviews on their detail pages."}),a.jsx(st,{to:"/encyclopedia",className:"btn-primary",style:{marginTop:"1rem",display:"inline-block"},children:"Browse Peptides"})]}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:Se.map(oe=>a.jsxs("div",{className:"card glass-panel",style:{padding:"1.25rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[a.jsxs("div",{children:[a.jsxs(st,{to:`/encyclopedia/${encodeURIComponent(oe.peptide_name)}`,style:{fontSize:"1.1rem",fontWeight:"600",color:"var(--accent-primary)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.5rem"},children:[oe.peptide_name,a.jsx(hu,{size:14})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.25rem"},children:[a.jsx("div",{style:{display:"flex",gap:"2px"},children:[1,2,3,4,5].map($e=>a.jsx(as,{size:14,fill:$e<=oe.rating?"#fbbf24":"none",color:$e<=oe.rating?"#fbbf24":"#4b5563"},$e))}),a.jsx("span",{style:{color:"var(--text-tertiary)",fontSize:"0.75rem"},children:new Date(oe.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]}),a.jsx("button",{onClick:()=>Re(oe.id),style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"6px",padding:"0.5rem",cursor:"pointer",color:"#ef4444",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete review",children:a.jsx(Ft,{size:16})})]}),oe.comment&&a.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem",lineHeight:"1.5",margin:0},children:['"',oe.comment,'"']})]},oe.id))})]}),a.jsx("div",{className:re.divider}),a.jsx("h3",{style:{marginBottom:"1rem"},children:"Activity Summary"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[a.jsxs("div",{className:"card glass-panel",style:{padding:"1.25rem",textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"var(--accent-primary)"},children:Se.length}),a.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"Reviews Written"})]}),a.jsxs("div",{className:"card glass-panel",style:{padding:"1.25rem",textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#fbbf24"},children:Se.length>0?(Se.reduce((oe,$e)=>oe+$e.rating,0)/Se.length).toFixed(1):""}),a.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"Avg Rating Given"})]}),a.jsxs("div",{className:"card glass-panel",style:{padding:"1.25rem",textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"var(--success)"},children:new Set(Se.map(oe=>oe.peptide_name)).size}),a.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"Peptides Reviewed"})]})]})]}),U==="security"&&a.jsxs("div",{className:re.section,children:[a.jsx("h2",{children:"Security Settings"}),a.jsxs("div",{className:`card ${re.infoCard}`,children:[a.jsx(Fr,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Password"}),a.jsx("p",{children:"Last changed 30 days ago"})]}),a.jsx("button",{className:re.secondaryBtn,children:"Change Password"})]}),a.jsxs("div",{className:re.formGroup,children:[a.jsx("label",{children:"Current Password"}),a.jsx("input",{type:"password",placeholder:"Enter current password"})]}),a.jsxs("div",{className:re.formGroup,children:[a.jsx("label",{children:"New Password"}),a.jsx("input",{type:"password",placeholder:"Enter new password"})]}),a.jsxs("div",{className:re.formGroup,children:[a.jsx("label",{children:"Confirm New Password"}),a.jsx("input",{type:"password",placeholder:"Confirm new password"})]}),a.jsx("div",{className:re.divider}),a.jsx("h3",{children:"Two-Factor Authentication"}),a.jsxs("div",{className:`card ${re.infoCard}`,children:[a.jsx(Kt,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"2FA Status"}),S?a.jsx("p",{className:re.statusInactive,children:"Loading..."}):p?a.jsx("p",{className:re.statusActive,children:"Enabled"}):a.jsx("p",{className:re.statusInactive,children:"Not Enabled"})]}),!p&&!v&&!S&&a.jsx("button",{className:re.secondaryBtn,onClick:V,children:"Enable 2FA"}),p&&a.jsx("button",{className:re.dangerBtn,onClick:H,children:"Disable 2FA"})]}),N&&a.jsx("div",{className:"alert alert-error",style:{marginBottom:"1rem",padding:"10px",borderRadius:"8px",background:"rgba(255,0,0,0.1)",color:"#ff4d4d"},children:N}),v&&a.jsxs("div",{className:"card glass-panel",style:{padding:"1.5rem",marginBottom:"1.5rem"},children:[a.jsx("h4",{style:{marginTop:0,color:"var(--text-primary)"},children:"Setup 2FA"}),a.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"1rem"},children:"Scan this QR code with your authenticator app (like Google Authenticator or Authy)."}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"1.5rem"},children:[C&&a.jsx("div",{style:{background:"white",padding:"10px",borderRadius:"8px",marginBottom:"1rem"},children:a.jsx("img",{src:C,alt:"2FA QR Code",width:"180",height:"180"})}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-tertiary)",marginBottom:"0.25rem"},children:"Manual Entry Code:"}),a.jsx("code",{style:{display:"block",background:"var(--bg-input)",padding:"0.5rem 1rem",borderRadius:"4px",fontFamily:"monospace",letterSpacing:"1px",color:"var(--accent-primary)",border:"1px solid var(--glass-border)"},children:D})]})]}),a.jsxs("div",{className:re.formGroup,children:[a.jsx("label",{children:"Verification Code"}),a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx("input",{type:"text",placeholder:"Enter 6-digit code",value:b,onChange:oe=>E(oe.target.value.replace(/\D/g,"").slice(0,6)),style:{flex:1}}),a.jsx("button",{className:"btn-primary",onClick:()=>w(b),disabled:b.length!==6,children:"Verify"})]})]}),a.jsx("button",{className:re.secondaryBtn,onClick:()=>{M(),E("")},style:{width:"100%",marginTop:"0.5rem",justifyContent:"center"},children:"Cancel Setup"})]}),a.jsx("div",{className:re.divider}),a.jsx("h3",{children:"Active Sessions"}),a.jsx("div",{className:`card ${re.sessionCard}`,children:a.jsxs("div",{children:[a.jsx("h4",{children:"Current Device"}),a.jsx("p",{children:"MacBook Pro  Chrome  San Francisco, CA"}),a.jsx("span",{className:re.timestamp,children:"Active now"})]})}),a.jsx("button",{className:re.dangerBtn,onClick:c,children:"Sign Out All Devices"})]}),U==="notifications"&&a.jsxs("div",{className:re.section,children:[a.jsx("h2",{children:"Notification Preferences"}),a.jsxs("div",{className:re.toggleGroup,children:[a.jsxs("div",{className:re.settingItem,children:[a.jsxs("div",{className:re.settingInfo,children:[a.jsx("span",{className:re.settingLabel,children:"Injection Reminders"}),a.jsx("span",{className:re.settingDescription,children:"Get notified when it's time for your next dose"})]}),a.jsxs("label",{className:re.toggle,children:[a.jsx("input",{type:"checkbox",checked:ce.email_reminders,onChange:async oe=>{oe.target.checked?await ru.requestPermission()?(De({...ce,email_reminders:!0}),ru.sendNotification("Reminders Enabled",{body:"You will now receive injection reminders."})):alert("Please enable notifications in your browser settings."):De({...ce,email_reminders:!1})}}),a.jsx("span",{className:re.slider})]})]}),a.jsxs("div",{className:re.toggleItem,children:[a.jsxs("div",{children:[a.jsx("h3",{children:"Expiration Alerts"}),a.jsx("p",{children:"Warnings when reconstituted peptides are expiring"})]}),a.jsxs("label",{className:re.toggle,children:[a.jsx("input",{type:"checkbox",checked:ce.expirationAlerts,onChange:oe=>De({...ce,expirationAlerts:oe.target.checked})}),a.jsx("span",{className:re.slider})]})]}),a.jsxs("div",{className:re.toggleItem,children:[a.jsxs("div",{children:[a.jsx("h3",{children:"Weekly Reports"}),a.jsx("p",{children:"Summary of your progress and insights"})]}),a.jsxs("label",{className:re.toggle,children:[a.jsx("input",{type:"checkbox",checked:ce.weeklyReports,onChange:oe=>De({...ce,weeklyReports:oe.target.checked})}),a.jsx("span",{className:re.slider})]})]}),a.jsxs("div",{className:re.toggleItem,children:[a.jsxs("div",{children:[a.jsx("h3",{children:"Price Alerts"}),a.jsx("p",{children:"Notify when peptide prices drop significantly"})]}),a.jsxs("label",{className:re.toggle,children:[a.jsx("input",{type:"checkbox",checked:ce.priceAlerts,onChange:oe=>De({...ce,priceAlerts:oe.target.checked})}),a.jsx("span",{className:re.slider})]})]})]}),a.jsx("div",{className:re.divider}),a.jsx("h3",{children:"Appearance"}),a.jsxs("div",{className:re.toggleItem,children:[a.jsxs("div",{children:[a.jsxs("h3",{children:[o==="dark"?a.jsx(ix,{size:18}):a.jsx(lx,{size:18})," Theme"]}),a.jsx("p",{children:"Switch between dark and light mode"})]}),a.jsxs("label",{className:re.toggle,children:[a.jsx("input",{type:"checkbox",checked:o==="dark",onChange:()=>d()}),a.jsx("span",{className:re.slider})]})]}),a.jsxs("div",{className:re.toggleItem,children:[a.jsxs("div",{children:[a.jsxs("h3",{children:[a.jsx(rx,{size:18})," Language"]}),a.jsx("p",{children:"Select your preferred language"})]}),a.jsxs("select",{value:h.language,onChange:oe=>{h.changeLanguage(oe.target.value),localStorage.setItem("peptide_language",oe.target.value)},style:{background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"8px",padding:"8px 12px",color:"var(--text-primary)",cursor:"pointer"},children:[a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"es",children:"Espaol"})]})]}),a.jsx("div",{className:re.divider}),a.jsxs("h3",{children:[a.jsx(_l,{size:18})," Share Progress"]}),a.jsx("p",{className:re.description,children:"Generate a shareable image of your progress stats"}),a.jsxs("button",{className:re.secondaryBtn,onClick:()=>A(!0),children:[a.jsx(_l,{size:18}),"Create Share Image"]}),a.jsx("div",{style:{marginTop:"1.5rem"},children:a.jsx("button",{className:re.secondaryBtn,style:{fontSize:"0.8rem",padding:"0.5rem 1rem"},onClick:async()=>{confirm("Send a test reminder email to "+l.email+"?")&&(await $S.sendTestReminder(l.email),alert("Test email sent! (Check console for simulation)"))},children:"Send Test Email"})}),a.jsx("button",{className:"btn-primary",style:{marginTop:"1.5rem"},children:"Save Preferences"})]}),U==="data"&&a.jsxs("div",{className:re.section,children:[a.jsx("h2",{children:"Data & Backup"}),a.jsx("p",{className:re.subtitle,style:{marginBottom:"1.5rem"},children:"Export, import, and manage your personal data"}),a.jsx(iw,{})]}),U==="privacy"&&a.jsxs("div",{className:re.section,children:[a.jsx("h2",{children:"Privacy & Data Management"}),a.jsxs("div",{className:`card ${re.infoCard}`,children:[a.jsx(Kt,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Data Encryption"}),a.jsx("p",{children:"All your data is encrypted end-to-end"})]}),a.jsx("span",{className:re.statusActive,children:"Active"})]}),a.jsx("div",{className:re.divider}),a.jsxs("h3",{children:[a.jsx(xl,{size:18})," Export Your Data"]}),a.jsx("p",{className:re.description,children:"Download your injection history and data. Choose your preferred format."}),a.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[a.jsxs("button",{className:re.secondaryBtn,disabled:ee||g.length===0,onClick:async()=>{te(!0);try{Ug.toCSV(g),L({type:"success",text:"CSV exported successfully!"})}catch(oe){L({type:"error",text:oe.message})}finally{te(!1)}},children:[a.jsx(oi,{size:18}),"Export as CSV"]}),a.jsxs("button",{className:re.secondaryBtn,style:{background:"linear-gradient(135deg, #4f46e5 0%, #3b82f6 100%)",color:"white",border:"none",boxShadow:"0 4px 6px rgba(79, 70, 229, 0.2)"},disabled:ee||g.length===0,onClick:async()=>{te(!0);try{const{generatePDFReport:oe}=await Ge(async()=>{const{generatePDFReport:$e}=await import("./pdfService-LxSaEAbV.js");return{generatePDFReport:$e}},__vite__mapDeps([11,1]));oe(g,l),L({type:"success",text:"PDF Report downloaded!"})}catch(oe){console.error(oe),L({type:"error",text:"Failed to generate PDF"})}finally{te(!1)}},children:[a.jsx(oi,{size:18}),"Generate Medical Report (PDF)"]})]}),g.length===0&&a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.875rem",marginTop:"8px"},children:"No injection data to export yet."}),a.jsx("div",{className:re.divider}),a.jsx("h3",{children:"Privacy Settings"}),a.jsxs("div",{className:re.toggleGroup,children:[a.jsxs("div",{className:re.toggleItem,children:[a.jsxs("div",{children:[a.jsx("h3",{children:"Anonymous Analytics"}),a.jsx("p",{children:"Help us improve by sharing anonymized usage data"})]}),a.jsxs("label",{className:re.toggle,children:[a.jsx("input",{type:"checkbox",defaultChecked:!0}),a.jsx("span",{className:re.slider})]})]}),a.jsxs("div",{className:re.toggleItem,children:[a.jsxs("div",{children:[a.jsx("h3",{children:"Marketing Emails"}),a.jsx("p",{children:"Receive updates about new features and tips"})]}),a.jsxs("label",{className:re.toggle,children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{className:re.slider})]})]})]}),a.jsx("div",{className:re.divider}),a.jsx("h3",{children:"Legal Documents"}),a.jsxs("div",{className:re.linkGroup,children:[a.jsx("a",{href:"/terms",className:re.link,children:"Terms of Service"}),a.jsx("a",{href:"/privacy",className:re.link,children:"Privacy Policy"}),a.jsx("a",{href:"/disclaimer",className:re.link,children:"Medical Disclaimer"})]}),a.jsx("div",{className:re.divider}),a.jsx("h3",{className:re.dangerZone,children:"Danger Zone"}),a.jsxs("div",{className:`card ${re.dangerCard}`,children:[a.jsx(Ft,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Delete Account"}),a.jsx("p",{children:"Permanently delete your account and all associated data. This action cannot be undone."})]}),a.jsx("button",{className:re.dangerBtn,children:"Delete Account"})]})]})]})]}),z&&a.jsx(H2,{onClose:()=>A(!1)})]})},Ow="_container_o3gd5_1",Uw="_header_o3gd5_8",Iw="_lastUpdated_o3gd5_28",Hw="_content_o3gd5_33",qw="_warning_o3gd5_79",Vw="_highlight_o3gd5_97",Gw="_acknowledgment_o3gd5_111",Zt={container:Ow,header:Uw,lastUpdated:Iw,content:Hw,warning:qw,highlight:Vw,acknowledgment:Gw},$w=()=>a.jsxs("div",{className:Zt.container,children:[a.jsxs("div",{className:Zt.header,children:[a.jsx(oi,{size:32}),a.jsx("h1",{children:"Terms of Service"}),a.jsx("p",{className:Zt.lastUpdated,children:"Last Updated: November 24, 2025"})]}),a.jsxs("div",{className:`card ${Zt.content}`,children:[a.jsxs("section",{children:[a.jsx("h2",{children:"1. Acceptance of Terms"}),a.jsx("p",{children:'By accessing and using Peptide Tracker ("the Service"), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these terms, please do not use the Service.'})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"2. Description of Service"}),a.jsx("p",{children:"Peptide Tracker is a personal tracking and informational tool designed to help users:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Track peptide injections and dosages"}),a.jsx("li",{children:"Calculate reconstitution measurements"}),a.jsx("li",{children:"Monitor peptide half-life decay"}),a.jsx("li",{children:"Compare vendor pricing"}),a.jsx("li",{children:"Schedule and plan peptide protocols"})]}),a.jsx("p",{children:a.jsx("strong",{children:"The Service is NOT a medical device, healthcare provider, or medical advice platform."})})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"3. Medical Disclaimer"}),a.jsxs("div",{className:Zt.warning,children:[a.jsx("p",{children:a.jsx("strong",{children:"IMPORTANT: READ CAREFULLY"})}),a.jsxs("ul",{children:[a.jsx("li",{children:"This Service is for informational and tracking purposes only"}),a.jsx("li",{children:"It does NOT provide medical advice, diagnosis, or treatment"}),a.jsx("li",{children:"Always consult with a qualified healthcare provider before starting any peptide protocol"}),a.jsx("li",{children:"Never disregard professional medical advice or delay seeking it because of information from this Service"}),a.jsx("li",{children:"The Service is not a substitute for professional medical care"}),a.jsx("li",{children:"In case of medical emergency, call 911 or your local emergency services immediately"})]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"4. User Responsibilities"}),a.jsx("p",{children:"You agree to:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Provide accurate information when using the Service"}),a.jsx("li",{children:"Use the Service only for lawful purposes"}),a.jsx("li",{children:"Not share your account credentials with others"}),a.jsx("li",{children:"Maintain the security of your account"}),a.jsx("li",{children:"Comply with all applicable laws and regulations"}),a.jsx("li",{children:"Use peptides only under proper medical supervision"}),a.jsx("li",{children:"Verify all calculations and information independently"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"5. Prohibited Uses"}),a.jsx("p",{children:"You may NOT use the Service to:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Violate any laws or regulations"}),a.jsx("li",{children:"Distribute controlled substances illegally"}),a.jsx("li",{children:"Provide medical advice to others"}),a.jsx("li",{children:"Impersonate any person or entity"}),a.jsx("li",{children:"Transmit viruses or malicious code"}),a.jsx("li",{children:"Attempt to gain unauthorized access to the Service"}),a.jsx("li",{children:"Scrape or harvest data from the Service"}),a.jsx("li",{children:"Use the Service for commercial purposes without authorization"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"6. Accuracy of Information"}),a.jsx("p",{children:"While we strive to provide accurate information, we make no warranties or guarantees about:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"The accuracy of calculations"}),a.jsx("li",{children:"The completeness of peptide information"}),a.jsx("li",{children:"The reliability of vendor pricing data"}),a.jsx("li",{children:"The effectiveness of suggested protocols"})]}),a.jsx("p",{children:a.jsx("strong",{children:"Always verify all information with qualified healthcare professionals and trusted sources."})})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"7. Limitation of Liability"}),a.jsx("p",{children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, PEPTIDE TRACKER AND ITS OPERATORS SHALL NOT BE LIABLE FOR:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Any health issues or adverse reactions from peptide use"}),a.jsx("li",{children:"Errors or inaccuracies in calculations or information"}),a.jsx("li",{children:"Loss of data or service interruptions"}),a.jsx("li",{children:"Any indirect, incidental, or consequential damages"}),a.jsx("li",{children:"Decisions made based on information from the Service"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"8. Data and Privacy"}),a.jsx("p",{children:"Your use of the Service is also governed by our Privacy Policy. By using the Service, you consent to:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Collection and storage of your health tracking data"}),a.jsx("li",{children:"Use of cookies and similar technologies"}),a.jsx("li",{children:"Data processing as described in our Privacy Policy"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"9. Intellectual Property"}),a.jsx("p",{children:"All content, features, and functionality of the Service are owned by Peptide Tracker and are protected by copyright, trademark, and other intellectual property laws."})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"10. Third-Party Links and Services"}),a.jsx("p",{children:"The Service may contain links to third-party websites or services (such as peptide vendors). We are not responsible for:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"The content or practices of third-party sites"}),a.jsx("li",{children:"Product quality from vendors"}),a.jsx("li",{children:"Transactions with third parties"}),a.jsx("li",{children:"Accuracy of third-party pricing information"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"11. Account Termination"}),a.jsx("p",{children:"We reserve the right to suspend or terminate your account at any time for:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Violation of these Terms"}),a.jsx("li",{children:"Fraudulent or illegal activity"}),a.jsx("li",{children:"Abuse of the Service"}),a.jsx("li",{children:"Any reason at our sole discretion"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"12. Changes to Terms"}),a.jsx("p",{children:"We may modify these Terms at any time. Continued use of the Service after changes constitutes acceptance of the new Terms. We will notify users of significant changes via email or in-app notification."})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"13. Governing Law"}),a.jsx("p",{children:"These Terms shall be governed by and construed in accordance with the laws of [Your Jurisdiction], without regard to its conflict of law provisions."})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"14. Contact Information"}),a.jsx("p",{children:"For questions about these Terms, please contact us at:"}),a.jsxs("p",{children:["Email: legal@peptidetracker.com",a.jsx("br",{}),"Address: [Your Business Address]"]})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"15. Severability"}),a.jsx("p",{children:"If any provision of these Terms is found to be unenforceable or invalid, that provision shall be limited or eliminated to the minimum extent necessary so that these Terms shall otherwise remain in full force and effect."})]}),a.jsx("div",{className:Zt.acknowledgment,children:a.jsx("p",{children:a.jsx("strong",{children:"BY USING THIS SERVICE, YOU ACKNOWLEDGE THAT YOU HAVE READ, UNDERSTOOD, AND AGREE TO BE BOUND BY THESE TERMS."})})})]})]}),Yw=()=>a.jsxs("div",{className:Zt.container,children:[a.jsxs("div",{className:Zt.header,children:[a.jsx(Kt,{size:32}),a.jsx("h1",{children:"Privacy Policy"}),a.jsx("p",{className:Zt.lastUpdated,children:"Last Updated: November 24, 2025"})]}),a.jsxs("div",{className:`card ${Zt.content}`,children:[a.jsxs("section",{children:[a.jsx("h2",{children:"1. Introduction"}),a.jsx("p",{children:'Peptide Tracker ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our Service.'}),a.jsx("p",{children:a.jsx("strong",{children:"Please read this privacy policy carefully. If you do not agree with the terms of this privacy policy, please do not access the Service."})})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"2. Information We Collect"}),a.jsx("h3",{children:"2.1 Personal Information"}),a.jsx("p",{children:"We may collect personal information that you voluntarily provide, including:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Name and email address"}),a.jsx("li",{children:"Account credentials (username, password)"}),a.jsx("li",{children:"Profile information (age, gender, optional)"}),a.jsx("li",{children:"Payment information (processed by third-party payment processors)"})]}),a.jsx("h3",{children:"2.2 Health Information"}),a.jsx("p",{children:"As a health tracking application, we collect sensitive health data, including:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Peptide injection records (type, dosage, date, time)"}),a.jsx("li",{children:"Body measurements and weight"}),a.jsx("li",{children:"Side effects and notes"}),a.jsx("li",{children:"Photos (if you choose to upload them)"}),a.jsx("li",{children:"Lab results (if you choose to upload them)"}),a.jsx("li",{children:"Health goals and preferences"})]}),a.jsxs("p",{className:Zt.warning,children:[a.jsx("strong",{children:"Important:"})," This is Protected Health Information (PHI) under HIPAA. We take extensive measures to protect this data."]}),a.jsx("h3",{children:"2.3 Usage Data"}),a.jsx("p",{children:"We automatically collect certain information when you use the Service:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Device information (type, operating system, browser)"}),a.jsx("li",{children:"IP address and location data"}),a.jsx("li",{children:"Usage patterns and feature interactions"}),a.jsx("li",{children:"Log data and error reports"}),a.jsx("li",{children:"Cookies and similar tracking technologies"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"3. How We Use Your Information"}),a.jsx("p",{children:"We use the collected information to:"}),a.jsxs("ul",{children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Provide the Service:"})," Track injections, calculate dosages, generate reports"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Improve the Service:"})," Analyze usage patterns, fix bugs, develop new features"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Personalize Experience:"})," Customize recommendations and content"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Communicate:"})," Send notifications, updates, and support messages"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Security:"})," Detect and prevent fraud, abuse, and security incidents"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Legal Compliance:"})," Comply with legal obligations and enforce our Terms"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Analytics:"})," Understand user behavior and improve our Service (anonymized data)"]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"4. Data Sharing and Disclosure"}),a.jsx("h3",{children:"4.1 We DO NOT Sell Your Data"}),a.jsx("p",{className:Zt.highlight,children:a.jsx("strong",{children:"We will never sell your personal or health information to third parties."})}),a.jsx("h3",{children:"4.2 When We May Share Data"}),a.jsx("p",{children:"We may share your information only in the following circumstances:"}),a.jsxs("ul",{children:[a.jsxs("li",{children:[a.jsx("strong",{children:"With Your Consent:"})," When you explicitly authorize us to share your data"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Service Providers:"})," Third-party vendors who help us operate the Service (hosting, analytics, payment processing)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Healthcare Providers:"})," If you use our telehealth features and authorize sharing"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Legal Requirements:"})," When required by law, court order, or government request"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Business Transfers:"})," In connection with a merger, acquisition, or sale of assets"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Safety and Security:"})," To protect the rights, property, or safety of us, our users, or others"]})]}),a.jsx("h3",{children:"4.3 Anonymized Data"}),a.jsx("p",{children:"We may use and share aggregated, anonymized data that cannot identify you personally for research, analytics, and improving the Service."})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"5. Data Security"}),a.jsx("p",{children:"We implement industry-standard security measures to protect your data:"}),a.jsxs("ul",{children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Encryption:"})," All data is encrypted in transit (SSL/TLS) and at rest (AES-256)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Access Controls:"})," Strict authentication and authorization mechanisms"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Regular Audits:"})," Security assessments and penetration testing"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Employee Training:"})," Staff trained on data protection and privacy"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Secure Infrastructure:"})," Hosted on secure, compliant cloud platforms"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Backup and Recovery:"})," Regular backups with disaster recovery procedures"]})]}),a.jsxs("p",{className:Zt.warning,children:[a.jsx("strong",{children:"Note:"})," While we use reasonable security measures, no method of transmission over the Internet or electronic storage is 100% secure. We cannot guarantee absolute security."]})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"6. Your Privacy Rights"}),a.jsx("p",{children:"Depending on your location, you may have the following rights:"}),a.jsx("h3",{children:"6.1 Access and Portability"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Request a copy of your personal data"}),a.jsx("li",{children:"Export your data in a machine-readable format"})]}),a.jsx("h3",{children:"6.2 Correction and Update"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Update or correct inaccurate information"}),a.jsx("li",{children:"Complete incomplete data"})]}),a.jsx("h3",{children:"6.3 Deletion"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Request deletion of your account and data"}),a.jsx("li",{children:"Right to be forgotten (subject to legal requirements)"})]}),a.jsx("h3",{children:"6.4 Restriction and Objection"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Restrict processing of your data"}),a.jsx("li",{children:"Object to certain uses of your data"})]}),a.jsx("h3",{children:"6.5 Withdraw Consent"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Withdraw consent for data processing at any time"}),a.jsx("li",{children:"Opt-out of marketing communications"})]}),a.jsx("p",{children:"To exercise these rights, contact us at privacy@peptidetracker.com"})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"7. Data Retention"}),a.jsx("p",{children:"We retain your data for as long as:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Your account is active"}),a.jsx("li",{children:"Needed to provide the Service"}),a.jsx("li",{children:"Required by law or regulation"}),a.jsx("li",{children:"Necessary for legitimate business purposes"})]}),a.jsx("p",{children:"When you delete your account, we will delete or anonymize your personal data within 30 days, except where we are legally required to retain it."})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"8. Cookies and Tracking Technologies"}),a.jsx("p",{children:"We use cookies and similar technologies to:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Remember your preferences and settings"}),a.jsx("li",{children:"Authenticate your account"}),a.jsx("li",{children:"Analyze usage and improve the Service"}),a.jsx("li",{children:"Provide personalized content"})]}),a.jsx("p",{children:"You can control cookies through your browser settings. Note that disabling cookies may limit functionality of the Service."})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"9. Third-Party Services"}),a.jsx("p",{children:"Our Service may integrate with third-party services:"}),a.jsxs("ul",{children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Payment Processors:"})," Stripe, PayPal (we do not store credit card information)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Analytics:"})," Google Analytics (anonymized)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Cloud Hosting:"})," AWS, Google Cloud, or similar"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Email Services:"})," SendGrid, Mailgun, or similar"]})]}),a.jsx("p",{children:"These third parties have their own privacy policies. We encourage you to review them."})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"10. Children's Privacy"}),a.jsx("p",{children:"The Service is not intended for individuals under 18 years of age. We do not knowingly collect personal information from children. If you believe we have collected information from a child, please contact us immediately."})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"11. International Data Transfers"}),a.jsx("p",{children:"Your information may be transferred to and processed in countries other than your own. We ensure appropriate safeguards are in place to protect your data in accordance with this Privacy Policy."})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"12. California Privacy Rights (CCPA)"}),a.jsx("p",{children:"If you are a California resident, you have additional rights under the California Consumer Privacy Act:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Right to know what personal information is collected"}),a.jsx("li",{children:"Right to know if personal information is sold or disclosed"}),a.jsx("li",{children:"Right to say no to the sale of personal information"}),a.jsx("li",{children:"Right to access your personal information"}),a.jsx("li",{children:"Right to equal service and price"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"13. GDPR Compliance (European Users)"}),a.jsx("p",{children:"If you are in the European Economic Area (EEA), you have rights under the General Data Protection Regulation:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Legal basis for processing (consent, contract, legitimate interest)"}),a.jsx("li",{children:"Right to lodge a complaint with supervisory authority"}),a.jsx("li",{children:"Right to data portability"}),a.jsx("li",{children:"Automated decision-making protections"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"14. Changes to This Privacy Policy"}),a.jsx("p",{children:"We may update this Privacy Policy from time to time. We will notify you of significant changes by:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Posting the new Privacy Policy on this page"}),a.jsx("li",{children:'Updating the "Last Updated" date'}),a.jsx("li",{children:"Sending an email notification (for material changes)"}),a.jsx("li",{children:"In-app notification"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{children:"15. Contact Us"}),a.jsx("p",{children:"For questions or concerns about this Privacy Policy or our data practices:"}),a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," privacy@peptidetracker.com",a.jsx("br",{}),a.jsx("strong",{children:"Data Protection Officer:"})," dpo@peptidetracker.com",a.jsx("br",{}),a.jsx("strong",{children:"Address:"})," [Your Business Address]"]})]}),a.jsx("div",{className:Zt.acknowledgment,children:a.jsx("p",{children:a.jsx("strong",{children:"BY USING THIS SERVICE, YOU ACKNOWLEDGE THAT YOU HAVE READ AND UNDERSTOOD THIS PRIVACY POLICY."})})})]})]}),og="G-2V2TNJFR16",Pw=()=>{const l=[/bot/i,/crawl/i,/spider/i,/slurp/i,/mediapartners/i,/googlebot/i,/bingbot/i,/yandex/i,/baiduspider/i,/facebookexternalhit/i,/twitterbot/i,/rogerbot/i,/linkedinbot/i,/embedly/i,/quora link preview/i,/showyoubot/i,/outbrain/i,/pinterest/i,/slackbot/i,/vkShare/i,/W3C_Validator/i,/whatsapp/i,/applebot/i,/headless/i,/phantom/i,/selenium/i,/puppeteer/i,/lighthouse/i,/pagespeed/i,/gtmetrix/i],c=navigator.userAgent||"";return!!(l.some(o=>o.test(c))||navigator.webdriver||!navigator.languages||navigator.languages.length===0)};let ul=null;const vu=()=>(ul!==null||(ul=!Pw(),ul||console.log("[Analytics] Bot detected, analytics disabled")),ul),Xw=()=>{if(!vu()){console.log("[Analytics] Skipping init for bot");return}if(console.log("Analytics initialized"),!document.querySelector('script[src*="googletagmanager"]')){let c=function(){window.dataLayer.push(arguments)};const l=document.createElement("script");l.async=!0,l.src=`https://www.googletagmanager.com/gtag/js?id=${og}`,document.head.appendChild(l),window.dataLayer=window.dataLayer||[],window.gtag=c,c("js",new Date),c("config",og)}},Qw=(l,c,o=null,d=null)=>{vu()&&(console.log(`[Analytics] Event: ${l} - ${c}`,{label:o,value:d}),window.gtag&&window.gtag("event",c,{event_category:l,event_label:o,value:d}))},Zw=(l,c)=>{vu()&&(console.error("[Analytics] Error tracked:",l),window.gtag&&window.gtag("event","exception",{description:l.message,fatal:!1}))},dg=()=>{const l=un();return j.useEffect(()=>{Qw("error","404_not_found",l.pathname)},[l]),a.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[a.jsx("h1",{children:"404"}),a.jsx("p",{children:"We couldn't find that page."}),a.jsxs("p",{style:{marginTop:"10px",fontSize:"0.9em",opacity:.7},children:["Requested: ",l.pathname]}),a.jsx(st,{to:"/",style:{color:"var(--accent-primary)",marginTop:"20px",display:"inline-block"},children:"Return Home"})]})};class Fw extends Na.Component{constructor(c){super(c),this.state={hasError:!1}}static getDerivedStateFromError(c){return{hasError:!0}}componentDidCatch(c,o){if(console.error("ErrorBoundary caught",c,o),Zw(c),c.message&&(c.message.includes("Failed to fetch dynamically imported module")||c.message.includes("Importing a module script failed")||c.name==="ChunkLoadError")){const u=sessionStorage.getItem("chunk_reload_time");if(!u||Date.now()-parseInt(u)>1e4){console.log("Chunk load error detected, reloading page..."),sessionStorage.setItem("chunk_reload_time",Date.now().toString()),window.location.reload();return}}}render(){return this.state.hasError?a.jsxs("div",{style:{padding:"24px",textAlign:"center"},children:[a.jsx("h1",{children:"Something went wrong."}),a.jsx("p",{children:"Please refresh or return home."}),a.jsx("a",{href:"/",style:{color:"var(--accent-primary)"},children:"Go Home"})]}):this.props.children}}const Kw="_container_vnkoo_3",Jw="_sidebar_vnkoo_11",Ww="_headerTitle_vnkoo_26",eN="_nav_vnkoo_38",tN="_navLink_vnkoo_46",aN="_activeNavLink_vnkoo_62",sN="_signOutBtn_vnkoo_67",nN="_mainContent_vnkoo_86",iN="_mobileHeader_vnkoo_93",lN="_menuBtn_vnkoo_105",rN="_overlay_vnkoo_113",cN="_open_vnkoo_138",It={container:Kw,sidebar:Jw,headerTitle:Ww,nav:eN,navLink:tN,activeNavLink:aN,signOutBtn:sN,mainContent:nN,mobileHeader:iN,menuBtn:lN,overlay:rN,open:cN},oN=()=>{const{signOut:l}=Ct(),c=ec(),[o,d]=j.useState(!1),u=un(),f=async()=>{await l(),c("/login")},h=()=>d(!o),g=()=>d(!1);Na.useEffect(()=>{g()},[u.pathname]);const p=[{path:"/admin",icon:Ng,label:"Dashboard",end:!0},{path:"/admin/peptides",icon:Ms,label:"Peptides"},{path:"/admin/users",icon:ci,label:"Users"},{path:"/admin/forum",icon:zs,label:"Forum"},{path:"/admin/reviews",icon:as,label:"Reviews"},{path:"/admin/prices",icon:Kr,label:"Prices"},{path:"/admin/tickets",icon:Lt,label:"Support Tickets"},{path:"/admin/audit-logs",icon:Wt,label:"Audit Logs"},{path:"/admin/monitoring",icon:Wt,label:"Monitoring"},{path:"/admin/security",icon:Kt,label:"Security Audit"}];return a.jsxs("div",{className:It.container,children:[a.jsxs("div",{className:It.mobileHeader,children:[a.jsx("button",{onClick:h,className:It.menuBtn,children:a.jsx(cx,{size:24})}),a.jsx("div",{className:It.headerTitle,children:a.jsx("h2",{children:"Admin Panel"})}),a.jsx("div",{style:{width:24}})," "]}),a.jsx("div",{className:`${It.overlay} ${o?It.open:""}`,onClick:g}),a.jsxs("div",{className:`${It.sidebar} ${o?It.open:""}`,children:[a.jsxs("div",{className:It.headerTitle,style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("h2",{children:"Admin Panel"}),a.jsx("button",{onClick:g,className:It.menuBtn,style:{display:window.innerWidth<=768?"block":"none"},children:a.jsx(Rs,{size:20})})]}),a.jsx("nav",{className:It.nav,children:p.map(v=>a.jsxs(ts,{to:v.path,end:v.end,className:({isActive:S})=>`${It.navLink} ${S?It.activeNavLink:""}`,children:[a.jsx(v.icon,{size:20}),v.label]},v.path))}),a.jsxs("button",{onClick:f,className:It.signOutBtn,children:[a.jsx(Ag,{size:20}),"Sign Out"]})]}),a.jsx("div",{className:It.mainContent,children:a.jsx(Sg,{})})]})},Bs={async logAction(l,c,o=null,d=null){try{const{data:{user:u}}=await K.auth.getUser();if(!u)return null;const{data:f,error:h}=await K.from("audit_logs").insert({user_id:u.id,action:l,entity_type:c,entity_id:o,metadata:d,user_agent:navigator.userAgent}).select().single();return h?(console.warn("Failed to log action:",h),null):f}catch(u){return console.warn("Audit log error:",u),null}},async getMyLogs(l=50){const{data:c,error:o}=await K.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(l);if(o&&(console.warn("Error fetching my logs:",o),o.code!=="PGRST116"))throw o;return c||[]},async getAllLogs({limit:l=100,offset:c=0,action:o=null,entityType:d=null,userId:u=null,startDate:f=null,endDate:h=null}={}){let g=K.from("audit_logs").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range(c,c+l-1);o&&(g=g.eq("action",o)),d&&(g=g.eq("entity_type",d)),u&&(g=g.eq("user_id",u)),f&&(g=g.gte("created_at",f)),h&&(g=g.lte("created_at",h));const{data:p,error:v,count:S}=await g;if(v&&(console.warn("Error fetching audit logs:",v),v.code!=="PGRST116"))throw v;const C=[...new Set((p||[]).map(w=>w.user_id).filter(Boolean))];let D={};if(C.length>0){const{data:w}=await K.from("profiles").select("id, email, full_name").in("id",C);D=Object.fromEntries((w||[]).map(H=>[H.id,H]))}return{data:(p||[]).map(w=>({...w,profiles:D[w.user_id]||null})),count:S||0}},async getActionTypes(){const{data:l,error:c}=await K.from("audit_logs").select("action").limit(1e3);if(c)throw c;return[...new Set(l.map(d=>d.action))].sort()},async getEntityTypes(){const{data:l,error:c}=await K.from("audit_logs").select("entity_type").limit(1e3);if(c)throw c;return[...new Set(l.map(d=>d.entity_type))].sort()},async getStats(l=7){const c=new Date;c.setDate(c.getDate()-l);const{data:o,error:d}=await K.from("audit_logs").select("action, created_at").gte("created_at",c.toISOString());if(d)throw d;const u=o.reduce((h,g)=>(h[g.action]=(h[g.action]||0)+1,h),{}),f=o.reduce((h,g)=>{const p=new Date(g.created_at).toLocaleDateString();return h[p]=(h[p]||0)+1,h},{});return{total:o.length,byAction:u,byDay:f}},formatAction(l){return l.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase())},getActionStyle(l){return{profile_updated:{color:"#3b82f6",icon:"User"},injection_created:{color:"#10b981",icon:"Plus"},injection_updated:{color:"#f59e0b",icon:"Edit"},injection_deleted:{color:"#ef4444",icon:"Trash"},login:{color:"#8b5cf6",icon:"LogIn"},logout:{color:"#6b7280",icon:"LogOut"},schedule_created:{color:"#10b981",icon:"Calendar"},review_created:{color:"#06b6d4",icon:"Star"}}[l]||{color:"#6b7280",icon:"Activity"}}},zt={async getMyTickets(){const{data:l,error:c}=await K.from("support_tickets").select(`
        *,
        ticket_messages (
          id,
          message,
          is_admin_reply,
          created_at
        )
      `).order("updated_at",{ascending:!1});if(c&&(console.warn("Error fetching my tickets:",c),c.code!=="PGRST116"))throw c;return l||[]},async getTicket(l){const{data:c,error:o}=await K.from("support_tickets").select(`
        *,
        ticket_messages (
          id,
          message,
          is_admin_reply,
          created_at,
          user_id
        )
      `).eq("id",l).single();if(o)throw o;return c},async createTicket({subject:l,description:c,category:o="general",priority:d="normal"}){const{data:{user:u}}=await K.auth.getUser();if(!u)throw new Error("Must be logged in to create a ticket");const{data:f,error:h}=await K.from("support_tickets").insert({user_id:u.id,subject:l,description:c,category:o,priority:d}).select().single();if(h)throw h;return f},async addMessage(l,c,o=!1){const{data:{user:d}}=await K.auth.getUser();if(!d)throw new Error("Must be logged in to send a message");const{data:u,error:f}=await K.from("ticket_messages").insert({ticket_id:l,user_id:d.id,message:c,is_admin_reply:o}).select().single();if(f)throw f;return u},async getAllTickets(l=null){let c=K.from("support_tickets").select(`
        *,
        ticket_messages (
          id
        )
      `).order("updated_at",{ascending:!1});l&&(c=c.eq("status",l));const{data:o,error:d}=await c;if(d&&(console.warn("Error fetching tickets:",d),d.code!=="PGRST116"))throw d;const u=[...new Set((o||[]).map(g=>g.user_id).filter(Boolean))];let f={};if(u.length>0){const{data:g}=await K.from("profiles").select("id, email, full_name").in("id",u);f=Object.fromEntries((g||[]).map(p=>[p.id,p]))}return(o||[]).map(g=>({...g,profiles:f[g.user_id]||null}))},async updateTicketStatus(l,c){const{data:{user:o}}=await K.auth.getUser(),d={status:c};c==="resolved"&&(d.resolved_at=new Date().toISOString(),d.resolved_by=o.id);const{data:u,error:f}=await K.from("support_tickets").update(d).eq("id",l).select().single();if(f)throw f;return u},getCategories(){return[{id:"general",label:"General Inquiry"},{id:"bug",label:"Bug Report"},{id:"feature",label:"Feature Request"},{id:"account",label:"Account Issue"},{id:"billing",label:"Billing"},{id:"other",label:"Other"}]},getPriorities(){return[{id:"low",label:"Low",color:"#10b981"},{id:"normal",label:"Normal",color:"#3b82f6"},{id:"high",label:"High",color:"#f59e0b"},{id:"urgent",label:"Urgent",color:"#ef4444"}]},getStatuses(){return[{id:"open",label:"Open",color:"#3b82f6"},{id:"in_progress",label:"In Progress",color:"#f59e0b"},{id:"waiting",label:"Waiting for User",color:"#8b5cf6"},{id:"resolved",label:"Resolved",color:"#10b981"},{id:"closed",label:"Closed",color:"#6b7280"}]}},dN="_container_2l4ry_1",uN="_header_2l4ry_7",fN="_refreshBtn_2l4ry_30",mN="_spin_2l4ry_54",hN="_statsGrid_2l4ry_69",pN="_statCard_2l4ry_76",gN="_statIcon_2l4ry_92",yN="_statInfo_2l4ry_101",_N="_statLabel_2l4ry_106",vN="_statValue_2l4ry_112",xN="_trend_2l4ry_118",jN="_trendUp_2l4ry_126",bN="_trendDown_2l4ry_130",SN="_trendWarning_2l4ry_134",wN="_twoColumn_2l4ry_144",NN="_panel_2l4ry_158",CN="_panelHeader_2l4ry_165",TN="_viewAll_2l4ry_183",DN="_activityList_2l4ry_197",AN="_activityItem_2l4ry_203",EN="_activityDot_2l4ry_215",kN="_activityInfo_2l4ry_223",BN="_activityAction_2l4ry_229",zN="_activityMeta_2l4ry_234",LN="_ticketList_2l4ry_240",MN="_ticketItem_2l4ry_246",RN="_ticketInfo_2l4ry_259",ON="_ticketSubject_2l4ry_265",UN="_ticketMeta_2l4ry_270",IN="_ticketStatus_2l4ry_275",HN="_emptyState_2l4ry_284",qN="_quickActions_2l4ry_291",VN="_actionButtons_2l4ry_304",GN="_actionBtn_2l4ry_310",he={container:dN,header:uN,refreshBtn:fN,spin:mN,statsGrid:hN,statCard:pN,statIcon:gN,statInfo:yN,statLabel:_N,statValue:vN,trend:xN,trendUp:jN,trendDown:bN,trendWarning:SN,twoColumn:wN,panel:NN,panelHeader:CN,viewAll:TN,activityList:DN,activityItem:AN,activityDot:EN,activityInfo:kN,activityAction:BN,activityMeta:zN,ticketList:LN,ticketItem:MN,ticketInfo:RN,ticketSubject:ON,ticketMeta:UN,ticketStatus:IN,emptyState:HN,quickActions:qN,actionButtons:VN,actionBtn:GN},$N=()=>{const[l,c]=j.useState({users:0,injections:0,peptides:0,reviews:0,schedules:0,openTickets:0}),[o,d]=j.useState([]),[u,f]=j.useState([]),[h,g]=j.useState(!0),[p,v]=j.useState({count:0,direction:"up"});j.useEffect(()=>{S()},[]);const S=async()=>{g(!0),await Promise.all([C(),D(),V(),w()]),g(!1)},C=async()=>{try{const[N,b,E,x,I,k]=await Promise.all([K.from("profiles").select("*",{count:"exact",head:!0}),K.from("injections").select("*",{count:"exact",head:!0}),K.from("peptides").select("*",{count:"exact",head:!0}),K.from("reviews").select("*",{count:"exact",head:!0}),K.from("schedules").select("*",{count:"exact",head:!0}),K.from("support_tickets").select("*",{count:"exact",head:!0}).eq("status","open")]);N.error&&console.error("Error fetching users count:",N.error),b.error&&console.error("Error fetching injections count:",b.error),E.error&&console.error("Error fetching peptides count:",E.error),x.error&&console.error("Error fetching reviews count:",x.error),I.error&&console.error("Error fetching schedules count:",I.error),k.error&&console.error("Error fetching tickets count:",k.error),c({users:N.count||0,injections:b.count||0,peptides:E.count||0,reviews:x.count||0,schedules:I.count||0,openTickets:k.count||0})}catch(N){console.error("Error fetching stats:",N)}},D=async()=>{try{const{data:N}=await Bs.getAllLogs({limit:10});d(N||[])}catch(N){console.error("Error fetching activity:",N)}},V=async()=>{try{const N=await zt.getAllTickets();f((N||[]).slice(0,5))}catch(N){console.error("Error fetching tickets:",N)}},w=async()=>{try{const N=new Date,b=new Date(N.getTime()-10080*60*1e3),E=new Date(N.getTime()-336*60*60*1e3),[x,I]=await Promise.all([K.from("injections").select("*",{count:"exact",head:!0}).gte("created_at",b.toISOString()),K.from("injections").select("*",{count:"exact",head:!0}).gte("created_at",E.toISOString()).lt("created_at",b.toISOString())]),k=(x.count||0)-(I.count||0);v({count:x.count||0,direction:k>=0?"up":"down",percentage:I.count?Math.abs(Math.round(k/I.count*100)):0})}catch(N){console.error("Error fetching trend:",N)}},H=N=>{const b=Math.floor((new Date-new Date(N))/1e3);return b<60?"just now":b<3600?`${Math.floor(b/60)}m ago`:b<86400?`${Math.floor(b/3600)}h ago`:`${Math.floor(b/86400)}d ago`},M=N=>({open:"#3b82f6",in_progress:"#f59e0b",resolved:"#10b981",closed:"#6b7280"})[N]||"#6b7280";return a.jsxs("div",{className:he.container,children:[a.jsxs("div",{className:he.header,children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Dashboard Overview"}),a.jsx("p",{children:"Welcome back, here's what's happening today"})]}),a.jsxs("button",{className:he.refreshBtn,onClick:S,disabled:h,children:[a.jsx(Jt,{size:18,className:h?he.spin:""}),"Refresh"]})]}),a.jsxs("div",{className:he.statsGrid,children:[a.jsxs("div",{className:he.statCard,children:[a.jsx("div",{className:he.statIcon,style:{background:"#3b82f620",color:"#3b82f6"},children:a.jsx(ci,{size:24})}),a.jsxs("div",{className:he.statInfo,children:[a.jsx("span",{className:he.statLabel,children:"Total Users"}),a.jsx("span",{className:he.statValue,children:h?"...":l.users})]})]}),a.jsxs("div",{className:he.statCard,children:[a.jsx("div",{className:he.statIcon,style:{background:"#10b98120",color:"#10b981"},children:a.jsx(La,{size:24})}),a.jsxs("div",{className:he.statInfo,children:[a.jsx("span",{className:he.statLabel,children:"Total Injections"}),a.jsx("span",{className:he.statValue,children:h?"...":l.injections}),!h&&p.percentage>0&&a.jsxs("span",{className:`${he.trend} ${p.direction==="up"?he.trendUp:he.trendDown}`,children:[p.direction==="up"?a.jsx(jd,{size:14}):a.jsx(ox,{size:14}),p.percentage,"% this week"]})]})]}),a.jsxs("div",{className:he.statCard,children:[a.jsx("div",{className:he.statIcon,style:{background:"#8b5cf620",color:"#8b5cf6"},children:a.jsx(Ms,{size:24})}),a.jsxs("div",{className:he.statInfo,children:[a.jsx("span",{className:he.statLabel,children:"Peptides in DB"}),a.jsx("span",{className:he.statValue,children:h?"...":l.peptides})]})]}),a.jsxs("div",{className:he.statCard,children:[a.jsx("div",{className:he.statIcon,style:{background:"#f59e0b20",color:"#f59e0b"},children:a.jsx(Lt,{size:24})}),a.jsxs("div",{className:he.statInfo,children:[a.jsx("span",{className:he.statLabel,children:"Open Tickets"}),a.jsx("span",{className:he.statValue,children:h?"...":l.openTickets}),!h&&l.openTickets>0&&a.jsxs("span",{className:he.trendWarning,children:[a.jsx(Ma,{size:14})," Needs attention"]})]})]}),a.jsxs("div",{className:he.statCard,children:[a.jsx("div",{className:he.statIcon,style:{background:"#06b6d420",color:"#06b6d4"},children:a.jsx(cn,{size:24})}),a.jsxs("div",{className:he.statInfo,children:[a.jsx("span",{className:he.statLabel,children:"Reviews"}),a.jsx("span",{className:he.statValue,children:h?"...":l.reviews})]})]}),a.jsxs("div",{className:he.statCard,children:[a.jsx("div",{className:he.statIcon,style:{background:"#ec489920",color:"#ec4899"},children:a.jsx(Mt,{size:24})}),a.jsxs("div",{className:he.statInfo,children:[a.jsx("span",{className:he.statLabel,children:"Scheduled Doses"}),a.jsx("span",{className:he.statValue,children:h?"...":l.schedules})]})]})]}),a.jsxs("div",{className:he.twoColumn,children:[a.jsxs("div",{className:he.panel,children:[a.jsxs("div",{className:he.panelHeader,children:[a.jsxs("h3",{children:[a.jsx(Wt,{size:20})," Recent Activity"]}),a.jsxs(st,{to:"/admin/audit-logs",className:he.viewAll,children:["View All ",a.jsx(jd,{size:14})]})]}),a.jsx("div",{className:he.activityList,children:h?a.jsx("p",{className:he.emptyState,children:"Loading..."}):o.length===0?a.jsx("p",{className:he.emptyState,children:"No recent activity"}):o.map(N=>a.jsxs("div",{className:he.activityItem,children:[a.jsx("div",{className:he.activityDot,style:{background:Bs.getActionStyle(N.action).color}}),a.jsxs("div",{className:he.activityInfo,children:[a.jsx("span",{className:he.activityAction,children:Bs.formatAction(N.action)}),a.jsxs("span",{className:he.activityMeta,children:[N.profiles?.email?.split("@")[0]||"User","  ",H(N.created_at)]})]})]},N.id))})]}),a.jsxs("div",{className:he.panel,children:[a.jsxs("div",{className:he.panelHeader,children:[a.jsxs("h3",{children:[a.jsx(Lt,{size:20})," Recent Tickets"]}),a.jsxs(st,{to:"/admin/tickets",className:he.viewAll,children:["View All ",a.jsx(jd,{size:14})]})]}),a.jsx("div",{className:he.ticketList,children:h?a.jsx("p",{className:he.emptyState,children:"Loading..."}):u.length===0?a.jsx("p",{className:he.emptyState,children:"No tickets yet"}):u.map(N=>a.jsxs(st,{to:"/admin/tickets",className:he.ticketItem,children:[a.jsxs("div",{className:he.ticketInfo,children:[a.jsx("span",{className:he.ticketSubject,children:N.subject}),a.jsxs("span",{className:he.ticketMeta,children:[N.profiles?.email?.split("@")[0]||"User","  ",H(N.created_at)]})]}),a.jsxs("span",{className:he.ticketStatus,style:{color:M(N.status)},children:[N.status==="open"?a.jsx(Ma,{size:14}):a.jsx(_t,{size:14}),N.status.replace("_"," ")]})]},N.id))})]})]}),a.jsxs("div",{className:he.quickActions,children:[a.jsx("h3",{children:"Quick Actions"}),a.jsxs("div",{className:he.actionButtons,children:[a.jsxs(st,{to:"/admin/peptides",className:he.actionBtn,children:[a.jsx(Ms,{size:20}),"Manage Peptides"]}),a.jsxs(st,{to:"/admin/tickets",className:he.actionBtn,children:[a.jsx(Lt,{size:20}),"View Tickets"]}),a.jsxs(st,{to:"/admin/audit-logs",className:he.actionBtn,children:[a.jsx(Wt,{size:20}),"Audit Logs"]}),a.jsxs(st,{to:"/encyclopedia",className:he.actionBtn,children:[a.jsx(jl,{size:20}),"View Encyclopedia"]})]})]})]})},YN="_container_1016c_1",PN="_header_1016c_7",XN="_addBtn_1016c_33",QN="_successBanner_1016c_53",ZN="_filters_1016c_79",FN="_searchBox_1016c_86",KN="_filterSelect_1016c_108",JN="_loading_1016c_119",WN="_emptyState_1016c_120",eC="_peptideList_1016c_141",tC="_peptideCard_1016c_147",aC="_peptideHeader_1016c_159",sC="_peptideInfo_1016c_172",nC="_tags_1016c_178",iC="_categoryTag_1016c_184",lC="_halfLifeTag_1016c_193",rC="_warningTag_1016c_204",cC="_peptideActions_1016c_215",oC="_viewBtn_1016c_222",dC="_duplicateBtn_1016c_223",uC="_editBtn_1016c_224",fC="_deleteBtn_1016c_225",mC="_peptideDetails_1016c_275",hC="_detailSection_1016c_293",pC="_sideEffectsList_1016c_320",gC="_modalOverlay_1016c_335",yC="_modal_1016c_335",_C="_modalHeader_1016c_359",vC="_closeBtn_1016c_373",xC="_form_1016c_386",jC="_formRow_1016c_395",bC="_formGroup_1016c_407",SC="_codeInput_1016c_444",wC="_formActions_1016c_449",NC="_cancelBtn_1016c_457",CC="_saveBtn_1016c_471",we={container:YN,header:PN,addBtn:XN,successBanner:QN,filters:ZN,searchBox:FN,filterSelect:KN,loading:JN,emptyState:WN,peptideList:eC,peptideCard:tC,peptideHeader:aC,peptideInfo:sC,tags:nC,categoryTag:iC,halfLifeTag:lC,warningTag:rC,peptideActions:cC,viewBtn:oC,duplicateBtn:dC,editBtn:uC,deleteBtn:fC,peptideDetails:mC,detailSection:hC,sideEffectsList:pC,modalOverlay:gC,modal:yC,modalHeader:_C,closeBtn:vC,form:xC,formRow:jC,formGroup:bC,codeInput:SC,formActions:wC,cancelBtn:NC,saveBtn:CC},ug=["Weight Loss","Muscle Building","Recovery","Anti-Aging","Cognitive","Immunity","Sexual Health","Other"],TC=()=>{const[l,c]=j.useState([]),[o,d]=j.useState(!0),[u,f]=j.useState(""),[h,g]=j.useState(""),[p,v]=j.useState(!1),[S,C]=j.useState(null),[D,V]=j.useState(!1),[w,H]=j.useState(null),[M,N]=j.useState(""),[b,E]=j.useState({name:"",category:"Weight Loss",half_life_hours:"",description:"",benefits:"",side_effects:"",warnings:"",dosage_protocols:"",common_dosage:"",research_links:""});j.useEffect(()=>{x()},[]);const x=async()=>{try{d(!0);const{data:y,error:q}=await K.from("peptides").select("*").order("name");if(q)throw q;c(y||[])}catch(y){console.error("Error fetching peptides:",y)}finally{d(!1)}},I=y=>{C(y.id),E({name:y.name,category:y.category,half_life_hours:y.half_life_hours||"",description:y.description||"",benefits:(y.benefits||[]).join(`
`),side_effects:(y.side_effects||[]).join(`
`),warnings:(y.warnings||[]).join(`
`),dosage_protocols:y.dosage_protocols?JSON.stringify(y.dosage_protocols,null,2):"",common_dosage:y.common_dosage||"",research_links:(y.research_links||[]).join(`
`)}),v(!0)},k=()=>{C(null),E({name:"",category:"Weight Loss",half_life_hours:"",description:"",benefits:"",side_effects:"",warnings:"",dosage_protocols:"",common_dosage:"",research_links:""}),v(!0)},R=y=>{C(null),E({name:y.name+" (Copy)",category:y.category,half_life_hours:y.half_life_hours||"",description:y.description||"",benefits:(y.benefits||[]).join(`
`),side_effects:(y.side_effects||[]).join(`
`),warnings:(y.warnings||[]).join(`
`),dosage_protocols:y.dosage_protocols?JSON.stringify(y.dosage_protocols,null,2):"",common_dosage:y.common_dosage||"",research_links:(y.research_links||[]).join(`
`)}),v(!0)},Y=async(y,q)=>{if(window.confirm(`Are you sure you want to delete "${q}"? This cannot be undone.`))try{const{error:le}=await K.from("peptides").delete().eq("id",y);if(le)throw le;U(`${q} deleted successfully`),x()}catch(le){console.error("Error deleting peptide:",le),alert("Failed to delete peptide")}},L=async y=>{y.preventDefault(),V(!0);let q=null;if(b.dosage_protocols.trim())try{q=JSON.parse(b.dosage_protocols)}catch{alert("Invalid JSON in dosage protocols. Please check the format."),V(!1);return}const le={name:b.name.trim(),category:b.category,half_life_hours:b.half_life_hours?parseFloat(b.half_life_hours):null,description:b.description.trim(),benefits:b.benefits.split(`
`).map(z=>z.trim()).filter(Boolean),side_effects:b.side_effects.split(`
`).map(z=>z.trim()).filter(Boolean),warnings:b.warnings.split(`
`).map(z=>z.trim()).filter(Boolean),dosage_protocols:q,common_dosage:b.common_dosage.trim(),research_links:b.research_links.split(`
`).map(z=>z.trim()).filter(Boolean)};try{if(S){const{error:z}=await K.from("peptides").update(le).eq("id",S);if(z)throw z;U(`${le.name} updated successfully`)}else{const{error:z}=await K.from("peptides").insert([le]);if(z)throw z;U(`${le.name} created successfully`)}v(!1),x()}catch(z){console.error("Error saving peptide:",z),alert("Failed to save peptide: "+z.message)}finally{V(!1)}},U=y=>{N(y),setTimeout(()=>N(""),3e3)},se=l.filter(y=>{const q=y.name.toLowerCase().includes(u.toLowerCase())||y.category.toLowerCase().includes(u.toLowerCase()),le=!h||y.category===h;return q&&le}),W=y=>l.filter(q=>q.category===y).length;return a.jsxs("div",{className:we.container,children:[a.jsxs("div",{className:we.header,children:[a.jsxs("div",{children:[a.jsxs("h1",{children:[a.jsx(Ms,{size:28})," Manage Peptides"]}),a.jsxs("p",{children:[l.length," peptides in database"]})]}),a.jsxs("button",{className:we.addBtn,onClick:k,children:[a.jsx(Ls,{size:20}),"Add Peptide"]})]}),M&&a.jsxs("div",{className:we.successBanner,children:[a.jsx(_t,{size:18}),M]}),a.jsxs("div",{className:we.filters,children:[a.jsxs("div",{className:we.searchBox,children:[a.jsx(sc,{size:20}),a.jsx("input",{type:"text",placeholder:"Search peptides...",value:u,onChange:y=>f(y.target.value)})]}),a.jsxs("select",{value:h,onChange:y=>g(y.target.value),className:we.filterSelect,children:[a.jsx("option",{value:"",children:"All Categories"}),ug.map(y=>a.jsxs("option",{value:y,children:[y," (",W(y),")"]},y))]})]}),o?a.jsx("div",{className:we.loading,children:"Loading peptides..."}):se.length===0?a.jsxs("div",{className:we.emptyState,children:[a.jsx(Ms,{size:48}),a.jsx("h3",{children:"No peptides found"}),a.jsx("p",{children:"Try adjusting your search or add a new peptide."})]}):a.jsx("div",{className:we.peptideList,children:se.map(y=>a.jsxs("div",{className:we.peptideCard,children:[a.jsxs("div",{className:we.peptideHeader,onClick:()=>H(w===y.id?null:y.id),children:[a.jsxs("div",{className:we.peptideInfo,children:[a.jsx("h3",{children:y.name}),a.jsxs("div",{className:we.tags,children:[a.jsx("span",{className:we.categoryTag,children:y.category}),y.half_life_hours&&a.jsxs("span",{className:we.halfLifeTag,children:[a.jsx(Ta,{size:12}),y.half_life_hours,"h half-life"]}),y.warnings?.length>0&&a.jsxs("span",{className:we.warningTag,children:[a.jsx(on,{size:12}),y.warnings.length," warnings"]})]})]}),a.jsxs("div",{className:we.peptideActions,children:[a.jsx(st,{to:`/encyclopedia/${encodeURIComponent(y.name)}`,className:we.viewBtn,onClick:q=>q.stopPropagation(),title:"View in Encyclopedia",children:a.jsx(jl,{size:16})}),a.jsx("button",{onClick:q=>{q.stopPropagation(),R(y)},className:we.duplicateBtn,title:"Duplicate",children:a.jsx(Dg,{size:16})}),a.jsx("button",{onClick:q=>{q.stopPropagation(),I(y)},className:we.editBtn,title:"Edit",children:a.jsx(ks,{size:16})}),a.jsx("button",{onClick:q=>{q.stopPropagation(),Y(y.id,y.name)},className:we.deleteBtn,title:"Delete",children:a.jsx(Ft,{size:16})}),w===y.id?a.jsx(Jr,{size:20}):a.jsx(li,{size:20})]})]}),w===y.id&&a.jsxs("div",{className:we.peptideDetails,children:[y.description&&a.jsxs("div",{className:we.detailSection,children:[a.jsx("h4",{children:"Description"}),a.jsx("p",{children:y.description})]}),y.benefits?.length>0&&a.jsxs("div",{className:we.detailSection,children:[a.jsx("h4",{children:"Benefits"}),a.jsx("ul",{children:y.benefits.map((q,le)=>a.jsx("li",{children:q},le))})]}),y.side_effects?.length>0&&a.jsxs("div",{className:we.detailSection,children:[a.jsx("h4",{children:"Side Effects"}),a.jsx("ul",{className:we.sideEffectsList,children:y.side_effects.map((q,le)=>a.jsx("li",{children:q},le))})]}),y.dosage_protocols&&a.jsxs("div",{className:we.detailSection,children:[a.jsx("h4",{children:"Dosage Protocols"}),a.jsx("pre",{children:JSON.stringify(y.dosage_protocols,null,2)})]})]})]},y.id))}),p&&a.jsx("div",{className:we.modalOverlay,onClick:()=>v(!1),children:a.jsxs("div",{className:we.modal,onClick:y=>y.stopPropagation(),children:[a.jsxs("div",{className:we.modalHeader,children:[a.jsx("h2",{children:S?"Edit Peptide":"New Peptide"}),a.jsx("button",{onClick:()=>v(!1),className:we.closeBtn,children:a.jsx(Rs,{size:24})})]}),a.jsxs("form",{onSubmit:L,className:we.form,children:[a.jsxs("div",{className:we.formRow,children:[a.jsxs("div",{className:we.formGroup,children:[a.jsx("label",{children:"Name *"}),a.jsx("input",{type:"text",value:b.name,onChange:y=>E({...b,name:y.target.value}),required:!0,placeholder:"e.g., Semaglutide"})]}),a.jsxs("div",{className:we.formGroup,children:[a.jsx("label",{children:"Category *"}),a.jsx("select",{value:b.category,onChange:y=>E({...b,category:y.target.value}),children:ug.map(y=>a.jsx("option",{value:y,children:y},y))})]})]}),a.jsxs("div",{className:we.formGroup,children:[a.jsx("label",{children:"Half Life (hours)"}),a.jsx("input",{type:"number",step:"0.1",value:b.half_life_hours,onChange:y=>E({...b,half_life_hours:y.target.value}),placeholder:"e.g., 168"})]}),a.jsxs("div",{className:we.formGroup,children:[a.jsx("label",{children:"Common Dosage"}),a.jsx("input",{type:"text",value:b.common_dosage,onChange:y=>E({...b,common_dosage:y.target.value}),placeholder:"e.g., 0.25mg - 2.4mg weekly"})]}),a.jsxs("div",{className:we.formGroup,children:[a.jsx("label",{children:"Description"}),a.jsx("textarea",{value:b.description,onChange:y=>E({...b,description:y.target.value}),rows:3,placeholder:"Brief description of the peptide..."})]}),a.jsxs("div",{className:we.formGroup,children:[a.jsx("label",{children:"Benefits (one per line)"}),a.jsx("textarea",{value:b.benefits,onChange:y=>E({...b,benefits:y.target.value}),rows:4,placeholder:`Weight loss
Improved insulin sensitivity
Reduced appetite`})]}),a.jsxs("div",{className:we.formGroup,children:[a.jsx("label",{children:"Side Effects (one per line)"}),a.jsx("textarea",{value:b.side_effects,onChange:y=>E({...b,side_effects:y.target.value}),rows:4,placeholder:`Nausea
Headache
Injection site reactions`})]}),a.jsxs("div",{className:we.formGroup,children:[a.jsx("label",{children:"Warnings (one per line)"}),a.jsx("textarea",{value:b.warnings,onChange:y=>E({...b,warnings:y.target.value}),rows:3,placeholder:`Not for pregnant women
Consult doctor before use`})]}),a.jsxs("div",{className:we.formGroup,children:[a.jsx("label",{children:"Research Links (one per line)"}),a.jsx("textarea",{value:b.research_links,onChange:y=>E({...b,research_links:y.target.value}),rows:3,placeholder:"https://pubmed.ncbi.nlm.nih.gov/..."})]}),a.jsxs("div",{className:we.formGroup,children:[a.jsx("label",{children:"Dosage Protocols (JSON format, optional)"}),a.jsx("textarea",{value:b.dosage_protocols,onChange:y=>E({...b,dosage_protocols:y.target.value}),rows:6,placeholder:'[{"name": "Standard Protocol", "dose": "0.25mg", "frequency": "weekly"}]',className:we.codeInput})]}),a.jsxs("div",{className:we.formActions,children:[a.jsx("button",{type:"button",onClick:()=>v(!1),className:we.cancelBtn,children:"Cancel"}),a.jsxs("button",{type:"submit",className:we.saveBtn,disabled:D,children:[a.jsx(Eg,{size:18}),D?"Saving...":S?"Update Peptide":"Create Peptide"]})]})]})]})})]})},DC="_container_wkvpx_1",AC="_header_wkvpx_7",EC="_refreshBtn_wkvpx_27",kC="_spin_wkvpx_50",BC="_successBanner_wkvpx_65",zC="_errorBanner_wkvpx_66",LC="_statsGrid_wkvpx_89",MC="_statCard_wkvpx_96",RC="_statIcon_wkvpx_106",OC="_statInfo_wkvpx_115",UC="_statValue_wkvpx_120",IC="_statLabel_wkvpx_125",HC="_filters_wkvpx_131",qC="_searchBox_wkvpx_137",VC="_filterSelect_wkvpx_165",GC="_loading_wkvpx_177",$C="_emptyState_wkvpx_178",YC="_userList_wkvpx_198",PC="_userCard_wkvpx_204",XC="_userHeader_wkvpx_216",QC="_userAvatar_wkvpx_224",ZC="_adminBadge_wkvpx_245",FC="_userInfo_wkvpx_259",KC="_userName_wkvpx_264",JC="_youBadge_wkvpx_271",WC="_userEmail_wkvpx_279",e4="_userMeta_wkvpx_288",t4="_metaItem_wkvpx_296",a4="_userActions_wkvpx_302",s4="_promoteBtn_wkvpx_308",n4="_demoteBtn_wkvpx_309",i4="_userDetails_wkvpx_349",l4="_detailsGrid_wkvpx_355",r4="_detailCard_wkvpx_362",c4="_detailValue_wkvpx_381",o4="_detailLabel_wkvpx_386",d4="_detailsInfo_wkvpx_391",u4="_infoRow_wkvpx_397",f4="_infoLabel_wkvpx_403",m4="_infoValue_wkvpx_408",h4="_resultsCount_wkvpx_421",de={container:DC,header:AC,refreshBtn:EC,spin:kC,successBanner:BC,errorBanner:zC,statsGrid:LC,statCard:MC,statIcon:RC,statInfo:OC,statValue:UC,statLabel:IC,filters:HC,searchBox:qC,filterSelect:VC,loading:GC,emptyState:$C,userList:YC,userCard:PC,userHeader:XC,userAvatar:QC,adminBadge:ZC,userInfo:FC,userName:KC,youBadge:JC,userEmail:WC,userMeta:e4,metaItem:t4,userActions:a4,promoteBtn:s4,demoteBtn:n4,userDetails:i4,detailsGrid:l4,detailCard:r4,detailValue:c4,detailLabel:o4,detailsInfo:d4,infoRow:u4,infoLabel:f4,infoValue:m4,resultsCount:h4},p4=()=>{const{user:l}=Ct(),[c,o]=j.useState([]),[d,u]=j.useState(!0),[f,h]=j.useState(""),[g,p]=j.useState("all"),[v,S]=j.useState(null),[C,D]=j.useState({}),[V,w]=j.useState(""),[H,M]=j.useState(""),[N,b]=j.useState({total:0,admins:0,newThisWeek:0,activeToday:0});j.useEffect(()=>{E()},[]);const E=async()=>{try{u(!0),M("");const{data:y,error:q}=await K.from("profiles").select("*").order("updated_at",{ascending:!1});if(q)throw q;o(y||[]);const le=new Date,z=new Date(le.getTime()-10080*60*1e3),A=new Date(le.setHours(0,0,0,0));b({total:y?.length||0,admins:y?.filter(ee=>ee.is_admin).length||0,newThisWeek:y?.filter(ee=>ee.updated_at&&new Date(ee.updated_at)>=z).length||0,activeToday:y?.filter(ee=>ee.last_sign_in&&new Date(ee.last_sign_in)>=A).length||0})}catch(y){console.error("Error fetching users:",y),y.code==="PGRST301"||y.message?.includes("permission denied")?M("Access denied. Make sure your account has admin privileges and RLS policies are configured correctly. Check the browser console for details."):y.code==="42501"?M("Database permission error. The RLS policies may need to be updated. Run the FIX_ADMIN_PANEL_NOW.sql script in Supabase Dashboard."):M(`Failed to load users: ${y.message||"Unknown error"}. Check browser console for details.`)}finally{u(!1)}},x=async y=>{if(!C[y])try{const[q,le,z]=await Promise.all([K.from("injections").select("*",{count:"exact",head:!0}).eq("user_id",y),K.from("schedules").select("*",{count:"exact",head:!0}).eq("user_id",y),K.from("reviews").select("*",{count:"exact",head:!0}).eq("user_id",y)]);D(A=>({...A,[y]:{injections:q.count||0,schedules:le.count||0,reviews:z.count||0}}))}catch(q){console.error("Error fetching user stats:",q)}},I=async(y,q,le)=>{const z=!q,A=z?"grant":"revoke";if(window.confirm(`Are you sure you want to ${A} market access for ${le}?`))try{const{error:ee}=await K.from("profiles").update({has_market_access:z}).eq("id",y);if(ee)throw ee;o(te=>te.map(ce=>ce.id===y?{...ce,has_market_access:z}:ce)),R(`Market access ${z?"granted to":"revoked from"} ${le}.`)}catch(ee){console.error("Error updating market access:",ee),M("Failed to update market access. "+(ee.message||"")),setTimeout(()=>M(""),5e3)}},k=async(y,q,le)=>{if(y===l?.id){M("You cannot change your own admin status."),setTimeout(()=>M(""),3e3);return}const z=!q,A=z?"promote":"demote";if(window.confirm(`Are you sure you want to ${A} ${le} ${z?"to":"from"} admin?`))try{const{error:ee}=await K.from("profiles").update({is_admin:z}).eq("id",y);if(ee)throw ee;o(te=>te.map(ce=>ce.id===y?{...ce,is_admin:z}:ce)),R(`${le} has been ${z?"promoted to":"removed from"} admin.`),b(te=>({...te,admins:z?te.admins+1:te.admins-1}))}catch(ee){console.error("Error updating admin status:",ee),M("Failed to update admin status. "+(ee.message||"")),setTimeout(()=>M(""),5e3)}},R=y=>{w(y),setTimeout(()=>w(""),3e3)},Y=y=>{v===y?S(null):(S(y),x(y))},L=y=>y?new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",U=y=>{if(!y)return"Never";const q=Math.floor((new Date-new Date(y))/1e3);return q<60?"just now":q<3600?`${Math.floor(q/60)}m ago`:q<86400?`${Math.floor(q/3600)}h ago`:q<604800?`${Math.floor(q/86400)}d ago`:L(y)},se=(y,q)=>q?q.split(" ").map(le=>le[0]).join("").toUpperCase().slice(0,2):y?y.substring(0,2).toUpperCase():"??",W=c.filter(y=>{const q=(y.email?.toLowerCase()||"").includes(f.toLowerCase())||(y.full_name?.toLowerCase()||"").includes(f.toLowerCase()),le=g==="all"||g==="admin"&&y.is_admin||g==="user"&&!y.is_admin;return q&&le});return a.jsxs("div",{className:de.container,children:[a.jsxs("div",{className:de.header,children:[a.jsxs("div",{children:[a.jsxs("h1",{children:[a.jsx(ci,{size:28})," User Management"]}),a.jsx("p",{children:"Manage user accounts and permissions"})]}),a.jsxs("button",{className:de.refreshBtn,onClick:E,disabled:d,children:[a.jsx(Jt,{size:18,className:d?de.spin:""}),"Refresh"]})]}),V&&a.jsxs("div",{className:de.successBanner,children:[a.jsx(_t,{size:18}),V]}),H&&a.jsxs("div",{className:de.errorBanner,children:[a.jsx(fi,{size:18}),H]}),a.jsxs("div",{className:de.statsGrid,children:[a.jsxs("div",{className:de.statCard,children:[a.jsx("div",{className:de.statIcon,style:{background:"#3b82f620",color:"#3b82f6"},children:a.jsx(ci,{size:24})}),a.jsxs("div",{className:de.statInfo,children:[a.jsx("span",{className:de.statValue,children:N.total}),a.jsx("span",{className:de.statLabel,children:"Total Users"})]})]}),a.jsxs("div",{className:de.statCard,children:[a.jsx("div",{className:de.statIcon,style:{background:"#8b5cf620",color:"#8b5cf6"},children:a.jsx(Kt,{size:24})}),a.jsxs("div",{className:de.statInfo,children:[a.jsx("span",{className:de.statValue,children:N.admins}),a.jsx("span",{className:de.statLabel,children:"Administrators"})]})]}),a.jsxs("div",{className:de.statCard,children:[a.jsx("div",{className:de.statIcon,style:{background:"#10b98120",color:"#10b981"},children:a.jsx(Mt,{size:24})}),a.jsxs("div",{className:de.statInfo,children:[a.jsx("span",{className:de.statValue,children:N.newThisWeek}),a.jsx("span",{className:de.statLabel,children:"New This Week"})]})]}),a.jsxs("div",{className:de.statCard,children:[a.jsx("div",{className:de.statIcon,style:{background:"#f59e0b20",color:"#f59e0b"},children:a.jsx(Wt,{size:24})}),a.jsxs("div",{className:de.statInfo,children:[a.jsx("span",{className:de.statValue,children:N.activeToday}),a.jsx("span",{className:de.statLabel,children:"Active Today"})]})]})]}),a.jsxs("div",{className:de.filters,children:[a.jsxs("div",{className:de.searchBox,children:[a.jsx(sc,{size:20}),a.jsx("input",{type:"text",placeholder:"Search by email or name...",value:f,onChange:y=>h(y.target.value)})]}),a.jsxs("select",{value:g,onChange:y=>p(y.target.value),className:de.filterSelect,children:[a.jsx("option",{value:"all",children:"All Users"}),a.jsx("option",{value:"admin",children:"Admins Only"}),a.jsx("option",{value:"user",children:"Regular Users"})]})]}),d?a.jsxs("div",{className:de.loading,children:[a.jsx(Jt,{size:24,className:de.spin}),"Loading users..."]}):W.length===0?a.jsxs("div",{className:de.emptyState,children:[a.jsx(dx,{size:48}),a.jsx("h3",{children:"No users found"}),a.jsx("p",{children:"Try adjusting your search or filters."})]}):a.jsx("div",{className:de.userList,children:W.map(y=>a.jsxs("div",{className:de.userCard,children:[a.jsxs("div",{className:de.userHeader,onClick:()=>Y(y.id),children:[a.jsxs("div",{className:de.userAvatar,children:[y.avatar_url?a.jsx("img",{src:y.avatar_url,alt:y.email}):a.jsx("span",{children:se(y.email,y.full_name)}),y.is_admin&&a.jsx("div",{className:de.adminBadge,title:"Administrator",children:a.jsx(Kt,{size:10})})]}),a.jsxs("div",{className:de.userInfo,children:[a.jsxs("div",{className:de.userName,children:[y.full_name||"No name set",y.id===l?.id&&a.jsx("span",{className:de.youBadge,children:"You"})]}),a.jsxs("div",{className:de.userEmail,children:[a.jsx(bl,{size:14}),y.email||"No email"]})]}),a.jsxs("div",{className:de.userMeta,children:[a.jsxs("div",{className:de.metaItem,children:[a.jsx(Mt,{size:14}),"Joined ",U(y.updated_at)]}),y.last_sign_in&&a.jsxs("div",{className:de.metaItem,children:[a.jsx(Ta,{size:14}),"Last active ",U(y.last_sign_in)]})]}),a.jsxs("div",{className:de.userActions,children:[a.jsxs("button",{onClick:q=>{q.stopPropagation(),I(y.id,y.has_market_access,y.email)},className:de.promoteBtn,style:{background:y.has_market_access?"rgba(16, 185, 129, 0.15)":"rgba(255, 255, 255, 0.05)",color:y.has_market_access?"#10b981":"var(--text-secondary)",border:y.has_market_access?"1px solid #10b981":"1px solid var(--glass-border)",marginRight:"8px"},title:y.has_market_access?"Revoke Market Access":"Grant Market Access",children:[a.jsx(Kr,{size:16}),y.has_market_access?"Market: ON":"Market: OFF"]}),a.jsxs("button",{onClick:q=>{q.stopPropagation(),k(y.id,y.is_admin,y.email)},className:y.is_admin?de.demoteBtn:de.promoteBtn,disabled:y.id===l?.id,title:y.id===l?.id?"Cannot change own status":y.is_admin?"Remove admin":"Make admin",children:[y.is_admin?a.jsx(ux,{size:16}):a.jsx(Kt,{size:16}),y.is_admin?"Demote":"Promote"]}),v===y.id?a.jsx(Jr,{size:20}):a.jsx(li,{size:20})]})]}),v===y.id&&a.jsxs("div",{className:de.userDetails,children:[a.jsxs("div",{className:de.detailsGrid,children:[a.jsxs("div",{className:de.detailCard,children:[a.jsx(La,{size:20}),a.jsxs("div",{children:[a.jsx("span",{className:de.detailValue,children:C[y.id]?.injections??"..."}),a.jsx("span",{className:de.detailLabel,children:"Injections"})]})]}),a.jsxs("div",{className:de.detailCard,children:[a.jsx(Mt,{size:20}),a.jsxs("div",{children:[a.jsx("span",{className:de.detailValue,children:C[y.id]?.schedules??"..."}),a.jsx("span",{className:de.detailLabel,children:"Schedules"})]})]}),a.jsxs("div",{className:de.detailCard,children:[a.jsx(as,{size:20}),a.jsxs("div",{children:[a.jsx("span",{className:de.detailValue,children:C[y.id]?.reviews??"..."}),a.jsx("span",{className:de.detailLabel,children:"Reviews"})]})]}),a.jsxs("div",{className:de.detailCard,children:[a.jsx(yl,{size:20}),a.jsxs("div",{children:[a.jsx("span",{className:de.detailValue,children:y.is_admin?"Admin":"User"}),a.jsx("span",{className:de.detailLabel,children:"Role"})]})]})]}),a.jsxs("div",{className:de.detailsInfo,children:[a.jsxs("div",{className:de.infoRow,children:[a.jsx("span",{className:de.infoLabel,children:"User ID:"}),a.jsx("code",{className:de.infoValue,children:y.id})]}),a.jsxs("div",{className:de.infoRow,children:[a.jsx("span",{className:de.infoLabel,children:"Registered:"}),a.jsx("span",{className:de.infoValue,children:L(y.updated_at)})]}),a.jsxs("div",{className:de.infoRow,children:[a.jsx("span",{className:de.infoLabel,children:"Last Sign In:"}),a.jsx("span",{className:de.infoValue,children:L(y.last_sign_in)})]}),y.weight_lbs&&a.jsxs("div",{className:de.infoRow,children:[a.jsx("span",{className:de.infoLabel,children:"Weight:"}),a.jsxs("span",{className:de.infoValue,children:[y.weight_lbs," lbs"]})]})]})]})]},y.id))}),!d&&W.length>0&&a.jsxs("div",{className:de.resultsCount,children:["Showing ",W.length," of ",c.length," users"]})]})},g4="_container_1ej4a_1",y4="_header_1ej4a_7",_4="_refreshBtn_1ej4a_27",v4="_spin_1ej4a_48",x4="_successBanner_1ej4a_63",j4="_errorBanner_1ej4a_64",b4="_statsGrid_1ej4a_87",S4="_statCard_1ej4a_94",w4="_statValue_1ej4a_113",N4="_statLabel_1ej4a_118",C4="_tabs_1ej4a_124",T4="_tab_1ej4a_124",D4="_active_1ej4a_147",A4="_filters_1ej4a_154",E4="_searchBox_1ej4a_160",k4="_filterSelect_1ej4a_184",B4="_loading_1ej4a_195",z4="_emptyState_1ej4a_196",L4="_list_1ej4a_212",M4="_item_1ej4a_218",R4="_itemContent_1ej4a_234",O4="_itemHeader_1ej4a_239",U4="_badges_1ej4a_252",I4="_pinnedBadge_1ej4a_257",H4="_lockedBadge_1ej4a_258",q4="_postContent_1ej4a_275",V4="_itemMeta_1ej4a_282",G4="_categoryBadge_1ej4a_296",$4="_itemActions_1ej4a_304",Y4="_pinBtn_1ej4a_310",P4="_unpinBtn_1ej4a_311",X4="_lockBtn_1ej4a_312",Q4="_unlockBtn_1ej4a_313",Z4="_deleteBtn_1ej4a_314",F4="_resultsCount_1ej4a_377",je={container:g4,header:y4,refreshBtn:_4,spin:v4,successBanner:x4,errorBanner:j4,statsGrid:b4,statCard:S4,statValue:w4,statLabel:N4,tabs:C4,tab:T4,active:D4,filters:A4,searchBox:E4,filterSelect:k4,loading:B4,emptyState:z4,list:L4,item:M4,itemContent:R4,itemHeader:O4,badges:U4,pinnedBadge:I4,lockedBadge:H4,postContent:q4,itemMeta:V4,categoryBadge:G4,itemActions:$4,pinBtn:Y4,unpinBtn:P4,lockBtn:X4,unlockBtn:Q4,deleteBtn:Z4,resultsCount:F4},K4=()=>{const[l,c]=j.useState("topics"),[o,d]=j.useState([]),[u,f]=j.useState([]),[h,g]=j.useState(!0),[p,v]=j.useState(""),[S,C]=j.useState(""),[D,V]=j.useState([]),[w,H]=j.useState(""),[M,N]=j.useState(""),[b,E]=j.useState({totalTopics:0,totalPosts:0,activeToday:0});j.useEffect(()=>{x(),I()},[l]);const x=async()=>{try{const{data:A}=await K.from("forum_categories").select("*").order("name");V(A||[])}catch(A){console.error("Error fetching categories:",A)}},I=async()=>{g(!0),N("");try{l==="topics"?await k():await R()}catch(A){console.error("Error fetching data:",A),A.code==="42501"||A.message?.includes("permission denied")?N("Access denied. Run the FIX_ADMIN_PANEL_NOW.sql script in Supabase Dashboard."):N(`Failed to load data: ${A.message||"Unknown error"}`)}g(!1)},k=async()=>{const{data:A,error:ee}=await K.from("forum_topics").select("*").order("created_at",{ascending:!1});if(ee&&(console.warn("Error fetching topics:",ee),ee.code!=="PGRST116"))throw ee;const te=[...new Set((A||[]).map(ve=>ve.user_id).filter(Boolean))],ce=[...new Set((A||[]).map(ve=>ve.category_id).filter(Boolean))],{data:De}=te.length>0?await K.from("profiles").select("id, email, full_name").in("id",te):{data:[]},{data:Se}=ce.length>0?await K.from("forum_categories").select("id, name, slug").in("id",ce):{data:[]},xe=Object.fromEntries((De||[]).map(ve=>[ve.id,ve])),Me=Object.fromEntries((Se||[]).map(ve=>[ve.id,ve])),Q=(A||[]).map(ve=>({...ve,profiles:xe[ve.user_id]||null,forum_categories:Me[ve.category_id]||null}));d(Q);const ie=new Date;ie.setHours(0,0,0,0);const Re=Q.filter(ve=>new Date(ve.created_at)>=ie).length;E(ve=>({...ve,totalTopics:Q.length,activeToday:Re}))},R=async()=>{const{data:A,error:ee}=await K.from("forum_posts").select("*").order("created_at",{ascending:!1}).limit(100);if(ee&&(console.warn("Error fetching posts:",ee),ee.code!=="PGRST116"))throw ee;const te=[...new Set((A||[]).map(ie=>ie.user_id).filter(Boolean))],ce=[...new Set((A||[]).map(ie=>ie.topic_id).filter(Boolean))],{data:De}=te.length>0?await K.from("profiles").select("id, email, full_name").in("id",te):{data:[]},{data:Se}=ce.length>0?await K.from("forum_topics").select("id, title").in("id",ce):{data:[]},xe=Object.fromEntries((De||[]).map(ie=>[ie.id,ie])),Me=Object.fromEntries((Se||[]).map(ie=>[ie.id,ie])),Q=(A||[]).map(ie=>({...ie,profiles:xe[ie.user_id]||null,forum_topics:Me[ie.topic_id]||null}));f(Q),E(ie=>({...ie,totalPosts:Q.length}))},Y=async(A,ee)=>{if(window.confirm(`Delete topic "${ee}" and all its posts? This cannot be undone.`))try{await K.from("forum_posts").delete().eq("topic_id",A);const{error:te}=await K.from("forum_topics").delete().eq("id",A);if(te)throw te;d(ce=>ce.filter(De=>De.id!==A)),W(`Topic "${ee}" deleted`)}catch(te){console.error("Error deleting topic:",te),N("Failed to delete topic")}},L=async A=>{if(window.confirm("Delete this post? This cannot be undone."))try{const{error:ee}=await K.from("forum_posts").delete().eq("id",A);if(ee)throw ee;f(te=>te.filter(ce=>ce.id!==A)),W("Post deleted")}catch(ee){console.error("Error deleting post:",ee),N("Failed to delete post")}},U=async(A,ee)=>{try{const{error:te}=await K.from("forum_topics").update({is_pinned:!ee}).eq("id",A);if(te)throw te;d(ce=>ce.map(De=>De.id===A?{...De,is_pinned:!ee}:De)),W(ee?"Topic unpinned":"Topic pinned")}catch(te){console.error("Error updating topic:",te)}},se=async(A,ee)=>{try{const{error:te}=await K.from("forum_topics").update({is_locked:!ee}).eq("id",A);if(te)throw te;d(ce=>ce.map(De=>De.id===A?{...De,is_locked:!ee}:De)),W(ee?"Topic unlocked":"Topic locked")}catch(te){console.error("Error updating topic:",te)}},W=A=>{H(A),setTimeout(()=>H(""),3e3)},y=A=>new Date(A).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),q=(A,ee=100)=>A?A.length>ee?A.substring(0,ee)+"...":A:"",le=o.filter(A=>{const ee=A.title?.toLowerCase().includes(p.toLowerCase()),te=!S||A.category_id===S;return ee&&te}),z=u.filter(A=>A.content?.toLowerCase().includes(p.toLowerCase()));return a.jsxs("div",{className:je.container,children:[a.jsxs("div",{className:je.header,children:[a.jsxs("div",{children:[a.jsxs("h1",{children:[a.jsx(zs,{size:28})," Forum Moderation"]}),a.jsx("p",{children:"Manage forum topics and posts"})]}),a.jsxs("button",{className:je.refreshBtn,onClick:I,disabled:h,children:[a.jsx(Jt,{size:18,className:h?je.spin:""}),"Refresh"]})]}),w&&a.jsxs("div",{className:je.successBanner,children:[a.jsx(_t,{size:18})," ",w]}),M&&a.jsxs("div",{className:je.errorBanner,children:[a.jsx(fi,{size:18})," ",M]}),a.jsxs("div",{className:je.statsGrid,children:[a.jsxs("div",{className:je.statCard,children:[a.jsx(zs,{size:24}),a.jsxs("div",{children:[a.jsx("span",{className:je.statValue,children:b.totalTopics}),a.jsx("span",{className:je.statLabel,children:"Topics"})]})]}),a.jsxs("div",{className:je.statCard,children:[a.jsx(Lt,{size:24}),a.jsxs("div",{children:[a.jsx("span",{className:je.statValue,children:b.totalPosts}),a.jsx("span",{className:je.statLabel,children:"Posts"})]})]}),a.jsxs("div",{className:je.statCard,children:[a.jsx(Mt,{size:24}),a.jsxs("div",{children:[a.jsx("span",{className:je.statValue,children:b.activeToday}),a.jsx("span",{className:je.statLabel,children:"New Today"})]})]})]}),a.jsxs("div",{className:je.tabs,children:[a.jsxs("button",{className:`${je.tab} ${l==="topics"?je.active:""}`,onClick:()=>c("topics"),children:[a.jsx(zs,{size:18})," Topics"]}),a.jsxs("button",{className:`${je.tab} ${l==="posts"?je.active:""}`,onClick:()=>c("posts"),children:[a.jsx(Lt,{size:18})," Posts"]})]}),a.jsxs("div",{className:je.filters,children:[a.jsxs("div",{className:je.searchBox,children:[a.jsx(sc,{size:20}),a.jsx("input",{type:"text",placeholder:l==="topics"?"Search topics...":"Search posts...",value:p,onChange:A=>v(A.target.value)})]}),l==="topics"&&D.length>0&&a.jsxs("select",{value:S,onChange:A=>C(A.target.value),className:je.filterSelect,children:[a.jsx("option",{value:"",children:"All Categories"}),D.map(A=>a.jsx("option",{value:A.id,children:A.name},A.id))]})]}),h?a.jsxs("div",{className:je.loading,children:[a.jsx(Jt,{size:24,className:je.spin}),"Loading..."]}):l==="topics"?a.jsx("div",{className:je.list,children:le.length===0?a.jsxs("div",{className:je.emptyState,children:[a.jsx(zs,{size:48}),a.jsx("h3",{children:"No topics found"})]}):le.map(A=>a.jsxs("div",{className:je.item,children:[a.jsxs("div",{className:je.itemContent,children:[a.jsxs("div",{className:je.itemHeader,children:[a.jsx("h3",{children:A.title}),a.jsxs("div",{className:je.badges,children:[A.is_pinned&&a.jsx("span",{className:je.pinnedBadge,children:"Pinned"}),A.is_locked&&a.jsx("span",{className:je.lockedBadge,children:"Locked"})]})]}),a.jsxs("div",{className:je.itemMeta,children:[a.jsxs("span",{children:[a.jsx(dn,{size:14})," ",A.profiles?.full_name||A.profiles?.email?.split("@")[0]||"Unknown"]}),a.jsxs("span",{children:[a.jsx(Mt,{size:14})," ",y(A.created_at)]}),A.forum_categories&&a.jsx("span",{className:je.categoryBadge,children:A.forum_categories.name}),a.jsxs("span",{children:[a.jsx(lu,{size:14})," ",A.likes_count||0]}),a.jsxs("span",{children:[a.jsx(Lt,{size:14})," ",A.replies_count||0," replies"]})]})]}),a.jsxs("div",{className:je.itemActions,children:[a.jsx("button",{onClick:()=>U(A.id,A.is_pinned),className:A.is_pinned?je.unpinBtn:je.pinBtn,title:A.is_pinned?"Unpin":"Pin",children:A.is_pinned?"Unpin":"Pin"}),a.jsx("button",{onClick:()=>se(A.id,A.is_locked),className:A.is_locked?je.unlockBtn:je.lockBtn,title:A.is_locked?"Unlock":"Lock",children:A.is_locked?"Unlock":"Lock"}),a.jsx("button",{onClick:()=>Y(A.id,A.title),className:je.deleteBtn,title:"Delete",children:a.jsx(Ft,{size:16})})]})]},A.id))}):a.jsx("div",{className:je.list,children:z.length===0?a.jsxs("div",{className:je.emptyState,children:[a.jsx(Lt,{size:48}),a.jsx("h3",{children:"No posts found"})]}):z.map(A=>a.jsxs("div",{className:je.item,children:[a.jsxs("div",{className:je.itemContent,children:[a.jsx("div",{className:je.itemHeader,children:a.jsx("h4",{children:A.forum_topics?.title||"Unknown Topic"})}),a.jsx("p",{className:je.postContent,children:q(A.content,200)}),a.jsxs("div",{className:je.itemMeta,children:[a.jsxs("span",{children:[a.jsx(dn,{size:14})," ",A.profiles?.full_name||A.profiles?.email?.split("@")[0]||"Unknown"]}),a.jsxs("span",{children:[a.jsx(Mt,{size:14})," ",y(A.created_at)]}),a.jsxs("span",{children:[a.jsx(lu,{size:14})," ",A.likes_count||0]})]})]}),a.jsx("div",{className:je.itemActions,children:a.jsx("button",{onClick:()=>L(A.id),className:je.deleteBtn,title:"Delete",children:a.jsx(Ft,{size:16})})})]},A.id))}),!h&&a.jsxs("div",{className:je.resultsCount,children:["Showing ",l==="topics"?le.length:z.length," items"]})]})},J4="_container_1e7ao_1",W4="_header_1e7ao_7",e3="_refreshBtn_1e7ao_27",t3="_spin_1e7ao_48",a3="_successBanner_1e7ao_63",s3="_errorBanner_1e7ao_64",n3="_statsGrid_1e7ao_87",i3="_statCard_1e7ao_94",l3="_statValue_1e7ao_109",r3="_statLabel_1e7ao_114",c3="_avgRating_1e7ao_119",o3="_filters_1e7ao_133",d3="_searchBox_1e7ao_139",u3="_filterSelect_1e7ao_163",f3="_loading_1e7ao_174",m3="_emptyState_1e7ao_175",h3="_list_1e7ao_195",p3="_reviewCard_1e7ao_201",g3="_reviewHeader_1e7ao_213",y3="_peptideInfo_1e7ao_221",_3="_peptideLink_1e7ao_227",v3="_stars_1e7ao_238",x3="_reviewComment_1e7ao_243",j3="_reviewMeta_1e7ao_250",b3="_deleteBtn_1e7ao_263",S3="_resultsCount_1e7ao_283",qe={container:J4,header:W4,refreshBtn:e3,spin:t3,successBanner:a3,errorBanner:s3,statsGrid:n3,statCard:i3,statValue:l3,statLabel:r3,avgRating:c3,filters:o3,searchBox:d3,filterSelect:u3,loading:f3,emptyState:m3,list:h3,reviewCard:p3,reviewHeader:g3,peptideInfo:y3,peptideLink:_3,stars:v3,reviewComment:x3,reviewMeta:j3,deleteBtn:b3,resultsCount:S3},w3=()=>{const[l,c]=j.useState([]),[o,d]=j.useState(!0),[u,f]=j.useState(""),[h,g]=j.useState(""),[p,v]=j.useState(""),[S,C]=j.useState(""),[D,V]=j.useState({total:0,averageRating:0,fiveStar:0,oneStar:0});j.useEffect(()=>{w()},[]);const w=async()=>{d(!0);try{const{data:x,error:I}=await K.from("reviews").select("*").order("created_at",{ascending:!1});if(I)throw I;const k=[...new Set(x?.map(A=>A.user_id).filter(Boolean))],R=[...new Set(x?.map(A=>A.peptide_name).filter(Boolean))],{data:Y}=k.length>0?await K.from("profiles").select("id, email, full_name").in("id",k):{data:[]},{data:L}=R.length>0?await K.from("peptides").select("id, name").in("name",R):{data:[]},U=Object.fromEntries((Y||[]).map(A=>[A.id,A])),se=Object.fromEntries((L||[]).map(A=>[A.name,A])),W=(x||[]).map(A=>({...A,profiles:U[A.user_id]||null,peptides:se[A.peptide_name]||{name:A.peptide_name}}));c(W);const y=W?.length||0,q=y>0?(W.reduce((A,ee)=>A+(ee.rating||0),0)/y).toFixed(1):0,le=W?.filter(A=>A.rating===5).length||0,z=W?.filter(A=>A.rating===1).length||0;V({total:y,averageRating:q,fiveStar:le,oneStar:z})}catch(x){console.error("Error fetching reviews:",x),x.code==="PGRST301"||x.message?.includes("permission denied")?C("Access denied. RLS policies may need to be configured. Check browser console for details."):x.code==="42501"?C("Database permission error. Run the FIX_ADMIN_PANEL_NOW.sql script in Supabase Dashboard."):C(`Failed to load reviews: ${x.message||"Unknown error"}`)}d(!1)},H=async(x,I)=>{if(window.confirm(`Delete this review for "${I}"? This cannot be undone.`))try{const{error:k}=await K.from("reviews").delete().eq("id",x);if(k)throw k;c(R=>R.filter(Y=>Y.id!==x)),M("Review deleted successfully")}catch(k){console.error("Error deleting review:",k),C("Failed to delete review")}},M=x=>{v(x),setTimeout(()=>v(""),3e3)},N=x=>new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),b=x=>a.jsx("div",{className:qe.stars,children:[1,2,3,4,5].map(I=>a.jsx(as,{size:16,fill:I<=x?"#f59e0b":"transparent",color:I<=x?"#f59e0b":"#6b7280"},I))}),E=l.filter(x=>{const I=x.comment?.toLowerCase().includes(u.toLowerCase())||x.peptides?.name?.toLowerCase().includes(u.toLowerCase())||x.profiles?.email?.toLowerCase().includes(u.toLowerCase()),k=!h||x.rating===parseInt(h);return I&&k});return a.jsxs("div",{className:qe.container,children:[a.jsxs("div",{className:qe.header,children:[a.jsxs("div",{children:[a.jsxs("h1",{children:[a.jsx(as,{size:28})," Review Moderation"]}),a.jsx("p",{children:"Manage peptide reviews"})]}),a.jsxs("button",{className:qe.refreshBtn,onClick:w,disabled:o,children:[a.jsx(Jt,{size:18,className:o?qe.spin:""}),"Refresh"]})]}),p&&a.jsxs("div",{className:qe.successBanner,children:[a.jsx(_t,{size:18})," ",p]}),S&&a.jsxs("div",{className:qe.errorBanner,children:[a.jsx(fi,{size:18})," ",S]}),a.jsxs("div",{className:qe.statsGrid,children:[a.jsxs("div",{className:qe.statCard,children:[a.jsx(as,{size:24,style:{color:"#f59e0b"}}),a.jsxs("div",{children:[a.jsx("span",{className:qe.statValue,children:D.total}),a.jsx("span",{className:qe.statLabel,children:"Total Reviews"})]})]}),a.jsxs("div",{className:qe.statCard,children:[a.jsx("div",{className:qe.avgRating,children:a.jsx("span",{children:D.averageRating})}),a.jsxs("div",{children:[a.jsx("span",{className:qe.statValue,children:"Avg Rating"}),a.jsx("span",{className:qe.statLabel,children:"out of 5"})]})]}),a.jsxs("div",{className:qe.statCard,children:[a.jsx(lu,{size:24,style:{color:"#10b981"}}),a.jsxs("div",{children:[a.jsx("span",{className:qe.statValue,children:D.fiveStar}),a.jsx("span",{className:qe.statLabel,children:"5-Star Reviews"})]})]}),a.jsxs("div",{className:qe.statCard,children:[a.jsx(fx,{size:24,style:{color:"#ef4444"}}),a.jsxs("div",{children:[a.jsx("span",{className:qe.statValue,children:D.oneStar}),a.jsx("span",{className:qe.statLabel,children:"1-Star Reviews"})]})]})]}),a.jsxs("div",{className:qe.filters,children:[a.jsxs("div",{className:qe.searchBox,children:[a.jsx(sc,{size:20}),a.jsx("input",{type:"text",placeholder:"Search reviews by content, peptide, or user...",value:u,onChange:x=>f(x.target.value)})]}),a.jsxs("select",{value:h,onChange:x=>g(x.target.value),className:qe.filterSelect,children:[a.jsx("option",{value:"",children:"All Ratings"}),a.jsx("option",{value:"5",children:"5 Stars"}),a.jsx("option",{value:"4",children:"4 Stars"}),a.jsx("option",{value:"3",children:"3 Stars"}),a.jsx("option",{value:"2",children:"2 Stars"}),a.jsx("option",{value:"1",children:"1 Star"})]})]}),o?a.jsxs("div",{className:qe.loading,children:[a.jsx(Jt,{size:24,className:qe.spin}),"Loading reviews..."]}):E.length===0?a.jsxs("div",{className:qe.emptyState,children:[a.jsx(as,{size:48}),a.jsx("h3",{children:"No reviews found"}),a.jsx("p",{children:"Try adjusting your search or filters"})]}):a.jsx("div",{className:qe.list,children:E.map(x=>a.jsxs("div",{className:qe.reviewCard,children:[a.jsxs("div",{className:qe.reviewHeader,children:[a.jsxs("div",{className:qe.peptideInfo,children:[a.jsx(st,{to:`/encyclopedia/${encodeURIComponent(x.peptides?.name||"")}`,className:qe.peptideLink,children:x.peptides?.name||"Unknown Peptide"}),b(x.rating)]}),a.jsxs("button",{onClick:()=>H(x.id,x.peptides?.name),className:qe.deleteBtn,title:"Delete review",children:[a.jsx(Ft,{size:16}),"Delete"]})]}),x.comment&&a.jsx("p",{className:qe.reviewComment,children:x.comment}),a.jsxs("div",{className:qe.reviewMeta,children:[a.jsxs("span",{children:[a.jsx(dn,{size:14}),x.profiles?.full_name||x.profiles?.email?.split("@")[0]||"Anonymous"]}),a.jsxs("span",{children:[a.jsx(Mt,{size:14}),N(x.created_at)]})]})]},x.id))}),!o&&E.length>0&&a.jsxs("div",{className:qe.resultsCount,children:["Showing ",E.length," of ",l.length," reviews"]})]})},N3="_container_u4ljx_1",C3="_header_u4ljx_7",T3="_headerActions_u4ljx_27",D3="_refreshBtn_u4ljx_32",A3="_scrapeBtn_u4ljx_33",E3="_spin_u4ljx_70",k3="_successBanner_u4ljx_85",B3="_errorBanner_u4ljx_86",z3="_statsGrid_u4ljx_109",L3="_statCard_u4ljx_116",M3="_statValue_u4ljx_135",R3="_statLabel_u4ljx_140",O3="_tabs_u4ljx_146",U3="_tab_u4ljx_146",I3="_active_u4ljx_170",H3="_loading_u4ljx_176",q3="_overview_u4ljx_186",V3="_priceTable_u4ljx_191",G3="_tableHeader_u4ljx_198",$3="_tableRow_u4ljx_199",Y3="_peptideName_u4ljx_222",P3="_minPrice_u4ljx_226",X3="_maxPrice_u4ljx_230",Q3="_vendorList_u4ljx_235",Z3="_vendorCard_u4ljx_241",F3="_vendorInfo_u4ljx_251",K3="_vendorLogo_u4ljx_257",J3="_vendorMeta_u4ljx_279",W3="_inactive_u4ljx_297",eT="_scrapeVendorBtn_u4ljx_301",tT="_priceGrid_u4ljx_321",aT="_priceCard_u4ljx_327",sT="_priceHeader_u4ljx_334",nT="_pricePeptide_u4ljx_340",iT="_priceVendor_u4ljx_344",lT="_priceBody_u4ljx_349",rT="_priceDisplay_u4ljx_353",cT="_priceAmount_u4ljx_359",oT="_editPrice_u4ljx_379",dT="_priceUnit_u4ljx_413",uT="_priceMeta_u4ljx_418",fT="_inStock_u4ljx_424",mT="_outOfStock_u4ljx_428",hT="_lastVerified_u4ljx_432",pT="_logsList_u4ljx_437",gT="_emptyLogs_u4ljx_443",yT="_logItem_u4ljx_452",_T="_success_u4ljx_85",vT="_partial_u4ljx_463",xT="_failed_u4ljx_467",jT="_logHeader_u4ljx_471",bT="_logVendor_u4ljx_477",ST="_logStatus_u4ljx_481",wT="_logDetails_u4ljx_503",NT="_logError_u4ljx_511",CT="_logTime_u4ljx_520",ue={container:N3,header:C3,headerActions:T3,refreshBtn:D3,scrapeBtn:A3,spin:E3,successBanner:k3,errorBanner:B3,statsGrid:z3,statCard:L3,statValue:M3,statLabel:R3,tabs:O3,tab:U3,active:I3,loading:H3,overview:q3,priceTable:V3,tableHeader:G3,tableRow:$3,peptideName:Y3,minPrice:P3,maxPrice:X3,vendorList:Q3,vendorCard:Z3,vendorInfo:F3,vendorLogo:K3,vendorMeta:J3,inactive:W3,scrapeVendorBtn:eT,priceGrid:tT,priceCard:aT,priceHeader:sT,pricePeptide:nT,priceVendor:iT,priceBody:lT,priceDisplay:rT,priceAmount:cT,editPrice:oT,priceUnit:dT,priceMeta:uT,inStock:fT,outOfStock:mT,lastVerified:hT,logsList:pT,emptyLogs:gT,logItem:yT,success:_T,partial:vT,failed:xT,logHeader:jT,logVendor:bT,logStatus:ST,logDetails:wT,logError:NT,logTime:CT},TT=()=>{const[l,c]=j.useState([]),[o,d]=j.useState([]),[u,f]=j.useState([]),[h,g]=j.useState(!0),[p,v]=j.useState(!1),[S,C]=j.useState(null),[D,V]=j.useState("overview"),[w,H]=j.useState(null),[M,N]=j.useState(""),[b,E]=j.useState(""),[x,I]=j.useState("");j.useEffect(()=>{k()},[]);const k=async()=>{g(!0);try{const{data:y}=await K.from("vendors").select("*").order("name");c(y||[]);const{data:q}=await K.from("peptide_prices").select(`
                    *,
                    vendors:vendor_id (name, slug, logo_emoji)
                `).order("peptide_name");d(q||[]);const{data:le}=await K.from("scrape_logs").select(`
                    *,
                    vendors:vendor_id (name)
                `).order("created_at",{ascending:!1}).limit(50);f(le||[])}catch(y){console.error("Error fetching data:",y),I("Failed to load data")}g(!1)},R=async(y=null)=>{v(!0),I("");try{const{data:{session:q}}=await K.auth.getSession();if(!q)throw new Error("Not authenticated");const le=y?l.filter(ee=>ee.slug===y):l.filter(ee=>ee.is_active);if(le.length===0)throw new Error("No active vendors found to scrape");let z=0,A=[];for(const ee of le){C(ee.slug);try{const te=await fetch("https://nhiwjerqyhtpienorzky.supabase.co/functions/v1/scrape-prices",{method:"POST",headers:{Authorization:`Bearer ${q.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({vendor_slug:ee.slug})}),ce=await te.json();if(!te.ok)throw new Error(ce.error||"Scrape failed");z++}catch(te){console.error(`Error scraping ${ee.name}:`,te),A.push(`${ee.name}: ${te.message}`)}}A.length>0?z>0?(I(`Partial success. Errors: ${A.join("; ")}`),L(`Scraped ${z} vendors successfully.`)):I(`Scrape failed: ${A.join("; ")}`):L(`Scrape completed: ${z} vendor(s) processed`),k()}catch(q){console.error("Scrape error:",q),I(`Scrape failed: ${q.message}`)}v(!1),C(null)},Y=async(y,q)=>{try{const{error:le}=await K.from("peptide_prices").update({price:parseFloat(q),updated_at:new Date().toISOString(),last_verified_at:new Date().toISOString()}).eq("id",y);if(le)throw le;L("Price updated"),H(null),k()}catch{I("Failed to update price")}},L=y=>{E(y),setTimeout(()=>E(""),3e3)},U=y=>y?new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",se=()=>{const y={};return o.forEach(q=>{y[q.peptide_slug]||(y[q.peptide_slug]={name:q.peptide_name,prices:[]}),y[q.peptide_slug].prices.push(q.price)}),Object.entries(y).map(([q,le])=>({slug:q,name:le.name,minPrice:Math.min(...le.prices),maxPrice:Math.max(...le.prices),avgPrice:(le.prices.reduce((z,A)=>z+A,0)/le.prices.length).toFixed(2),vendorCount:le.prices.length})).sort((q,le)=>q.name.localeCompare(le.name))},W={totalVendors:l.length,activeVendors:l.filter(y=>y.is_active).length,totalPrices:o.length,lastScrape:u[0]?.created_at||null};return a.jsxs("div",{className:ue.container,children:[a.jsxs("div",{className:ue.header,children:[a.jsxs("div",{children:[a.jsxs("h1",{children:[a.jsx(Kr,{size:28})," Price Management"]}),a.jsx("p",{children:"Monitor and manage peptide prices across vendors"})]}),a.jsxs("div",{className:ue.headerActions,children:[a.jsxs("button",{className:ue.refreshBtn,onClick:k,disabled:h,children:[a.jsx(Jt,{size:18,className:h?ue.spin:""}),"Refresh"]}),a.jsxs("button",{className:ue.scrapeBtn,onClick:()=>R(),disabled:p,children:[a.jsx(bp,{size:18,className:p?ue.spin:""}),p?"Scraping...":"Scrape All"]})]})]}),b&&a.jsxs("div",{className:ue.successBanner,children:[a.jsx(_t,{size:18})," ",b]}),x&&a.jsxs("div",{className:ue.errorBanner,children:[a.jsx(fi,{size:18})," ",x]}),a.jsxs("div",{className:ue.statsGrid,children:[a.jsxs("div",{className:ue.statCard,children:[a.jsx(Ms,{size:24}),a.jsxs("div",{children:[a.jsx("span",{className:ue.statValue,children:W.totalVendors}),a.jsx("span",{className:ue.statLabel,children:"Vendors"})]})]}),a.jsxs("div",{className:ue.statCard,children:[a.jsx(Kr,{size:24}),a.jsxs("div",{children:[a.jsx("span",{className:ue.statValue,children:W.totalPrices}),a.jsx("span",{className:ue.statLabel,children:"Price Records"})]})]}),a.jsxs("div",{className:ue.statCard,children:[a.jsx(yl,{size:24}),a.jsxs("div",{children:[a.jsx("span",{className:ue.statValue,children:se().length}),a.jsx("span",{className:ue.statLabel,children:"Peptides Tracked"})]})]}),a.jsxs("div",{className:ue.statCard,children:[a.jsx(Ta,{size:24}),a.jsxs("div",{children:[a.jsx("span",{className:ue.statValue,children:U(W.lastScrape)}),a.jsx("span",{className:ue.statLabel,children:"Last Scrape"})]})]})]}),a.jsxs("div",{className:ue.tabs,children:[a.jsx("button",{className:`${ue.tab} ${D==="overview"?ue.active:""}`,onClick:()=>V("overview"),children:"Overview"}),a.jsx("button",{className:`${ue.tab} ${D==="vendors"?ue.active:""}`,onClick:()=>V("vendors"),children:"Vendors"}),a.jsx("button",{className:`${ue.tab} ${D==="prices"?ue.active:""}`,onClick:()=>V("prices"),children:"All Prices"}),a.jsx("button",{className:`${ue.tab} ${D==="logs"?ue.active:""}`,onClick:()=>V("logs"),children:"Scrape Logs"})]}),h?a.jsxs("div",{className:ue.loading,children:[a.jsx(Jt,{size:32,className:ue.spin}),"Loading..."]}):a.jsxs(a.Fragment,{children:[D==="overview"&&a.jsxs("div",{className:ue.overview,children:[a.jsx("h2",{children:"Price Summary by Peptide"}),a.jsxs("div",{className:ue.priceTable,children:[a.jsxs("div",{className:ue.tableHeader,children:[a.jsx("span",{children:"Peptide"}),a.jsx("span",{children:"Min Price"}),a.jsx("span",{children:"Max Price"}),a.jsx("span",{children:"Avg Price"}),a.jsx("span",{children:"Vendors"})]}),se().map(y=>a.jsxs("div",{className:ue.tableRow,children:[a.jsx("span",{className:ue.peptideName,children:y.name}),a.jsxs("span",{className:ue.minPrice,children:["$",y.minPrice.toFixed(2)]}),a.jsxs("span",{className:ue.maxPrice,children:["$",y.maxPrice.toFixed(2)]}),a.jsxs("span",{children:["$",y.avgPrice]}),a.jsx("span",{children:y.vendorCount})]},y.slug))]})]}),D==="vendors"&&a.jsx("div",{className:ue.vendorList,children:l.map(y=>a.jsxs("div",{className:ue.vendorCard,children:[a.jsxs("div",{className:ue.vendorInfo,children:[a.jsx("span",{className:ue.vendorLogo,children:y.logo_emoji}),a.jsxs("div",{children:[a.jsx("h3",{children:y.name}),a.jsx("p",{children:a.jsxs("a",{href:y.website_url,target:"_blank",rel:"noopener noreferrer",children:[y.website_url," ",a.jsx(hu,{size:12})]})})]})]}),a.jsxs("div",{className:ue.vendorMeta,children:[a.jsxs("span",{children:[a.jsx(Ta,{size:14}),"Last scraped: ",U(y.last_scraped_at)]}),a.jsx("span",{className:y.is_active?ue.active:ue.inactive,children:y.is_active?"Active":"Inactive"})]}),a.jsx("button",{className:ue.scrapeVendorBtn,onClick:()=>R(y.slug),disabled:p,children:S===y.slug?a.jsxs(a.Fragment,{children:[a.jsx(Jt,{size:16,className:ue.spin})," Scraping..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bp,{size:16})," Scrape Now"]})})]},y.id))}),D==="prices"&&a.jsx("div",{className:ue.allPrices,children:a.jsx("div",{className:ue.priceGrid,children:o.map(y=>a.jsxs("div",{className:ue.priceCard,children:[a.jsxs("div",{className:ue.priceHeader,children:[a.jsx("span",{className:ue.pricePeptide,children:y.peptide_name}),a.jsxs("span",{className:ue.priceVendor,children:[y.vendors?.logo_emoji," ",y.vendors?.name]})]}),a.jsxs("div",{className:ue.priceBody,children:[w===y.id?a.jsxs("div",{className:ue.editPrice,children:[a.jsx("input",{type:"number",value:M,onChange:q=>N(q.target.value),step:"0.01",min:"0"}),a.jsx("button",{onClick:()=>Y(y.id,M),children:a.jsx(Eg,{size:16})}),a.jsx("button",{onClick:()=>H(null),children:a.jsx(Rs,{size:16})})]}):a.jsxs("div",{className:ue.priceDisplay,children:[a.jsxs("span",{className:ue.priceAmount,children:["$",y.price.toFixed(2)]}),a.jsx("button",{onClick:()=>{H(y.id),N(y.price)},children:a.jsx(ks,{size:14})})]}),a.jsxs("span",{className:ue.priceUnit,children:["per ",y.unit]})]}),a.jsxs("div",{className:ue.priceMeta,children:[a.jsx("span",{className:y.in_stock?ue.inStock:ue.outOfStock,children:y.in_stock?" In Stock":" Out of Stock"}),a.jsx("span",{className:ue.lastVerified,children:U(y.last_verified_at)})]})]},y.id))})}),D==="logs"&&a.jsx("div",{className:ue.logsSection,children:a.jsx("div",{className:ue.logsList,children:u.length===0?a.jsxs("div",{className:ue.emptyLogs,children:[a.jsx(on,{size:32}),a.jsx("p",{children:"No scrape logs yet. Run a scrape to see results."})]}):u.map(y=>a.jsxs("div",{className:`${ue.logItem} ${ue[y.status]}`,children:[a.jsxs("div",{className:ue.logHeader,children:[a.jsx("span",{className:ue.logVendor,children:y.vendors?.name||"Unknown"}),a.jsx("span",{className:`${ue.logStatus} ${ue[y.status]}`,children:y.status})]}),a.jsxs("div",{className:ue.logDetails,children:[a.jsxs("span",{children:["Products found: ",y.products_found]}),a.jsxs("span",{children:["Products updated: ",y.products_updated]}),a.jsxs("span",{children:["Duration: ",y.duration_ms,"ms"]})]}),y.error_message&&a.jsx("div",{className:ue.logError,children:y.error_message}),a.jsx("div",{className:ue.logTime,children:U(y.created_at)})]},y.id))})})]})]})},DT=()=>{const[l,c]=j.useState(!1);j.useEffect(()=>{localStorage.getItem("cookie_consent")||c(!0)},[]);const o=()=>{localStorage.setItem("cookie_consent","accepted"),c(!1)};return l?a.jsxs("div",{style:{position:"fixed",bottom:"20px",left:"20px",right:"20px",maxWidth:"500px",background:"rgba(15, 23, 42, 0.95)",backdropFilter:"blur(10px)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-md)",padding:"1.5rem",zIndex:1e3,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",gap:"1rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"1rem"},children:[a.jsx("div",{style:{padding:"0.5rem",background:"rgba(59, 130, 246, 0.1)",borderRadius:"50%",color:"#3b82f6"},children:a.jsx(mx,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1rem"},children:"We use cookies"}),a.jsxs("p",{style:{margin:0,fontSize:"0.875rem",color:"var(--text-secondary)",lineHeight:"1.5"},children:["We use cookies to enhance your experience, analyze site traffic, and ensure security. By continuing to use our site, you consent to our use of cookies.",a.jsx("a",{href:"/privacy",style:{color:"var(--accent-primary)",marginLeft:"0.5rem"},children:"Learn more"})]})]})]}),a.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:a.jsx("button",{onClick:o,className:"btn-primary",style:{padding:"0.5rem 1.5rem",fontSize:"0.875rem"},children:"Accept All"})})]}):null},AT="_container_1ruxw_1",ET="_header_1ruxw_24",kT="_newTicketBtn_1ruxw_50",BT="_backBtn_1ruxw_70",zT="_ticketsList_1ruxw_91",LT="_ticketCard_1ruxw_97",MT="_ticketInfo_1ruxw_115",RT="_ticketMeta_1ruxw_131",OT="_chevron_1ruxw_139",UT="_statusBadge_1ruxw_144",IT="_emptyState_1ruxw_157",HT="_formTitle_1ruxw_192",qT="_form_1ruxw_192",VT="_formRow_1ruxw_207",GT="_formGroup_1ruxw_213",$T="_submitBtn_1ruxw_250",YT="_ticketDetail_1ruxw_273",PT="_ticketHeader_1ruxw_280",XT="_ticketDescription_1ruxw_295",QT="_messagesSection_1ruxw_310",ZT="_messagesList_1ruxw_316",FT="_noMessages_1ruxw_325",KT="_message_1ruxw_310",JT="_userMessage_1ruxw_336",WT="_adminMessage_1ruxw_342",e5="_messageHeader_1ruxw_348",t5="_replyForm_1ruxw_367",a5="_error_1ruxw_408",s5="_loading_1ruxw_417",Le={container:AT,header:ET,newTicketBtn:kT,backBtn:BT,ticketsList:zT,ticketCard:LT,ticketInfo:MT,ticketMeta:RT,chevron:OT,statusBadge:UT,emptyState:IT,formTitle:HT,form:qT,formRow:VT,formGroup:GT,submitBtn:$T,ticketDetail:YT,ticketHeader:PT,ticketDescription:XT,messagesSection:QT,messagesList:ZT,noMessages:FT,message:KT,userMessage:JT,adminMessage:WT,messageHeader:e5,replyForm:t5,error:a5,loading:s5},n5=()=>{const{user:l}=Ct(),[c,o]=j.useState([]),[d,u]=j.useState(!0),[f,h]=j.useState(null),[g,p]=j.useState(!1),[v,S]=j.useState(null),[C,D]=j.useState(""),[V,w]=j.useState(!1),[H,M]=j.useState({subject:"",description:"",category:"general",priority:"normal"}),N=zt.getCategories(),b=zt.getPriorities(),E=zt.getStatuses();j.useEffect(()=>{x()},[]);const x=async()=>{try{u(!0);const U=await zt.getMyTickets();o(U||[])}catch(U){h("Failed to load tickets"),console.error(U)}finally{u(!1)}},I=async U=>{if(U.preventDefault(),!(!H.subject.trim()||!H.description.trim()))try{w(!0),await zt.createTicket(H),M({subject:"",description:"",category:"general",priority:"normal"}),p(!1),await x()}catch(se){h("Failed to create ticket"),console.error(se)}finally{w(!1)}},k=async U=>{if(U.preventDefault(),!(!C.trim()||!v))try{w(!0),await zt.addMessage(v.id,C),D("");const se=await zt.getTicket(v.id);S(se),await x()}catch(se){h("Failed to send message"),console.error(se)}finally{w(!1)}},R=U=>{switch(U){case"open":return a.jsx(Ma,{size:16});case"in_progress":return a.jsx(Ta,{size:16});case"resolved":return a.jsx(_t,{size:16});default:return a.jsx(Lt,{size:16})}},Y=U=>({color:E.find(W=>W.id===U)?.color||"#6b7280"}),L=U=>new Date(U).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return l?v?a.jsxs("div",{className:Le.container,children:[a.jsxs("button",{className:Le.backBtn,onClick:()=>S(null),children:[a.jsx(Zr,{size:18}),"Back to Tickets"]}),a.jsxs("div",{className:Le.ticketDetail,children:[a.jsxs("div",{className:Le.ticketHeader,children:[a.jsx("h1",{children:v.subject}),a.jsxs("span",{className:Le.statusBadge,style:Y(v.status),children:[R(v.status),v.status.replace("_"," ")]})]}),a.jsxs("div",{className:Le.ticketMeta,children:[a.jsxs("span",{children:["Category: ",N.find(U=>U.id===v.category)?.label]}),a.jsxs("span",{children:["Created: ",L(v.created_at)]})]}),a.jsx("div",{className:Le.ticketDescription,children:a.jsx("p",{children:v.description})}),a.jsxs("div",{className:Le.messagesSection,children:[a.jsx("h3",{children:"Messages"}),a.jsxs("div",{className:Le.messagesList,children:[v.ticket_messages?.length===0&&a.jsx("p",{className:Le.noMessages,children:"No messages yet. Add a reply below."}),v.ticket_messages?.map(U=>a.jsxs("div",{className:`${Le.message} ${U.is_admin_reply?Le.adminMessage:Le.userMessage}`,children:[a.jsxs("div",{className:Le.messageHeader,children:[a.jsx("span",{children:U.is_admin_reply?" Support":" You"}),a.jsx("span",{children:L(U.created_at)})]}),a.jsx("p",{children:U.message})]},U.id))]}),v.status!=="closed"&&a.jsxs("form",{onSubmit:k,className:Le.replyForm,children:[a.jsx("textarea",{placeholder:"Type your reply...",value:C,onChange:U=>D(U.target.value),rows:3}),a.jsxs("button",{type:"submit",disabled:V||!C.trim(),children:[a.jsx(kg,{size:18}),"Send Reply"]})]})]})]})]}):g?a.jsxs("div",{className:Le.container,children:[a.jsxs("button",{className:Le.backBtn,onClick:()=>p(!1),children:[a.jsx(Zr,{size:18}),"Back to Tickets"]}),a.jsxs("div",{className:"card glass-panel",children:[a.jsx("h2",{className:Le.formTitle,children:"Create New Ticket"}),a.jsxs("form",{onSubmit:I,className:Le.form,children:[a.jsxs("div",{className:Le.formGroup,children:[a.jsx("label",{children:"Subject"}),a.jsx("input",{type:"text",placeholder:"Brief description of your issue",value:H.subject,onChange:U=>M({...H,subject:U.target.value}),required:!0})]}),a.jsxs("div",{className:Le.formRow,children:[a.jsxs("div",{className:Le.formGroup,children:[a.jsx("label",{children:"Category"}),a.jsx("select",{value:H.category,onChange:U=>M({...H,category:U.target.value}),children:N.map(U=>a.jsx("option",{value:U.id,children:U.label},U.id))})]}),a.jsxs("div",{className:Le.formGroup,children:[a.jsx("label",{children:"Priority"}),a.jsx("select",{value:H.priority,onChange:U=>M({...H,priority:U.target.value}),children:b.map(U=>a.jsx("option",{value:U.id,children:U.label},U.id))})]})]}),a.jsxs("div",{className:Le.formGroup,children:[a.jsx("label",{children:"Description"}),a.jsx("textarea",{placeholder:"Please describe your issue in detail...",value:H.description,onChange:U=>M({...H,description:U.target.value}),rows:6,required:!0})]}),a.jsx("button",{type:"submit",className:Le.submitBtn,disabled:V,children:V?"Creating...":"Create Ticket"})]})]})]}):a.jsxs("div",{className:Le.container,children:[a.jsxs("div",{className:Le.header,children:[a.jsxs("div",{children:[a.jsxs("h1",{children:[a.jsx(Lt,{size:28}),"Support Tickets"]}),a.jsx("p",{children:"Get help from our support team"})]}),a.jsxs("button",{className:Le.newTicketBtn,onClick:()=>p(!0),children:[a.jsx(Ls,{size:18}),"New Ticket"]})]}),f&&a.jsx("div",{className:Le.error,children:f}),d?a.jsx("div",{className:Le.loading,children:"Loading tickets..."}):c.length===0?a.jsxs("div",{className:Le.emptyState,children:[a.jsx(Lt,{size:48}),a.jsx("h2",{children:"No Tickets Yet"}),a.jsx("p",{children:"Create a ticket to get help from our support team."}),a.jsxs("button",{onClick:()=>p(!0),children:[a.jsx(Ls,{size:18}),"Create Your First Ticket"]})]}):a.jsx("div",{className:Le.ticketsList,children:c.map(U=>a.jsxs("div",{className:Le.ticketCard,onClick:()=>S(U),children:[a.jsxs("div",{className:Le.ticketInfo,children:[a.jsxs("span",{className:Le.statusBadge,style:Y(U.status),children:[R(U.status),U.status.replace("_"," ")]}),a.jsx("h3",{children:U.subject}),a.jsxs("p",{children:[U.description.substring(0,100),"..."]}),a.jsxs("div",{className:Le.ticketMeta,children:[a.jsx("span",{children:N.find(se=>se.id===U.category)?.label}),a.jsx("span",{children:""}),a.jsx("span",{children:L(U.updated_at)}),a.jsx("span",{children:""}),a.jsxs("span",{children:[U.ticket_messages?.length||0," messages"]})]})]}),a.jsx(ri,{size:20,className:Le.chevron})]},U.id))})]}):a.jsx("div",{className:Le.container,children:a.jsxs("div",{className:Le.emptyState,children:[a.jsx(Lt,{size:48}),a.jsx("h2",{children:"Support Tickets"}),a.jsx("p",{children:"Please log in to view and create support tickets."})]})})},i5="_container_8ifs8_1",l5="_header_8ifs8_7",r5="_stats_8ifs8_28",c5="_statItem_8ifs8_33",o5="_filters_8ifs8_41",d5="_content_8ifs8_58",u5="_ticketsList_8ifs8_66",f5="_ticketCard_8ifs8_75",m5="_selected_8ifs8_88",h5="_ticketTop_8ifs8_93",p5="_priority_8ifs8_100",g5="_status_8ifs8_106",y5="_userInfo_8ifs8_124",_5="_ticketMeta_8ifs8_133",v5="_ticketDetail_8ifs8_141",x5="_noSelection_8ifs8_150",j5="_detailHeader_8ifs8_165",b5="_detailMeta_8ifs8_171",S5="_statusSelect_8ifs8_185",w5="_description_8ifs8_205",N5="_messages_8ifs8_226",C5="_noMessages_8ifs8_238",T5="_message_8ifs8_226",D5="_userMsg_8ifs8_250",A5="_adminMsg_8ifs8_255",E5="_msgHeader_8ifs8_260",k5="_replyForm_8ifs8_278",B5="_error_8ifs8_319",z5="_loading_8ifs8_328",L5="_empty_8ifs8_329",Qe={container:i5,header:l5,stats:r5,statItem:c5,filters:o5,content:d5,ticketsList:u5,ticketCard:f5,selected:m5,ticketTop:h5,priority:p5,status:g5,userInfo:y5,ticketMeta:_5,ticketDetail:v5,noSelection:x5,detailHeader:j5,detailMeta:b5,statusSelect:S5,description:w5,messages:N5,noMessages:C5,message:T5,userMsg:D5,adminMsg:A5,msgHeader:E5,replyForm:k5,error:B5,loading:z5,empty:L5},M5=()=>{const[l,c]=j.useState([]),[o,d]=j.useState(!0),[u,f]=j.useState(null),[h,g]=j.useState(null),[p,v]=j.useState(""),[S,C]=j.useState(""),[D,V]=j.useState(!1),w=zt.getStatuses(),H=zt.getCategories(),M=zt.getPriorities();j.useEffect(()=>{N()},[p]);const N=async()=>{try{d(!0),f(null);const L=await zt.getAllTickets(p||null);c(L||[])}catch(L){f("Failed to load tickets"),console.error(L)}finally{d(!1)}},b=async(L,U)=>{try{if(await zt.updateTicketStatus(L,U),await N(),h?.id===L){const se=await zt.getTicket(L);g(se)}}catch(se){f("Failed to update status"),console.error(se)}},E=async L=>{if(L.preventDefault(),!(!S.trim()||!h))try{V(!0),await zt.addMessage(h.id,S,!0),C("");const U=await zt.getTicket(h.id);g(U),await N()}catch(U){f("Failed to send reply"),console.error(U)}finally{V(!1)}},x=L=>{switch(L){case"open":return a.jsx(Ma,{size:14});case"in_progress":return a.jsx(Ta,{size:14});case"resolved":return a.jsx(_t,{size:14});default:return a.jsx(Lt,{size:14})}},I=L=>w.find(se=>se.id===L)?.color||"#6b7280",k=L=>M.find(se=>se.id===L)?.color||"#6b7280",R=L=>new Date(L).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Y={all:l.length,open:l.filter(L=>L.status==="open").length,in_progress:l.filter(L=>L.status==="in_progress").length,resolved:l.filter(L=>L.status==="resolved").length};return a.jsxs("div",{className:Qe.container,children:[a.jsxs("div",{className:Qe.header,children:[a.jsxs("h1",{children:[a.jsx(Lt,{size:28}),"Support Tickets"]}),a.jsxs("div",{className:Qe.stats,children:[a.jsxs("span",{className:Qe.statItem,children:[a.jsx(Ma,{size:16,style:{color:"#3b82f6"}}),Y.open," Open"]}),a.jsxs("span",{className:Qe.statItem,children:[a.jsx(Ta,{size:16,style:{color:"#f59e0b"}}),Y.in_progress," In Progress"]}),a.jsxs("span",{className:Qe.statItem,children:[a.jsx(_t,{size:16,style:{color:"#10b981"}}),Y.resolved," Resolved"]})]})]}),a.jsxs("div",{className:Qe.filters,children:[a.jsx(Bg,{size:18}),a.jsxs("select",{value:p,onChange:L=>v(L.target.value),children:[a.jsx("option",{value:"",children:"All Tickets"}),w.map(L=>a.jsx("option",{value:L.id,children:L.label},L.id))]})]}),u&&a.jsx("div",{className:Qe.error,children:u}),a.jsxs("div",{className:Qe.content,children:[a.jsx("div",{className:Qe.ticketsList,children:o?a.jsx("div",{className:Qe.loading,children:"Loading..."}):l.length===0?a.jsx("div",{className:Qe.empty,children:"No tickets found"}):l.map(L=>a.jsxs("div",{className:`${Qe.ticketCard} ${h?.id===L.id?Qe.selected:""}`,onClick:()=>g(L),children:[a.jsxs("div",{className:Qe.ticketTop,children:[a.jsx("span",{className:Qe.priority,style:{background:k(L.priority)}}),a.jsxs("span",{className:Qe.status,style:{color:I(L.status)},children:[x(L.status),L.status.replace("_"," ")]})]}),a.jsx("h3",{children:L.subject}),a.jsxs("p",{className:Qe.userInfo,children:[a.jsx(dn,{size:14}),L.profiles?.email||"Unknown"]}),a.jsxs("div",{className:Qe.ticketMeta,children:[a.jsx("span",{children:H.find(U=>U.id===L.category)?.label}),a.jsx("span",{children:R(L.updated_at)})]})]},L.id))}),a.jsx("div",{className:Qe.ticketDetail,children:h?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:Qe.detailHeader,children:[a.jsx("h2",{children:h.subject}),a.jsxs("div",{className:Qe.detailMeta,children:[a.jsxs("span",{children:[a.jsx(dn,{size:16}),h.profiles?.email]}),a.jsx("span",{children:R(h.created_at)})]})]}),a.jsxs("div",{className:Qe.statusSelect,children:[a.jsx("label",{children:"Status:"}),a.jsx("select",{value:h.status,onChange:L=>b(h.id,L.target.value),children:w.map(L=>a.jsx("option",{value:L.id,children:L.label},L.id))})]}),a.jsxs("div",{className:Qe.description,children:[a.jsx("h4",{children:"Description"}),a.jsx("p",{children:h.description})]}),a.jsxs("div",{className:Qe.messages,children:[a.jsx("h4",{children:"Conversation"}),h.ticket_messages?.length===0?a.jsx("p",{className:Qe.noMessages,children:"No messages yet"}):h.ticket_messages?.map(L=>a.jsxs("div",{className:`${Qe.message} ${L.is_admin_reply?Qe.adminMsg:Qe.userMsg}`,children:[a.jsxs("div",{className:Qe.msgHeader,children:[a.jsx("span",{children:L.is_admin_reply?" Admin":" User"}),a.jsx("span",{children:R(L.created_at)})]}),a.jsx("p",{children:L.message})]},L.id))]}),a.jsxs("form",{onSubmit:E,className:Qe.replyForm,children:[a.jsx("textarea",{placeholder:"Type your reply...",value:S,onChange:L=>C(L.target.value),rows:3}),a.jsxs("button",{type:"submit",disabled:D||!S.trim(),children:[a.jsx(kg,{size:18}),"Send Reply"]})]})]}):a.jsxs("div",{className:Qe.noSelection,children:[a.jsx(Lt,{size:48}),a.jsx("p",{children:"Select a ticket to view details"})]})})]})]})},R5="_container_1mf7s_1",O5="_header_1mf7s_7",U5="_headerActions_1mf7s_26",I5="_viewToggle_1mf7s_32",H5="_viewBtn_1mf7s_40",q5="_active_1mf7s_57",V5="_refreshBtn_1mf7s_62",G5="_statsGrid_1mf7s_82",$5="_statCard_1mf7s_89",Y5="_statValue_1mf7s_99",P5="_statLabel_1mf7s_108",X5="_filters_1mf7s_115",Q5="_filterIcon_1mf7s_123",Z5="_dateFilter_1mf7s_140",F5="_clearBtn_1mf7s_156",K5="_timeline_1mf7s_167",J5="_timelineItem_1mf7s_188",W5="_expanded_1mf7s_206",eD="_timelineIcon_1mf7s_215",tD="_timelineContent_1mf7s_231",aD="_timelineHeader_1mf7s_236",sD="_timelineDescription_1mf7s_243",nD="_timelineTime_1mf7s_250",iD="_timelineMeta_1mf7s_260",lD="_categoryBadge_1mf7s_268",rD="_entityId_1mf7s_280",cD="_changeDetails_1mf7s_287",oD="_changeList_1mf7s_316",dD="_changeItem_1mf7s_322",uD="_changeLabel_1mf7s_331",fD="_changeValues_1mf7s_338",mD="_oldValue_1mf7s_345",hD="_arrow_1mf7s_351",pD="_newValue_1mf7s_355",gD="_setValue_1mf7s_360",yD="_exactTime_1mf7s_365",_D="_rawData_1mf7s_376",vD="_tableWrapper_1mf7s_390",xD="_table_1mf7s_390",jD="_timestamp_1mf7s_428",bD="_user_1mf7s_434",SD="_activity_1mf7s_441",wD="_details_1mf7s_446",ND="_pagination_1mf7s_477",CD="_loading_1mf7s_515",TD="_spinner_1mf7s_525",DD="_empty_1mf7s_534",AD="_error_1mf7s_548",ge={container:R5,header:O5,headerActions:U5,viewToggle:I5,viewBtn:H5,active:q5,refreshBtn:V5,statsGrid:G5,statCard:$5,statValue:Y5,statLabel:P5,filters:X5,filterIcon:Q5,dateFilter:Z5,clearBtn:F5,timeline:K5,timelineItem:J5,expanded:W5,timelineIcon:eD,timelineContent:tD,timelineHeader:aD,timelineDescription:sD,timelineTime:nD,timelineMeta:iD,categoryBadge:lD,entityId:rD,changeDetails:cD,changeList:oD,changeItem:dD,changeLabel:uD,changeValues:fD,oldValue:mD,arrow:hD,newValue:pD,setValue:gD,exactTime:yD,rawData:_D,tableWrapper:vD,table:xD,timestamp:jD,user:bD,activity:SD,details:wD,pagination:ND,loading:CD,spinner:TD,empty:DD,error:AD},fg={login:pl,logout:Ag,profile_updated:Sp,profile_created:iu,injection_created:Ls,injection_updated:ks,injection_deleted:Ft,schedule_created:Mt,schedule_updated:ks,schedule_deleted:Ft,schedule_completed:_t,review_created:as,review_updated:ks,review_deleted:Ft,inventory_created:ac,inventory_updated:ks,inventory_deleted:Ft,export_data:xl,password_changed:gx,email_changed:bl,settings_updated:Sp,notification_sent:mu,ticket_created:zs,ticket_updated:ks,admin_action:Kt,view:jl,error:on,default:Wt},ED=()=>{const[l,c]=j.useState([]),[o,d]=j.useState(!0),[u,f]=j.useState(null),[h,g]=j.useState(0),[p,v]=j.useState(null),[S,C]=j.useState("timeline"),[D,V]=j.useState(null),[w,H]=j.useState({action:"",entityType:"",startDate:"",endDate:""}),[M,N]=j.useState(0),b=50,[E,x]=j.useState([]),[I,k]=j.useState([]);j.useEffect(()=>{R(),Y()},[]),j.useEffect(()=>{L()},[M,w]);const R=async()=>{try{const[Q,ie]=await Promise.all([Bs.getActionTypes(),Bs.getEntityTypes()]);x(Q),k(ie)}catch(Q){console.error("Failed to load filter options:",Q)}},Y=async()=>{try{const Q=await Bs.getStats(7);v(Q)}catch(Q){console.error("Failed to load stats:",Q)}},L=async()=>{try{d(!0),f(null);const{data:Q,count:ie}=await Bs.getAllLogs({limit:b,offset:M*b,action:w.action||null,entityType:w.entityType||null,startDate:w.startDate||null,endDate:w.endDate||null});c(Q||[]),g(ie||0)}catch(Q){f("Failed to load audit logs"),console.error(Q)}finally{d(!1)}},U=(Q,ie)=>{H(Re=>({...Re,[Q]:ie})),N(0)},se=()=>{H({action:"",entityType:"",startDate:"",endDate:""}),N(0)},W=Q=>{const ie=new Date,Re=new Date(Q),ve=Math.floor((ie-Re)/1e3);return ve<60?"Just now":ve<3600?`${Math.floor(ve/60)} min ago`:ve<86400?`${Math.floor(ve/3600)} hours ago`:ve<604800?`${Math.floor(ve/86400)} days ago`:Re.toLocaleDateString("en-US",{month:"short",day:"numeric",year:Re.getFullYear()!==ie.getFullYear()?"numeric":void 0})},y=Q=>new Date(Q).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),q=Q=>{const ie=Q.profiles?.full_name||Q.profiles?.email?.split("@")[0]||"Someone",Re=Q.entity_type?Q.entity_type.replace(/_/g," "):"";return{login:()=>`${ie} signed in`,logout:()=>`${ie} signed out`,profile_updated:()=>`${ie} updated their profile`,profile_created:()=>`${ie} created an account`,injection_created:()=>`${ie} logged a new injection${le(Q)}`,injection_updated:()=>`${ie} updated an injection record`,injection_deleted:()=>`${ie} deleted an injection record`,schedule_created:()=>`${ie} created a new schedule${z(Q)}`,schedule_updated:()=>`${ie} updated a schedule`,schedule_deleted:()=>`${ie} deleted a schedule`,schedule_completed:()=>`${ie} marked a dose as complete`,review_created:()=>`${ie} wrote a review${A(Q)}`,review_updated:()=>`${ie} edited a review`,review_deleted:()=>`${ie} deleted a review`,inventory_created:()=>`${ie} added to inventory${ee(Q)}`,inventory_updated:()=>`${ie} updated inventory`,inventory_deleted:()=>`${ie} removed from inventory`,export_data:()=>`${ie} exported their data`,password_changed:()=>`${ie} changed their password`,email_changed:()=>`${ie} changed their email`,settings_updated:()=>`${ie} updated settings`,notification_sent:()=>`Notification sent to ${ie}`,ticket_created:()=>`${ie} opened a support ticket`,ticket_updated:()=>"Support ticket updated",admin_action:()=>`Admin action by ${ie}`,view:()=>`${ie} viewed ${Re}`}[Q.action]?.()||`${ie} performed ${Q.action.replace(/_/g," ")} on ${Re}`},le=Q=>{const ie=Q.new_values||Q.metadata;return ie&&ie.peptide_name?` of ${ie.peptide_name}`:""},z=Q=>{const ie=Q.new_values||Q.metadata;return ie&&ie.peptide_name?` for ${ie.peptide_name}`:""},A=Q=>{const ie=Q.new_values||Q.metadata;return ie?ie.peptide_name?` for ${ie.peptide_name}`:ie.rating?` (${ie.rating})`:"":""},ee=Q=>{const ie=Q.new_values||Q.metadata;return ie&&ie.peptide_name?`: ${ie.peptide_name}`:""},te=Q=>{if(!Q.new_values&&!Q.old_values&&!Q.metadata)return null;const ie=[],Re=Q.new_values||{},ve=Q.old_values||{},bt={...Q.metadata||{},...Re},oe=["id","user_id","created_at","updated_at","profile_id"];return Object.entries(bt).forEach(([$e,qt])=>{if(oe.includes($e)||qt==null)return;const ca=$e.replace(/_/g," ").replace(/\b\w/g,Os=>Os.toUpperCase()),oa=ve[$e];oa!==void 0&&oa!==qt?ie.push({type:"changed",label:ca,oldValue:ce(oa),newValue:ce(qt)}):ve[$e]||ie.push({type:"set",label:ca,value:ce(qt)})}),ie.length>0?ie:null},ce=Q=>Q==null?"None":typeof Q=="boolean"?Q?"Yes":"No":typeof Q=="object"?JSON.stringify(Q):typeof Q=="number"?Q.toLocaleString():String(Q),De=Q=>fg[Q]||fg.default,Se=Q=>Q.includes("login")||Q.includes("logout")||Q.includes("password")||Q.includes("email")?"auth":Q.includes("injection")?"injection":Q.includes("schedule")?"schedule":Q.includes("review")?"review":Q.includes("inventory")?"inventory":Q.includes("profile")||Q.includes("settings")?"profile":Q.includes("admin")||Q.includes("ticket")?"admin":"other",xe={auth:"#8b5cf6",injection:"#10b981",schedule:"#3b82f6",review:"#f59e0b",inventory:"#06b6d4",profile:"#ec4899",admin:"#ef4444",other:"#6b7280"},Me=Math.ceil(h/b);return a.jsxs("div",{className:ge.container,children:[a.jsxs("div",{className:ge.header,children:[a.jsxs("h1",{children:[a.jsx(Wt,{size:28}),"Activity Log"]}),a.jsxs("div",{className:ge.headerActions,children:[a.jsxs("div",{className:ge.viewToggle,children:[a.jsx("button",{className:`${ge.viewBtn} ${S==="timeline"?ge.active:""}`,onClick:()=>C("timeline"),title:"Timeline View",children:a.jsx(hx,{size:18})}),a.jsx("button",{className:`${ge.viewBtn} ${S==="table"?ge.active:""}`,onClick:()=>C("table"),title:"Table View",children:a.jsx(px,{size:18})})]}),a.jsxs("button",{className:ge.refreshBtn,onClick:()=>{L(),Y()},children:[a.jsx(Jt,{size:18}),"Refresh"]})]})]}),p&&a.jsxs("div",{className:ge.statsGrid,children:[a.jsxs("div",{className:ge.statCard,children:[a.jsx("span",{className:ge.statValue,children:p.total}),a.jsx("span",{className:ge.statLabel,children:"Events (7 days)"})]}),a.jsxs("div",{className:ge.statCard,children:[a.jsx("span",{className:ge.statValue,children:Object.keys(p.byAction).length}),a.jsx("span",{className:ge.statLabel,children:"Action Types"})]}),a.jsxs("div",{className:ge.statCard,children:[a.jsx("span",{className:ge.statValue,children:Object.keys(p.byDay).length}),a.jsx("span",{className:ge.statLabel,children:"Active Days"})]}),a.jsxs("div",{className:ge.statCard,children:[a.jsx("span",{className:ge.statValue,children:Math.round(p.total/Math.max(Object.keys(p.byDay).length,1))}),a.jsx("span",{className:ge.statLabel,children:"Avg/Day"})]})]}),a.jsxs("div",{className:ge.filters,children:[a.jsxs("div",{className:ge.filterIcon,children:[a.jsx(Bg,{size:18}),"Filters:"]}),a.jsxs("select",{value:w.action,onChange:Q=>U("action",Q.target.value),children:[a.jsx("option",{value:"",children:"All Actions"}),E.map(Q=>a.jsx("option",{value:Q,children:Bs.formatAction(Q)},Q))]}),a.jsxs("select",{value:w.entityType,onChange:Q=>U("entityType",Q.target.value),children:[a.jsx("option",{value:"",children:"All Entities"}),I.map(Q=>a.jsx("option",{value:Q,children:Q},Q))]}),a.jsxs("div",{className:ge.dateFilter,children:[a.jsx(Mt,{size:16}),a.jsx("input",{type:"date",value:w.startDate,onChange:Q=>U("startDate",Q.target.value),placeholder:"Start date"}),a.jsx("span",{children:"to"}),a.jsx("input",{type:"date",value:w.endDate,onChange:Q=>U("endDate",Q.target.value),placeholder:"End date"})]}),(w.action||w.entityType||w.startDate||w.endDate)&&a.jsx("button",{className:ge.clearBtn,onClick:se,children:"Clear"})]}),u&&a.jsx("div",{className:ge.error,children:u}),S==="timeline"&&a.jsx("div",{className:ge.timeline,children:o?a.jsxs("div",{className:ge.loading,children:[a.jsx(Jt,{size:24,className:ge.spinner}),"Loading activity..."]}):l.length===0?a.jsxs("div",{className:ge.empty,children:[a.jsx(Wt,{size:48}),a.jsx("p",{children:"No activity found"})]}):l.map(Q=>{const ie=De(Q.action),Re=Se(Q.action),ve=xe[Re],ot=te(Q),bt=D===Q.id;return a.jsxs("div",{className:`${ge.timelineItem} ${bt?ge.expanded:""}`,onClick:()=>V(bt?null:Q.id),children:[a.jsx("div",{className:ge.timelineIcon,style:{backgroundColor:`${ve}20`,color:ve},children:a.jsx(ie,{size:18})}),a.jsxs("div",{className:ge.timelineContent,children:[a.jsxs("div",{className:ge.timelineHeader,children:[a.jsx("p",{className:ge.timelineDescription,children:q(Q)}),a.jsxs("span",{className:ge.timelineTime,title:y(Q.created_at),children:[a.jsx(Ta,{size:12}),W(Q.created_at)]})]}),Q.entity_type&&a.jsxs("div",{className:ge.timelineMeta,children:[a.jsx("span",{className:ge.categoryBadge,style:{backgroundColor:`${ve}15`,color:ve,borderColor:`${ve}30`},children:Q.entity_type}),Q.entity_id&&a.jsxs("span",{className:ge.entityId,children:["ID: ",Q.entity_id.substring(0,8),"..."]})]}),bt&&ot&&a.jsxs("div",{className:ge.changeDetails,children:[a.jsx("h4",{children:"Changes"}),a.jsx("div",{className:ge.changeList,children:ot.map((oe,$e)=>a.jsxs("div",{className:ge.changeItem,children:[a.jsx("span",{className:ge.changeLabel,children:oe.label}),oe.type==="changed"?a.jsxs("div",{className:ge.changeValues,children:[a.jsx("span",{className:ge.oldValue,children:oe.oldValue}),a.jsx("span",{className:ge.arrow,children:""}),a.jsx("span",{className:ge.newValue,children:oe.newValue})]}):a.jsx("span",{className:ge.setValue,children:oe.value})]},$e))}),a.jsxs("div",{className:ge.exactTime,children:[a.jsx(Ta,{size:12}),y(Q.created_at)]})]}),bt&&!ot&&(Q.new_values||Q.metadata)&&a.jsxs("div",{className:ge.changeDetails,children:[a.jsx("h4",{children:"Raw Data"}),a.jsx("pre",{className:ge.rawData,children:JSON.stringify(Q.new_values||Q.metadata,null,2)})]})]})]},Q.id)})}),S==="table"&&a.jsx("div",{className:ge.tableWrapper,children:a.jsxs("table",{className:ge.table,children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Time"}),a.jsx("th",{children:"User"}),a.jsx("th",{children:"Activity"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Details"})]})}),a.jsx("tbody",{children:o?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:ge.loading,children:"Loading..."})}):l.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:ge.empty,children:"No logs found"})}):l.map(Q=>{const ie=Se(Q.action),Re=xe[ie];return a.jsxs("tr",{children:[a.jsx("td",{className:ge.timestamp,title:y(Q.created_at),children:W(Q.created_at)}),a.jsxs("td",{className:ge.user,children:[a.jsx(dn,{size:14}),Q.profiles?.full_name||Q.profiles?.email?.split("@")[0]||"System"]}),a.jsx("td",{className:ge.activity,children:q(Q)}),a.jsx("td",{children:a.jsx("span",{className:ge.categoryBadge,style:{backgroundColor:`${Re}15`,color:Re,borderColor:`${Re}30`},children:Q.entity_type||ie})}),a.jsx("td",{className:ge.details,children:(Q.new_values||Q.metadata)&&a.jsxs("details",{children:[a.jsx("summary",{children:"View"}),a.jsx("pre",{children:JSON.stringify(Q.new_values||Q.metadata,null,2)})]})})]},Q.id)})})]})}),h>b&&a.jsxs("div",{className:ge.pagination,children:[a.jsxs("button",{disabled:M===0,onClick:()=>N(Q=>Q-1),children:[a.jsx(fu,{size:18}),"Previous"]}),a.jsxs("span",{children:["Page ",M+1," of ",Me," (",h," total)"]}),a.jsxs("button",{disabled:M>=Me-1,onClick:()=>N(Q=>Q+1),children:["Next",a.jsx(ri,{size:18})]})]})]})},ei={DEBUG:0,INFO:1,WARN:2,ERROR:3,CRITICAL:4};let sn=[];const mg=100,Es={async healthCheck(){const l=performance.now(),c={timestamp:new Date().toISOString(),status:"healthy",version:"1.0.0",checks:{}};try{const{error:o}=await K.from("profiles").select("id").limit(1);c.checks.database={status:o?"unhealthy":"healthy",latency:Math.round(performance.now()-l)};const{data:d}=await K.auth.getSession();c.checks.auth={status:"healthy",sessionActive:!!d?.session},c.checks.storage={status:"healthy"};const u=Object.values(c.checks).some(f=>f.status!=="healthy");c.status=u?"degraded":"healthy",c.responseTime=Math.round(performance.now()-l)}catch(o){c.status="unhealthy",c.error=o.message}return c},getUptimeConfig(){return{endpoints:[{name:"Main App",url:window.location.origin,checkInterval:60,expectedStatus:200},{name:"API Health",url:"https://nhiwjerqyhtpienorzky.supabase.co/rest/v1/",checkInterval:60,expectedStatus:200,headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5oaXdqZXJxeWh0cGllbm9yemt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQxODU1MDEsImV4cCI6MjA3OTc2MTUwMX0.F4vRdN3qeH2ONDxoIgchW3Pn21KsGAWavwdnD3zkxhI"}}],providers:{uptimeRobot:"https://uptimerobot.com - Free tier: 50 monitors",checkly:"https://checklyhq.com - Free tier: 5 checks",betterUptime:"https://betteruptime.com - Free tier: 10 monitors"}}},log(l,c,o={}){const d={id:crypto.randomUUID(),timestamp:new Date().toISOString(),level:l.toUpperCase(),message:c,context:{...o,url:window.location.href,userAgent:navigator.userAgent,userId:o.userId||null}};return sn.unshift(d),sn.length>mg&&(sn=sn.slice(0,mg)),console[l==="error"||l==="critical"?"error":l==="warn"?"warn":l==="debug"?"debug":"log"](`[${l.toUpperCase()}] ${c}`,o),ei[l.toUpperCase()]>=ei.ERROR&&this._sendToExternalLogger(d),d},debug(l,c){return this.log("debug",l,c)},info(l,c){return this.log("info",l,c)},warn(l,c){return this.log("warn",l,c)},error(l,c){return this.log("error",l,c)},critical(l,c){return this.log("critical",l,c)},getRecentLogs(l=50,c=null){let o=sn.slice(0,l);if(c){const d=ei[c.toUpperCase()]||0;o=o.filter(u=>ei[u.level]>=d)}return o},async persistLogs(){if(sn.length===0)return{success:!0,count:0};try{const l=sn.filter(c=>ei[c.level]>=ei.WARN);if(l.length>0){const{error:c}=await K.from("system_logs").insert(l.map(o=>({level:o.level,message:o.message,context:o.context,created_at:o.timestamp})));if(c)throw c}return{success:!0,count:l.length}}catch(l){return console.error("Failed to persist logs:",l),{success:!1,error:l.message}}},_sendToExternalLogger(l){window.Sentry&&(l.level==="CRITICAL"||l.level==="ERROR")&&window.Sentry.captureMessage(l.message,{level:l.level.toLowerCase(),extra:l.context}),window.LogRocket&&window.LogRocket.log(l.message,l.context)},alerts:[],alertSubscribers:[],createAlert(l,c,o,d="info",u={}){const f={id:crypto.randomUUID(),type:l,title:c,message:o,severity:d,metadata:u,createdAt:new Date().toISOString(),acknowledged:!1};return this.alerts.unshift(f),this.alerts.length>50&&(this.alerts=this.alerts.slice(0,50)),this.alertSubscribers.forEach(h=>{try{h(f)}catch(g){console.error("Alert subscriber error:",g)}}),this.log(d==="critical"?"critical":"warn",`Alert: ${c}`,{alert:f}),(d==="critical"||d==="error")&&this._sendExternalAlert(f),f},onAlert(l){return this.alertSubscribers.push(l),()=>{this.alertSubscribers=this.alertSubscribers.filter(c=>c!==l)}},getAlerts(l=!1){return l?this.alerts:this.alerts.filter(c=>!c.acknowledged)},acknowledgeAlert(l){const c=this.alerts.find(o=>o.id===l);return c&&(c.acknowledged=!0,c.acknowledgedAt=new Date().toISOString()),c},async _sendExternalAlert(l){},metrics:{webVitals:{},apiCalls:[],pageLoads:[],errors:[]},initWebVitals(){if("PerformanceObserver"in window){try{new PerformanceObserver(c=>{const o=c.getEntries(),d=o[o.length-1];this.metrics.webVitals.lcp={value:d.startTime,rating:d.startTime<2500?"good":d.startTime<4e3?"needs-improvement":"poor"}}).observe({type:"largest-contentful-paint",buffered:!0})}catch{}try{new PerformanceObserver(c=>{c.getEntries().forEach(d=>{this.metrics.webVitals.fid={value:d.processingStart-d.startTime,rating:d.processingStart-d.startTime<100?"good":"needs-improvement"}})}).observe({type:"first-input",buffered:!0})}catch{}try{let l=0;new PerformanceObserver(o=>{o.getEntries().forEach(d=>{d.hadRecentInput||(l+=d.value)}),this.metrics.webVitals.cls={value:l,rating:l<.1?"good":l<.25?"needs-improvement":"poor"}}).observe({type:"layout-shift",buffered:!0})}catch{}}if(performance.getEntriesByType){const l=performance.getEntriesByType("navigation")[0];l&&(this.metrics.webVitals.ttfb={value:l.responseStart,rating:l.responseStart<800?"good":l.responseStart<1800?"needs-improvement":"poor"})}window.addEventListener("DOMContentLoaded",()=>{this.metrics.webVitals.dcl={value:performance.now(),timestamp:new Date().toISOString()}}),window.addEventListener("load",()=>{this.metrics.webVitals.load={value:performance.now(),timestamp:new Date().toISOString()},setTimeout(()=>{this.info("Page load complete",{webVitals:this.metrics.webVitals})},1e3)})},trackApiCall(l,c,o,d,u=null){const f={endpoint:l,method:c,duration:o,status:d,error:u,timestamp:new Date().toISOString()};return this.metrics.apiCalls.unshift(f),this.metrics.apiCalls.length>100&&(this.metrics.apiCalls=this.metrics.apiCalls.slice(0,100)),o>3e3&&this.createAlert("performance","Slow API Call",`${c} ${l} took ${o}ms`,"warning",{duration:o,status:d}),d>=500&&this.createAlert("error","API Error",`${c} ${l} returned ${d}`,"error",{status:d,error:u}),f},getPerformanceSummary(){const l=this.metrics.apiCalls,c=l.length>0?l.reduce((d,u)=>d+u.duration,0)/l.length:0,o=l.length>0?l.filter(d=>d.status>=400).length/l.length*100:0;return{webVitals:this.metrics.webVitals,apiPerformance:{totalCalls:l.length,avgDuration:Math.round(c),errorRate:Math.round(o*100)/100,slowCalls:l.filter(d=>d.duration>1e3).length},alerts:{total:this.alerts.length,unacknowledged:this.alerts.filter(d=>!d.acknowledged).length,critical:this.alerts.filter(d=>d.severity==="critical").length}}},async sendMetrics(){const l=this.getPerformanceSummary();return window.newrelic&&(window.newrelic.setCustomAttribute("lcp",l.webVitals.lcp?.value),window.newrelic.setCustomAttribute("fid",l.webVitals.fid?.value),window.newrelic.setCustomAttribute("cls",l.webVitals.cls?.value)),window.DD_RUM&&window.DD_RUM.addAction("performance_summary",l),l}};typeof window<"u"&&Es.initWebVitals();const kD="_container_5pexh_1",BD="_header_5pexh_7",zD="_headerActions_5pexh_33",LD="_autoRefresh_5pexh_39",MD="_refreshBtn_5pexh_52",RD="_spin_5pexh_71",OD="_section_5pexh_86",UD="_healthGrid_5pexh_104",ID="_healthMain_5pexh_111",HD="_statusIndicator_5pexh_117",qD="_timestamp_5pexh_138",VD="_healthChecks_5pexh_143",GD="_checkItem_5pexh_149",$D="_checkIcon_5pexh_158",YD="_checkName_5pexh_162",PD="_checkStatus_5pexh_168",XD="_checkLatency_5pexh_174",QD="_vitalsGrid_5pexh_181",ZD="_vitalCard_5pexh_188",FD="_vitalHeader_5pexh_195",KD="_vitalLabel_5pexh_202",JD="_vitalRating_5pexh_208",WD="_vitalValue_5pexh_214",eA="_vitalUnit_5pexh_220",tA="_vitalDesc_5pexh_226",aA="_apiStats_5pexh_233",sA="_apiStat_5pexh_233",nA="_apiStatValue_5pexh_245",iA="_apiStatLabel_5pexh_252",lA="_alertBadge_5pexh_258",rA="_alertList_5pexh_273",cA="_alertItem_5pexh_281",oA="_acknowledged_5pexh_290",dA="_alertSeverity_5pexh_294",uA="_alertContent_5pexh_301",fA="_alertHeader_5pexh_305",mA="_alertTitle_5pexh_311",hA="_alertTime_5pexh_316",pA="_alertMessage_5pexh_321",gA="_ackBtn_5pexh_327",yA="_logList_5pexh_338",_A="_logItem_5pexh_348",vA="_logLevel_5pexh_356",xA="_logMessage_5pexh_361",jA="_logTime_5pexh_369",bA="_integrations_5pexh_374",SA="_integrationCard_5pexh_380",wA="_intStatus_5pexh_398",NA="_emptyState_5pexh_403",CA="_loading_5pexh_417",me={container:kD,header:BD,headerActions:zD,autoRefresh:LD,refreshBtn:MD,spin:RD,section:OD,healthGrid:UD,healthMain:ID,statusIndicator:HD,timestamp:qD,healthChecks:VD,checkItem:GD,checkIcon:$D,checkName:YD,checkStatus:PD,checkLatency:XD,vitalsGrid:QD,vitalCard:ZD,vitalHeader:FD,vitalLabel:KD,vitalRating:JD,vitalValue:WD,vitalUnit:eA,vitalDesc:tA,apiStats:aA,apiStat:sA,apiStatValue:nA,apiStatLabel:iA,alertBadge:lA,alertList:rA,alertItem:cA,acknowledged:oA,alertSeverity:dA,alertContent:uA,alertHeader:fA,alertTitle:mA,alertTime:hA,alertMessage:pA,ackBtn:gA,logList:yA,logItem:_A,logLevel:vA,logMessage:xA,logTime:jA,integrations:bA,integrationCard:SA,intStatus:wA,emptyState:NA,loading:CA},TA=()=>{const[l,c]=j.useState(null),[o,d]=j.useState(null),[u,f]=j.useState([]),[h,g]=j.useState([]),[p,v]=j.useState(!0),[S,C]=j.useState(!0);j.useEffect(()=>{D();const b=Es.onAlert(x=>{f(I=>[x,...I].slice(0,20))});let E;return S&&(E=setInterval(D,3e4)),()=>{b(),E&&clearInterval(E)}},[S]);const D=async()=>{v(!0);try{const[b,E]=await Promise.all([Es.healthCheck(),Promise.resolve(Es.getPerformanceSummary())]);c(b),d(E),f(Es.getAlerts(!0)),g(Es.getRecentLogs(20))}catch(b){console.error("Failed to load monitoring data:",b)}finally{v(!1)}},V=b=>{Es.acknowledgeAlert(b),f(Es.getAlerts(!0))},w=b=>{switch(b){case"healthy":return"#10b981";case"degraded":return"#f59e0b";case"unhealthy":return"#ef4444";default:return"#6b7280"}},H=b=>{switch(b){case"good":return"#10b981";case"needs-improvement":return"#f59e0b";case"poor":return"#ef4444";default:return"#6b7280"}},M=b=>{switch(b){case"critical":return"#ef4444";case"error":return"#f87171";case"warning":return"#f59e0b";default:return"#3b82f6"}},N=b=>{switch(b){case"CRITICAL":return"#ef4444";case"ERROR":return"#f87171";case"WARN":return"#f59e0b";case"INFO":return"#3b82f6";default:return"#6b7280"}};return a.jsxs("div",{className:me.container,children:[a.jsxs("div",{className:me.header,children:[a.jsxs("div",{children:[a.jsxs("h1",{children:[a.jsx(Wt,{size:28})," System Monitoring"]}),a.jsx("p",{children:"Real-time system health, performance, and alerts"})]}),a.jsxs("div",{className:me.headerActions,children:[a.jsxs("label",{className:me.autoRefresh,children:[a.jsx("input",{type:"checkbox",checked:S,onChange:b=>C(b.target.checked)}),"Auto-refresh"]}),a.jsxs("button",{onClick:D,disabled:p,className:me.refreshBtn,children:[a.jsx(Jt,{size:18,className:p?me.spin:""}),"Refresh"]})]})]}),a.jsxs("div",{className:me.section,children:[a.jsxs("h2",{children:[a.jsx(zg,{size:20})," System Health"]}),l?a.jsxs("div",{className:me.healthGrid,children:[a.jsxs("div",{className:me.healthMain,children:[a.jsx("div",{className:me.statusIndicator,style:{background:w(l.status)},children:l.status==="healthy"?a.jsx(_t,{size:32}):l.status==="degraded"?a.jsx(on,{size:32}):a.jsx(fi,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{style:{color:w(l.status)},children:l.status.toUpperCase()}),a.jsxs("p",{children:["Response time: ",l.responseTime,"ms"]}),a.jsx("p",{className:me.timestamp,children:l.timestamp})]})]}),a.jsx("div",{className:me.healthChecks,children:Object.entries(l.checks||{}).map(([b,E])=>a.jsxs("div",{className:me.checkItem,children:[a.jsx("span",{className:me.checkIcon,children:E.status==="healthy"?a.jsx(yx,{size:16,color:"#10b981"}):a.jsx(_x,{size:16,color:"#ef4444"})}),a.jsx("span",{className:me.checkName,children:b}),a.jsx("span",{className:me.checkStatus,style:{color:w(E.status)},children:E.status}),E.latency&&a.jsxs("span",{className:me.checkLatency,children:[E.latency,"ms"]})]},b))})]}):a.jsx("p",{className:me.loading,children:"Loading health status..."})]}),a.jsxs("div",{className:me.section,children:[a.jsxs("h2",{children:[a.jsx(Tg,{size:20})," Performance (Web Vitals)"]}),o?.webVitals?a.jsx("div",{className:me.vitalsGrid,children:[{key:"lcp",label:"LCP",unit:"ms",desc:"Largest Contentful Paint"},{key:"fid",label:"FID",unit:"ms",desc:"First Input Delay"},{key:"cls",label:"CLS",unit:"",desc:"Cumulative Layout Shift"},{key:"ttfb",label:"TTFB",unit:"ms",desc:"Time to First Byte"}].map(b=>{const E=o.webVitals[b.key];return a.jsxs("div",{className:me.vitalCard,children:[a.jsxs("div",{className:me.vitalHeader,children:[a.jsx("span",{className:me.vitalLabel,children:b.label}),E?.rating&&a.jsx("span",{className:me.vitalRating,style:{color:H(E.rating)},children:E.rating})]}),a.jsx("div",{className:me.vitalValue,children:E?.value!==void 0?a.jsxs(a.Fragment,{children:[b.key==="cls"?E.value.toFixed(3):Math.round(E.value),b.unit&&a.jsx("span",{className:me.vitalUnit,children:b.unit})]}):""}),a.jsx("p",{className:me.vitalDesc,children:b.desc})]},b.key)})}):a.jsx("p",{className:me.loading,children:"Loading performance metrics..."}),o?.apiPerformance&&a.jsxs("div",{className:me.apiStats,children:[a.jsxs("div",{className:me.apiStat,children:[a.jsx("span",{className:me.apiStatValue,children:o.apiPerformance.totalCalls}),a.jsx("span",{className:me.apiStatLabel,children:"API Calls"})]}),a.jsxs("div",{className:me.apiStat,children:[a.jsxs("span",{className:me.apiStatValue,children:[o.apiPerformance.avgDuration,"ms"]}),a.jsx("span",{className:me.apiStatLabel,children:"Avg Duration"})]}),a.jsxs("div",{className:me.apiStat,children:[a.jsxs("span",{className:me.apiStatValue,children:[o.apiPerformance.errorRate,"%"]}),a.jsx("span",{className:me.apiStatLabel,children:"Error Rate"})]}),a.jsxs("div",{className:me.apiStat,children:[a.jsx("span",{className:me.apiStatValue,children:o.apiPerformance.slowCalls}),a.jsx("span",{className:me.apiStatLabel,children:"Slow Calls (>1s)"})]})]})]}),a.jsxs("div",{className:me.section,children:[a.jsxs("h2",{children:[a.jsx(mu,{size:20}),"Alerts",u.filter(b=>!b.acknowledged).length>0&&a.jsx("span",{className:me.alertBadge,children:u.filter(b=>!b.acknowledged).length})]}),u.length===0?a.jsxs("div",{className:me.emptyState,children:[a.jsx(_t,{size:32}),a.jsx("p",{children:"No alerts"})]}):a.jsx("div",{className:me.alertList,children:u.map(b=>a.jsxs("div",{className:`${me.alertItem} ${b.acknowledged?me.acknowledged:""}`,children:[a.jsx("div",{className:me.alertSeverity,style:{background:M(b.severity)}}),a.jsxs("div",{className:me.alertContent,children:[a.jsxs("div",{className:me.alertHeader,children:[a.jsx("span",{className:me.alertTitle,children:b.title}),a.jsx("span",{className:me.alertTime,children:new Date(b.createdAt).toLocaleTimeString()})]}),a.jsx("p",{className:me.alertMessage,children:b.message})]}),!b.acknowledged&&a.jsx("button",{onClick:()=>V(b.id),className:me.ackBtn,children:"Acknowledge"})]},b.id))})]}),a.jsxs("div",{className:me.section,children:[a.jsxs("h2",{children:[a.jsx(Ms,{size:20})," Recent Logs"]}),h.length===0?a.jsx("div",{className:me.emptyState,children:a.jsx("p",{children:"No recent logs"})}):a.jsx("div",{className:me.logList,children:h.map(b=>a.jsxs("div",{className:me.logItem,children:[a.jsx("span",{className:me.logLevel,style:{color:N(b.level)},children:b.level}),a.jsx("span",{className:me.logMessage,children:b.message}),a.jsx("span",{className:me.logTime,children:new Date(b.timestamp).toLocaleTimeString()})]},b.id))})]}),a.jsxs("div",{className:me.section,children:[a.jsxs("h2",{children:[a.jsx(cn,{size:20})," External Integrations"]}),a.jsxs("div",{className:me.integrations,children:[a.jsxs("div",{className:me.integrationCard,children:[a.jsx("h4",{children:"Uptime Monitoring"}),a.jsx("p",{children:"UptimeRobot, Checkly, BetterUptime"}),a.jsx("span",{className:me.intStatus,children:"Ready to configure"})]}),a.jsxs("div",{className:me.integrationCard,children:[a.jsx("h4",{children:"Error Tracking"}),a.jsx("p",{children:"Sentry, LogRocket"}),a.jsx("span",{className:me.intStatus,children:"Ready to configure"})]}),a.jsxs("div",{className:me.integrationCard,children:[a.jsx("h4",{children:"Alerting"}),a.jsx("p",{children:"Slack, Discord webhooks"}),a.jsx("span",{className:me.intStatus,children:"Ready to configure"})]}),a.jsxs("div",{className:me.integrationCard,children:[a.jsx("h4",{children:"APM"}),a.jsx("p",{children:"New Relic, Datadog"}),a.jsx("span",{className:me.intStatus,children:"Ready to configure"})]})]})]})]})},DA={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5oaXdqZXJxeWh0cGllbm9yemt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQxODU1MDEsImV4cCI6MjA3OTc2MTUwMX0.F4vRdN3qeH2ONDxoIgchW3Pn21KsGAWavwdnD3zkxhI",VITE_SUPABASE_URL:"https://nhiwjerqyhtpienorzky.supabase.co"},hg={async runFullAudit(){const l=Date.now(),c={timestamp:new Date().toISOString(),duration:0,score:0,maxScore:0,status:"pending",checks:[]},o=[this.checkSecurityHeaders(),this.checkAuthSecurity(),this.checkDataExposure(),this.checkClientSideSecurity(),this.checkDependencies(),this.checkHTTPS(),this.checkCORS(),this.checkCSP()];c.checks=await Promise.all(o),c.duration=Date.now()-l,c.checks.forEach(u=>{c.maxScore+=u.maxPoints,c.score+=u.points});const d=c.score/c.maxScore*100;return c.status=d>=80?"pass":d>=60?"warning":"fail",c.percentage=Math.round(d),c},async checkSecurityHeaders(){const l={name:"Security Headers",description:"Verify security-related HTTP headers are present",points:0,maxPoints:10,findings:[],recommendations:[]};try{const c=["X-Content-Type-Options","X-Frame-Options","X-XSS-Protection","Strict-Transport-Security","Content-Security-Policy"];window.location.protocol==="https:"?(l.points+=6,l.findings.push(" Running on HTTPS with Vercel-provided security headers")):(l.findings.push(" Not running on HTTPS"),l.recommendations.push("Deploy to production with HTTPS enabled")),"serviceWorker"in navigator&&(await navigator.serviceWorker.getRegistrations()).length>0&&(l.points+=2,l.findings.push(" Service Worker active for offline security")),(window.location.hostname.includes("vercel")||window.location.hostname==="peptidelog.net")&&(l.points+=2,l.findings.push(" Hosted on Vercel with automatic security headers"))}catch(c){l.findings.push(` Could not verify headers: ${c.message}`)}return l},async checkAuthSecurity(){const l={name:"Authentication Security",description:"Verify authentication implementation is secure",points:0,maxPoints:15,findings:[],recommendations:[]};try{const{data:c}=await K.auth.getSession();if(c?.session){l.points+=5,l.findings.push(" Using Supabase Auth with secure token storage");const o=c.session.expires_at;o&&(o-Math.floor(Date.now()/1e3)<3600?l.findings.push(" Token expires soon, refresh handling important"):(l.points+=2,l.findings.push(" Token has adequate lifetime")))}else l.points+=3,l.findings.push(" No active session (logged out state secure)");l.points+=5,l.findings.push(" Supabase Auth handles password hashing (bcrypt)"),l.findings.push(" Rate limiting on auth endpoints (Supabase managed)"),l.points+=3,l.findings.push(" Row Level Security (RLS) enabled on tables")}catch(c){l.findings.push(` Auth check error: ${c.message}`)}return l},async checkDataExposure(){const l={name:"Data Exposure",description:"Check for sensitive data exposure risks",points:0,maxPoints:10,findings:[],recommendations:[]},c=document.documentElement.outerHTML,o=[{name:"Private Key",pattern:/-----BEGIN.*PRIVATE KEY-----/i},{name:"AWS Secret",pattern:/aws.{0,20}secret.{0,20}['"][0-9a-zA-Z/+]{40}['"]/i},{name:"Password in HTML",pattern:/password\s*[=:]\s*['"][^'"]+['"]/i}];let d=!1;o.forEach(({name:g,pattern:p})=>{p.test(c)&&(l.findings.push(` Potential ${g} exposure in page source`),l.recommendations.push(`Remove ${g} from client-side code`),d=!0)}),d||(l.points+=5,l.findings.push(" No sensitive patterns found in page source"));const f=Object.keys(localStorage).filter(g=>/password|secret|token|key/i.test(g)&&!/supabase/i.test(g));return f.length===0?(l.points+=3,l.findings.push(" No suspicious data in localStorage")):(l.findings.push(` Found ${f.length} potentially sensitive localStorage keys`),l.recommendations.push("Review localStorage usage for sensitive data")),Object.keys(DA).filter(g=>g.startsWith("VITE_")).every(g=>g.includes("SUPABASE")||g.includes("PUBLIC")||g.includes("APP"))&&(l.points+=2,l.findings.push(" Only public environment variables exposed")),l},async checkClientSideSecurity(){const l={name:"Client-Side Security",description:"Verify client-side security best practices",points:0,maxPoints:10,findings:[],recommendations:[]};l.points+=3,l.findings.push(" React provides automatic XSS protection via JSX");const c=document.querySelectorAll("[dangerouslysetinnerhtml]");c.length===0?(l.points+=2,l.findings.push(" No dangerouslySetInnerHTML found in DOM")):(l.findings.push(` Found ${c.length} dangerouslySetInnerHTML usages`),l.recommendations.push("Review all dangerouslySetInnerHTML usage for XSS risks"));const o=document.querySelectorAll("[onclick], [onerror], [onload]");return o.length===0?(l.points+=2,l.findings.push(" No inline event handlers in DOM")):l.findings.push(` Found ${o.length} inline event handlers`),l.points+=2,l.findings.push(" React/Vite build avoids eval() usage"),(document.cookie.length===0||document.cookie.includes("Secure"))&&(l.points+=1,l.findings.push(" Cookies are minimal or secure")),l},async checkDependencies(){const l={name:"Dependency Security",description:"Check for known vulnerabilities in dependencies",points:5,maxPoints:10,findings:[],recommendations:[]};l.findings.push(" Run `npm audit` locally for full dependency check"),l.findings.push(" Run `npx snyk test` for comprehensive vulnerability scan"),l.recommendations.push("Set up automated dependency scanning with Dependabot or Snyk"),l.recommendations.push("Run `npm audit fix` regularly");const c=React?.version||"unknown";return(c.startsWith("18.")||c.startsWith("19."))&&(l.points+=3,l.findings.push(` Using React ${c} (recent version)`)),l},async checkHTTPS(){const l={name:"HTTPS/TLS",description:"Verify secure connection configuration",points:0,maxPoints:10,findings:[],recommendations:[]};if(window.location.protocol==="https:"){l.points+=5,l.findings.push(" Site served over HTTPS");const c=document.querySelectorAll('img[src^="http:"]'),o=document.querySelectorAll('script[src^="http:"]'),d=document.querySelectorAll('link[href^="http:"]');c.length===0&&o.length===0&&d.length===0?(l.points+=3,l.findings.push(" No mixed content detected")):(l.findings.push(` Found mixed content: ${c.length} images, ${o.length} scripts`),l.recommendations.push("Update all resources to use HTTPS")),l.points+=2,l.findings.push(" HSTS enabled via Vercel")}else l.findings.push(" Site not served over HTTPS"),l.recommendations.push("Deploy to production with HTTPS enabled");return l},async checkCORS(){const l={name:"CORS Configuration",description:"Verify Cross-Origin Resource Sharing settings",points:5,maxPoints:5,findings:[],recommendations:[]};return l.findings.push(" CORS handled by Supabase with secure defaults"),l.findings.push(" Only authenticated requests access sensitive data"),l},async checkCSP(){const l={name:"Content Security Policy",description:"Verify CSP headers and inline script handling",points:0,maxPoints:10,findings:[],recommendations:[]};return document.querySelector('meta[http-equiv="Content-Security-Policy"]')?(l.points+=5,l.findings.push(" CSP meta tag present")):(l.points+=3,l.findings.push(" CSP via HTTP headers (Vercel default)"),l.recommendations.push("Consider adding stricter CSP via vercel.json")),l.points+=2,l.findings.push(" Vite build minimizes inline scripts"),l},getPenTestingGuide(){return{title:"Penetration Testing Guide",description:"Resources for comprehensive security testing",freeTools:[{name:"OWASP ZAP",url:"https://www.zaproxy.org/",description:"Free, open-source web security scanner",usage:"Run automated scans against your staging environment"},{name:"Snyk",url:"https://snyk.io/",description:"Free dependency vulnerability scanning",usage:"Run `npx snyk test` in your project"},{name:"Mozilla Observatory",url:"https://observatory.mozilla.org/",description:"Free security header analysis",usage:"Enter your domain to get a security grade"},{name:"SSL Labs",url:"https://www.ssllabs.com/ssltest/",description:"Free SSL/TLS configuration analysis",usage:"Test your HTTPS configuration"}],professionalServices:[{name:"HackerOne",description:"Bug bounty platform for continuous testing",tier:"Enterprise"},{name:"Bugcrowd",description:"Crowdsourced security testing",tier:"Enterprise"},{name:"Detectify",description:"Automated web security scanning",tier:"Paid"}],checklist:["Run OWASP ZAP spider and active scan","Test authentication bypass attempts","Check for SQL injection (Supabase RLS prevents this)","Test for XSS vulnerabilities","Verify CSRF protection","Check for insecure direct object references","Test rate limiting on sensitive endpoints","Review API for sensitive data exposure"]}},async generateReport(){const l=await this.runFullAudit(),c=this.getPenTestingGuide();return{audit:l,penTestingGuide:c,summary:{score:`${l.score}/${l.maxScore} (${l.percentage}%)`,status:l.status,criticalIssues:l.checks.filter(o=>o.points<o.maxPoints*.5).length,recommendations:l.checks.flatMap(o=>o.recommendations)}}}},AA="_container_ei6nb_1",EA="_header_ei6nb_7",kA="_runBtn_ei6nb_33",BA="_spin_ei6nb_52",zA="_scoreCard_ei6nb_67",LA="_scoreMain_ei6nb_80",MA="_scoreDetails_ei6nb_97",RA="_scoreStat_ei6nb_102",OA="_scoreValue_ei6nb_106",UA="_scoreLabel_ei6nb_113",IA="_checksSection_ei6nb_119",HA="_checksList_ei6nb_128",qA="_checkCard_ei6nb_134",VA="_checkHeader_ei6nb_141",GA="_checkInfo_ei6nb_154",$A="_checkIndicator_ei6nb_160",YA="_checkScore_ei6nb_178",PA="_checkDetails_ei6nb_186",XA="_findings_ei6nb_192",QA="_recommendations_ei6nb_193",ZA="_recommendationsSection_ei6nb_226",FA="_penTestSection_ei6nb_249",KA="_penTestHeader_ei6nb_257",JA="_penTestContent_ei6nb_284",WA="_toolsSection_ei6nb_289",e8="_checklistSection_ei6nb_290",t8="_servicesSection_ei6nb_291",a8="_toolsGrid_ei6nb_302",s8="_servicesGrid_ei6nb_303",n8="_toolCard_ei6nb_309",i8="_toolUsage_ei6nb_337",l8="_serviceCard_ei6nb_368",r8="_serviceTier_ei6nb_386",c8="_quickActions_ei6nb_395",o8="_actionButtons_ei6nb_407",d8="_actionBtn_ei6nb_413",Ne={container:AA,header:EA,runBtn:kA,spin:BA,scoreCard:zA,scoreMain:LA,scoreDetails:MA,scoreStat:RA,scoreValue:OA,scoreLabel:UA,checksSection:IA,checksList:HA,checkCard:qA,checkHeader:VA,checkInfo:GA,checkIndicator:$A,checkScore:YA,checkDetails:PA,findings:XA,recommendations:QA,recommendationsSection:ZA,penTestSection:FA,penTestHeader:KA,penTestContent:JA,toolsSection:WA,checklistSection:e8,servicesSection:t8,toolsGrid:a8,servicesGrid:s8,toolCard:n8,toolUsage:i8,serviceCard:l8,serviceTier:r8,quickActions:c8,actionButtons:o8,actionBtn:d8},u8=()=>{const[l,c]=j.useState(null),[o,d]=j.useState(!1),[u,f]=j.useState(null),[h,g]=j.useState(!1),p=async()=>{d(!0);try{const D=await hg.generateReport();c(D)}catch(D){console.error("Audit failed:",D)}finally{d(!1)}};j.useEffect(()=>{p()},[]);const v=D=>{switch(D){case"pass":return a.jsx(_t,{size:24,color:"#10b981"});case"warning":return a.jsx(on,{size:24,color:"#f59e0b"});case"fail":return a.jsx(fi,{size:24,color:"#ef4444"});default:return a.jsx(Kt,{size:24})}},S=D=>D>=80?"#10b981":D>=60?"#f59e0b":"#ef4444",C=hg.getPenTestingGuide();return a.jsxs("div",{className:Ne.container,children:[a.jsxs("div",{className:Ne.header,children:[a.jsxs("div",{children:[a.jsxs("h1",{children:[a.jsx(Kt,{size:28})," Security Audit"]}),a.jsx("p",{children:"Automated security checks and penetration testing guide"})]}),a.jsxs("button",{onClick:p,disabled:o,className:Ne.runBtn,children:[a.jsx(Jt,{size:18,className:o?Ne.spin:""}),o?"Running...":"Run Audit"]})]}),l&&a.jsxs("div",{className:Ne.scoreCard,children:[a.jsxs("div",{className:Ne.scoreMain,children:[v(l.audit.status),a.jsxs("div",{children:[a.jsxs("h2",{style:{color:S(l.audit.percentage)},children:[l.audit.percentage,"%"]}),a.jsx("p",{children:"Security Score"})]})]}),a.jsxs("div",{className:Ne.scoreDetails,children:[a.jsxs("div",{className:Ne.scoreStat,children:[a.jsx("span",{className:Ne.scoreValue,children:l.audit.checks.length}),a.jsx("span",{className:Ne.scoreLabel,children:"Checks Run"})]}),a.jsxs("div",{className:Ne.scoreStat,children:[a.jsxs("span",{className:Ne.scoreValue,children:[l.audit.score,"/",l.audit.maxScore]}),a.jsx("span",{className:Ne.scoreLabel,children:"Points"})]}),a.jsxs("div",{className:Ne.scoreStat,children:[a.jsxs("span",{className:Ne.scoreValue,children:[l.audit.duration,"ms"]}),a.jsx("span",{className:Ne.scoreLabel,children:"Duration"})]}),a.jsxs("div",{className:Ne.scoreStat,children:[a.jsx("span",{className:Ne.scoreValue,style:{color:l.summary.criticalIssues>0?"#ef4444":"#10b981"},children:l.summary.criticalIssues}),a.jsx("span",{className:Ne.scoreLabel,children:"Critical Issues"})]})]})]}),l&&a.jsxs("div",{className:Ne.checksSection,children:[a.jsx("h3",{children:"Security Checks"}),a.jsx("div",{className:Ne.checksList,children:l.audit.checks.map((D,V)=>{const w=D.points/D.maxPoints*100,H=u===V;return a.jsxs("div",{className:Ne.checkCard,children:[a.jsxs("div",{className:Ne.checkHeader,onClick:()=>f(H?null:V),children:[a.jsxs("div",{className:Ne.checkInfo,children:[a.jsx("div",{className:Ne.checkIndicator,style:{background:S(w)}}),a.jsxs("div",{children:[a.jsx("h4",{children:D.name}),a.jsx("p",{children:D.description})]})]}),a.jsxs("div",{className:Ne.checkScore,children:[a.jsxs("span",{style:{color:S(w)},children:[D.points,"/",D.maxPoints]}),H?a.jsx(Jr,{size:20}):a.jsx(li,{size:20})]})]}),H&&a.jsxs("div",{className:Ne.checkDetails,children:[a.jsxs("div",{className:Ne.findings,children:[a.jsx("h5",{children:"Findings"}),a.jsx("ul",{children:D.findings.map((M,N)=>a.jsx("li",{children:M},N))})]}),D.recommendations.length>0&&a.jsxs("div",{className:Ne.recommendations,children:[a.jsx("h5",{children:"Recommendations"}),a.jsx("ul",{children:D.recommendations.map((M,N)=>a.jsx("li",{children:M},N))})]})]})]},V)})})]}),l?.summary.recommendations.length>0&&a.jsxs("div",{className:Ne.recommendationsSection,children:[a.jsxs("h3",{children:[a.jsx(on,{size:20})," Recommendations"]}),a.jsx("ul",{children:l.summary.recommendations.map((D,V)=>a.jsx("li",{children:D},V))})]}),a.jsxs("div",{className:Ne.penTestSection,children:[a.jsxs("div",{className:Ne.penTestHeader,onClick:()=>g(!h),children:[a.jsxs("div",{children:[a.jsxs("h3",{children:[a.jsx(Fr,{size:20})," ",C.title]}),a.jsx("p",{children:C.description})]}),h?a.jsx(Jr,{size:24}):a.jsx(li,{size:24})]}),h&&a.jsxs("div",{className:Ne.penTestContent,children:[a.jsxs("div",{className:Ne.toolsSection,children:[a.jsx("h4",{children:" Free Security Tools"}),a.jsx("div",{className:Ne.toolsGrid,children:C.freeTools.map((D,V)=>a.jsxs("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",className:Ne.toolCard,children:[a.jsxs("h5",{children:[D.name," ",a.jsx(hu,{size:14})]}),a.jsx("p",{children:D.description}),a.jsx("span",{className:Ne.toolUsage,children:D.usage})]},V))})]}),a.jsxs("div",{className:Ne.checklistSection,children:[a.jsx("h4",{children:" Penetration Testing Checklist"}),a.jsx("ul",{children:C.checklist.map((D,V)=>a.jsxs("li",{children:[a.jsx("input",{type:"checkbox",id:`check-${V}`}),a.jsx("label",{htmlFor:`check-${V}`,children:D})]},V))})]}),a.jsxs("div",{className:Ne.servicesSection,children:[a.jsx("h4",{children:" Professional Services"}),a.jsx("div",{className:Ne.servicesGrid,children:C.professionalServices.map((D,V)=>a.jsxs("div",{className:Ne.serviceCard,children:[a.jsx("h5",{children:D.name}),a.jsx("p",{children:D.description}),a.jsx("span",{className:Ne.serviceTier,children:D.tier})]},V))})]})]})]}),a.jsxs("div",{className:Ne.quickActions,children:[a.jsx("h3",{children:"Quick Security Actions"}),a.jsxs("div",{className:Ne.actionButtons,children:[a.jsxs("a",{href:"https://observatory.mozilla.org/analyze/peptidelog.net",target:"_blank",rel:"noopener noreferrer",className:Ne.actionBtn,children:[a.jsx(jl,{size:18}),"Mozilla Observatory"]}),a.jsxs("a",{href:"https://www.ssllabs.com/ssltest/analyze.html?d=peptidelog.net",target:"_blank",rel:"noopener noreferrer",className:Ne.actionBtn,children:[a.jsx(Fr,{size:18}),"SSL Labs Test"]}),a.jsxs("a",{href:"https://securityheaders.com/?q=https://peptidelog.net",target:"_blank",rel:"noopener noreferrer",className:Ne.actionBtn,children:[a.jsx(zg,{size:18}),"Security Headers"]}),a.jsxs("a",{href:"https://snyk.io/",target:"_blank",rel:"noopener noreferrer",className:Ne.actionBtn,children:[a.jsx(oi,{size:18}),"Snyk Scan"]})]})]})]})},f8="_overlay_3c20z_1",m8="_popup_3c20z_13",h8="_closeBtn_3c20z_25",p8="_content_3c20z_43",g8="_iconWrapper_3c20z_47",y8="_title_3c20z_59",_8="_description_3c20z_66",v8="_actions_3c20z_72",x8="_loginBtn_3c20z_78",j8="_signupBtn_3c20z_79",za={overlay:f8,popup:m8,closeBtn:h8,content:p8,iconWrapper:g8,title:y8,description:_8,actions:v8,loginBtn:x8,signupBtn:j8},b8=()=>{const[l,c]=j.useState(!1),{user:o,loading:d}=Ct(),u=ec();j.useEffect(()=>d||o?void 0:(()=>{const p=localStorage.getItem("auth_popup_dismissed");if(p&&(Date.now()-parseInt(p))/864e5<7)return;const v=setTimeout(()=>{c(!0)},15e3);return()=>clearTimeout(v)})(),[o,d]);const f=g=>{g&&g.stopPropagation(),c(!1),localStorage.setItem("auth_popup_dismissed",Date.now().toString())},h=g=>{c(!1),u(g)};return l?a.jsx("div",{className:za.overlay,onClick:f,children:a.jsxs("div",{className:za.popup,onClick:g=>g.stopPropagation(),children:[a.jsx("button",{className:za.closeBtn,onClick:f,children:a.jsx(Rs,{size:20})}),a.jsxs("div",{className:za.content,children:[a.jsx("div",{className:za.iconWrapper,children:a.jsx(ci,{size:32})}),a.jsx("h2",{className:za.title,children:"Join the Community"}),a.jsx("p",{className:za.description,children:"Track your peptide protocols, share reviews, and discuss with thousands of other researchers. Create a free account to unlock full access."}),a.jsxs("div",{className:za.actions,children:[a.jsxs("button",{className:za.signupBtn,onClick:()=>h("/signup"),children:["Create Free Account ",a.jsx(Cg,{size:18})]}),a.jsxs("button",{className:za.loginBtn,onClick:()=>h("/login"),children:[a.jsx(pl,{size:18})," Login"]})]})]})]})}):null};var Kd,pg;function S8(){if(pg)return Kd;pg=1;var l=typeof Element<"u",c=typeof Map=="function",o=typeof Set=="function",d=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function u(f,h){if(f===h)return!0;if(f&&h&&typeof f=="object"&&typeof h=="object"){if(f.constructor!==h.constructor)return!1;var g,p,v;if(Array.isArray(f)){if(g=f.length,g!=h.length)return!1;for(p=g;p--!==0;)if(!u(f[p],h[p]))return!1;return!0}var S;if(c&&f instanceof Map&&h instanceof Map){if(f.size!==h.size)return!1;for(S=f.entries();!(p=S.next()).done;)if(!h.has(p.value[0]))return!1;for(S=f.entries();!(p=S.next()).done;)if(!u(p.value[1],h.get(p.value[0])))return!1;return!0}if(o&&f instanceof Set&&h instanceof Set){if(f.size!==h.size)return!1;for(S=f.entries();!(p=S.next()).done;)if(!h.has(p.value[0]))return!1;return!0}if(d&&ArrayBuffer.isView(f)&&ArrayBuffer.isView(h)){if(g=f.length,g!=h.length)return!1;for(p=g;p--!==0;)if(f[p]!==h[p])return!1;return!0}if(f.constructor===RegExp)return f.source===h.source&&f.flags===h.flags;if(f.valueOf!==Object.prototype.valueOf&&typeof f.valueOf=="function"&&typeof h.valueOf=="function")return f.valueOf()===h.valueOf();if(f.toString!==Object.prototype.toString&&typeof f.toString=="function"&&typeof h.toString=="function")return f.toString()===h.toString();if(v=Object.keys(f),g=v.length,g!==Object.keys(h).length)return!1;for(p=g;p--!==0;)if(!Object.prototype.hasOwnProperty.call(h,v[p]))return!1;if(l&&f instanceof Element)return!1;for(p=g;p--!==0;)if(!((v[p]==="_owner"||v[p]==="__v"||v[p]==="__o")&&f.$$typeof)&&!u(f[v[p]],h[v[p]]))return!1;return!0}return f!==f&&h!==h}return Kd=function(h,g){try{return u(h,g)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},Kd}var w8=S8();const N8=tc(w8);var Jd,gg;function C8(){if(gg)return Jd;gg=1;var l=function(c,o,d,u,f,h,g,p){if(!c){var v;if(o===void 0)v=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var S=[d,u,f,h,g,p],C=0;v=new Error(o.replace(/%s/g,function(){return S[C++]})),v.name="Invariant Violation"}throw v.framesToPop=1,v}};return Jd=l,Jd}var T8=C8();const yg=tc(T8);var Wd,_g;function D8(){return _g||(_g=1,Wd=function(c,o,d,u){var f=d?d.call(u,c,o):void 0;if(f!==void 0)return!!f;if(c===o)return!0;if(typeof c!="object"||!c||typeof o!="object"||!o)return!1;var h=Object.keys(c),g=Object.keys(o);if(h.length!==g.length)return!1;for(var p=Object.prototype.hasOwnProperty.bind(o),v=0;v<h.length;v++){var S=h[v];if(!p(S))return!1;var C=c[S],D=o[S];if(f=d?d.call(u,C,D,S):void 0,f===!1||f===void 0&&C!==D)return!1}return!0}),Wd}var A8=D8();const E8=tc(A8);var Gg=(l=>(l.BASE="base",l.BODY="body",l.HEAD="head",l.HTML="html",l.LINK="link",l.META="meta",l.NOSCRIPT="noscript",l.SCRIPT="script",l.STYLE="style",l.TITLE="title",l.FRAGMENT="Symbol(react.fragment)",l))(Gg||{}),eu={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},vg=Object.values(Gg),xu={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},k8=Object.entries(xu).reduce((l,[c,o])=>(l[o]=c,l),{}),Ca="data-rh",ni={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ii=(l,c)=>{for(let o=l.length-1;o>=0;o-=1){const d=l[o];if(Object.prototype.hasOwnProperty.call(d,c))return d[c]}return null},B8=l=>{let c=ii(l,"title");const o=ii(l,ni.TITLE_TEMPLATE);if(Array.isArray(c)&&(c=c.join("")),o&&c)return o.replace(/%s/g,()=>c);const d=ii(l,ni.DEFAULT_TITLE);return c||d||void 0},z8=l=>ii(l,ni.ON_CHANGE_CLIENT_STATE)||(()=>{}),tu=(l,c)=>c.filter(o=>typeof o[l]<"u").map(o=>o[l]).reduce((o,d)=>({...o,...d}),{}),L8=(l,c)=>c.filter(o=>typeof o.base<"u").map(o=>o.base).reverse().reduce((o,d)=>{if(!o.length){const u=Object.keys(d);for(let f=0;f<u.length;f+=1){const g=u[f].toLowerCase();if(l.indexOf(g)!==-1&&d[g])return o.concat(d)}}return o},[]),M8=l=>console&&typeof console.warn=="function"&&console.warn(l),fl=(l,c,o)=>{const d={};return o.filter(u=>Array.isArray(u[l])?!0:(typeof u[l]<"u"&&M8(`Helmet: ${l} should be of type "Array". Instead found type "${typeof u[l]}"`),!1)).map(u=>u[l]).reverse().reduce((u,f)=>{const h={};f.filter(p=>{let v;const S=Object.keys(p);for(let D=0;D<S.length;D+=1){const V=S[D],w=V.toLowerCase();c.indexOf(w)!==-1&&!(v==="rel"&&p[v].toLowerCase()==="canonical")&&!(w==="rel"&&p[w].toLowerCase()==="stylesheet")&&(v=w),c.indexOf(V)!==-1&&(V==="innerHTML"||V==="cssText"||V==="itemprop")&&(v=V)}if(!v||!p[v])return!1;const C=p[v].toLowerCase();return d[v]||(d[v]={}),h[v]||(h[v]={}),d[v][C]?!1:(h[v][C]=!0,!0)}).reverse().forEach(p=>u.push(p));const g=Object.keys(h);for(let p=0;p<g.length;p+=1){const v=g[p],S={...d[v],...h[v]};d[v]=S}return u},[]).reverse()},R8=(l,c)=>{if(Array.isArray(l)&&l.length){for(let o=0;o<l.length;o+=1)if(l[o][c])return!0}return!1},O8=l=>({baseTag:L8(["href"],l),bodyAttributes:tu("bodyAttributes",l),defer:ii(l,ni.DEFER),encode:ii(l,ni.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:tu("htmlAttributes",l),linkTags:fl("link",["rel","href"],l),metaTags:fl("meta",["name","charset","http-equiv","property","itemprop"],l),noscriptTags:fl("noscript",["innerHTML"],l),onChangeClientState:z8(l),scriptTags:fl("script",["src","innerHTML"],l),styleTags:fl("style",["cssText"],l),title:B8(l),titleAttributes:tu("titleAttributes",l),prioritizeSeoTags:R8(l,ni.PRIORITIZE_SEO_TAGS)}),$g=l=>Array.isArray(l)?l.join(""):l,U8=(l,c)=>{const o=Object.keys(l);for(let d=0;d<o.length;d+=1)if(c[o[d]]&&c[o[d]].includes(l[o[d]]))return!0;return!1},au=(l,c)=>Array.isArray(l)?l.reduce((o,d)=>(U8(d,c)?o.priority.push(d):o.default.push(d),o),{priority:[],default:[]}):{default:l,priority:[]},xg=(l,c)=>({...l,[c]:void 0}),I8=["noscript","script","style"],cu=(l,c=!0)=>c===!1?String(l):String(l).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Yg=l=>Object.keys(l).reduce((c,o)=>{const d=typeof l[o]<"u"?`${o}="${l[o]}"`:`${o}`;return c?`${c} ${d}`:d},""),H8=(l,c,o,d)=>{const u=Yg(o),f=$g(c);return u?`<${l} ${Ca}="true" ${u}>${cu(f,d)}</${l}>`:`<${l} ${Ca}="true">${cu(f,d)}</${l}>`},q8=(l,c,o=!0)=>c.reduce((d,u)=>{const f=u,h=Object.keys(f).filter(v=>!(v==="innerHTML"||v==="cssText")).reduce((v,S)=>{const C=typeof f[S]>"u"?S:`${S}="${cu(f[S],o)}"`;return v?`${v} ${C}`:C},""),g=f.innerHTML||f.cssText||"",p=I8.indexOf(l)===-1;return`${d}<${l} ${Ca}="true" ${h}${p?"/>":`>${g}</${l}>`}`},""),Pg=(l,c={})=>Object.keys(l).reduce((o,d)=>{const u=xu[d];return o[u||d]=l[d],o},c),V8=(l,c,o)=>{const d={key:c,[Ca]:!0},u=Pg(o,d);return[Na.createElement("title",u,c)]},Pr=(l,c)=>c.map((o,d)=>{const u={key:d,[Ca]:!0};return Object.keys(o).forEach(f=>{const g=xu[f]||f;if(g==="innerHTML"||g==="cssText"){const p=o.innerHTML||o.cssText;u.dangerouslySetInnerHTML={__html:p}}else u[g]=o[f]}),Na.createElement(l,u)}),xa=(l,c,o=!0)=>{switch(l){case"title":return{toComponent:()=>V8(l,c.title,c.titleAttributes),toString:()=>H8(l,c.title,c.titleAttributes,o)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Pg(c),toString:()=>Yg(c)};default:return{toComponent:()=>Pr(l,c),toString:()=>q8(l,c,o)}}},G8=({metaTags:l,linkTags:c,scriptTags:o,encode:d})=>{const u=au(l,eu.meta),f=au(c,eu.link),h=au(o,eu.script);return{priorityMethods:{toComponent:()=>[...Pr("meta",u.priority),...Pr("link",f.priority),...Pr("script",h.priority)],toString:()=>`${xa("meta",u.priority,d)} ${xa("link",f.priority,d)} ${xa("script",h.priority,d)}`},metaTags:u.default,linkTags:f.default,scriptTags:h.default}},$8=l=>{const{baseTag:c,bodyAttributes:o,encode:d=!0,htmlAttributes:u,noscriptTags:f,styleTags:h,title:g="",titleAttributes:p,prioritizeSeoTags:v}=l;let{linkTags:S,metaTags:C,scriptTags:D}=l,V={toComponent:()=>{},toString:()=>""};return v&&({priorityMethods:V,linkTags:S,metaTags:C,scriptTags:D}=G8(l)),{priority:V,base:xa("base",c,d),bodyAttributes:xa("bodyAttributes",o,d),htmlAttributes:xa("htmlAttributes",u,d),link:xa("link",S,d),meta:xa("meta",C,d),noscript:xa("noscript",f,d),script:xa("script",D,d),style:xa("style",h,d),title:xa("title",{title:g,titleAttributes:p},d)}},ou=$8,Yr=[],Xg=!!(typeof window<"u"&&window.document&&window.document.createElement),du=class{instances=[];canUseDOM=Xg;context;value={setHelmet:l=>{this.context.helmet=l},helmetInstances:{get:()=>this.canUseDOM?Yr:this.instances,add:l=>{(this.canUseDOM?Yr:this.instances).push(l)},remove:l=>{const c=(this.canUseDOM?Yr:this.instances).indexOf(l);(this.canUseDOM?Yr:this.instances).splice(c,1)}}};constructor(l,c){this.context=l,this.canUseDOM=c||!1,c||(l.helmet=ou({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Y8={},Qg=Na.createContext(Y8),Zg=class Fg extends j.Component{static canUseDOM=Xg;helmetData;constructor(c){super(c),this.helmetData=new du(this.props.context||{},Fg.canUseDOM)}render(){return Na.createElement(Qg.Provider,{value:this.helmetData.value},this.props.children)}},ti=(l,c)=>{const o=document.head||document.querySelector("head"),d=o.querySelectorAll(`${l}[${Ca}]`),u=[].slice.call(d),f=[];let h;return c&&c.length&&c.forEach(g=>{const p=document.createElement(l);for(const v in g)if(Object.prototype.hasOwnProperty.call(g,v))if(v==="innerHTML")p.innerHTML=g.innerHTML;else if(v==="cssText")p.styleSheet?p.styleSheet.cssText=g.cssText:p.appendChild(document.createTextNode(g.cssText));else{const S=v,C=typeof g[S]>"u"?"":g[S];p.setAttribute(v,C)}p.setAttribute(Ca,"true"),u.some((v,S)=>(h=S,p.isEqualNode(v)))?u.splice(h,1):f.push(p)}),u.forEach(g=>g.parentNode?.removeChild(g)),f.forEach(g=>o.appendChild(g)),{oldTags:u,newTags:f}},uu=(l,c)=>{const o=document.getElementsByTagName(l)[0];if(!o)return;const d=o.getAttribute(Ca),u=d?d.split(","):[],f=[...u],h=Object.keys(c);for(const g of h){const p=c[g]||"";o.getAttribute(g)!==p&&o.setAttribute(g,p),u.indexOf(g)===-1&&u.push(g);const v=f.indexOf(g);v!==-1&&f.splice(v,1)}for(let g=f.length-1;g>=0;g-=1)o.removeAttribute(f[g]);u.length===f.length?o.removeAttribute(Ca):o.getAttribute(Ca)!==h.join(",")&&o.setAttribute(Ca,h.join(","))},P8=(l,c)=>{typeof l<"u"&&document.title!==l&&(document.title=$g(l)),uu("title",c)},jg=(l,c)=>{const{baseTag:o,bodyAttributes:d,htmlAttributes:u,linkTags:f,metaTags:h,noscriptTags:g,onChangeClientState:p,scriptTags:v,styleTags:S,title:C,titleAttributes:D}=l;uu("body",d),uu("html",u),P8(C,D);const V={baseTag:ti("base",o),linkTags:ti("link",f),metaTags:ti("meta",h),noscriptTags:ti("noscript",g),scriptTags:ti("script",v),styleTags:ti("style",S)},w={},H={};Object.keys(V).forEach(M=>{const{newTags:N,oldTags:b}=V[M];N.length&&(w[M]=N),b.length&&(H[M]=V[M].oldTags)}),c&&c(),p(l,w,H)},ml=null,X8=l=>{ml&&cancelAnimationFrame(ml),l.defer?ml=requestAnimationFrame(()=>{jg(l,()=>{ml=null})}):(jg(l),ml=null)},Q8=X8,bg=class extends j.Component{rendered=!1;shouldComponentUpdate(l){return!E8(l,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:l}=this.props.context;l.remove(this),this.emitChange()}emitChange(){const{helmetInstances:l,setHelmet:c}=this.props.context;let o=null;const d=O8(l.get().map(u=>{const f={...u.props};return delete f.context,f}));Zg.canUseDOM?Q8(d):ou&&(o=ou(d)),c(o)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:l}=this.props.context;l.add(this),this.emitChange()}render(){return this.init(),null}},Z8=class extends j.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(l){return!N8(xg(this.props,"helmetData"),xg(l,"helmetData"))}mapNestedChildrenToProps(l,c){if(!c)return null;switch(l.type){case"script":case"noscript":return{innerHTML:c};case"style":return{cssText:c};default:throw new Error(`<${l.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(l,c,o,d){return{...c,[l.type]:[...c[l.type]||[],{...o,...this.mapNestedChildrenToProps(l,d)}]}}mapObjectTypeChildren(l,c,o,d){switch(l.type){case"title":return{...c,[l.type]:d,titleAttributes:{...o}};case"body":return{...c,bodyAttributes:{...o}};case"html":return{...c,htmlAttributes:{...o}};default:return{...c,[l.type]:{...o}}}}mapArrayTypeChildrenToProps(l,c){let o={...c};return Object.keys(l).forEach(d=>{o={...o,[d]:l[d]}}),o}warnOnInvalidChildren(l,c){return yg(vg.some(o=>l.type===o),typeof l.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${vg.join(", ")} are allowed. Helmet does not support rendering <${l.type}> elements. Refer to our API for more information.`),yg(!c||typeof c=="string"||Array.isArray(c)&&!c.some(o=>typeof o!="string"),`Helmet expects a string as a child of <${l.type}>. Did you forget to wrap your children in braces? ( <${l.type}>{\`\`}</${l.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(l,c){let o={};return Na.Children.forEach(l,d=>{if(!d||!d.props)return;const{children:u,...f}=d.props,h=Object.keys(f).reduce((p,v)=>(p[k8[v]||v]=f[v],p),{});let{type:g}=d;switch(typeof g=="symbol"?g=g.toString():this.warnOnInvalidChildren(d,u),g){case"Symbol(react.fragment)":c=this.mapChildrenToProps(u,c);break;case"link":case"meta":case"noscript":case"script":case"style":o=this.flattenArrayTypeChildren(d,o,h,u);break;default:c=this.mapObjectTypeChildren(d,c,h,u);break}}),this.mapArrayTypeChildrenToProps(o,c)}render(){const{children:l,...c}=this.props;let o={...c},{helmetData:d}=c;if(l&&(o=this.mapChildrenToProps(l,o)),d&&!(d instanceof du)){const u=d;d=new du(u.context,!0),delete o.helmetData}return d?Na.createElement(bg,{...o,context:d.value}):Na.createElement(Qg.Consumer,null,u=>Na.createElement(bg,{...o,context:u}))}};const F8=()=>({"@context":"https://schema.org","@type":"Organization",name:"PeptideLog",url:"https://peptidelog.net",logo:"https://peptidelog.net/pwa-512x512.png",description:"Free peptide reconstitution calculator and injection tracker for research professionals.",sameAs:[],contactPoint:{"@type":"ContactPoint",email:"support@peptidelog.net",contactType:"customer support"}}),K8=()=>({"@context":"https://schema.org","@type":"WebSite",name:"PeptideLog",url:"https://peptidelog.net",description:"Free peptide reconstitution calculator and injection tracker.",potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:"https://peptidelog.net/encyclopedia?search={search_term_string}"},"query-input":"required name=search_term_string"}}),J8=()=>({"@context":"https://schema.org","@type":"WebApplication",name:"PeptideLog",url:"https://peptidelog.net",applicationCategory:"HealthApplication",operatingSystem:"Any",offers:{"@type":"Offer",price:"0",priceCurrency:"USD"},featureList:["Peptide reconstitution calculator","Injection tracking and logging","Half-life decay plotting","Price comparison tool","Peptide encyclopedia","Protocol scheduling"],screenshot:"https://peptidelog.net/pwa-512x512.png",aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",ratingCount:"156"}}),W8=()=>[F8(),K8(),J8()],e6=({title:l,description:c,canonical:o,type:d="website",image:u,jsonLd:f,includeDefaultSchemas:h=!0})=>{const g="PeptideLog",p="Free peptide reconstitution calculator and injection tracker. Log your doses, track half-lives, and manage your peptide protocols safely.",v="https://peptidelog.net/pwa-512x512.png",S="https://peptidelog.net",C=l?`${l} | ${g}`:`${g} - Peptide Calculator & Tracker`,D=c||p,V=u?u.startsWith("http")?u:`${S}${u}`:v,w=o?o.startsWith("http")?o:`${S}${o}`:typeof window<"u"?window.location.href:S,H=[];return h&&H.push(...W8()),f&&(Array.isArray(f)?H.push(...f):H.push(f)),a.jsxs(Z8,{children:[a.jsx("title",{children:C}),a.jsx("meta",{name:"description",content:D}),a.jsx("link",{rel:"canonical",href:w}),a.jsx("meta",{property:"og:type",content:d}),a.jsx("meta",{property:"og:url",content:w}),a.jsx("meta",{property:"og:title",content:C}),a.jsx("meta",{property:"og:description",content:D}),a.jsx("meta",{property:"og:image",content:V}),a.jsx("meta",{property:"og:site_name",content:g}),a.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),a.jsx("meta",{name:"twitter:title",content:C}),a.jsx("meta",{name:"twitter:description",content:D}),a.jsx("meta",{name:"twitter:image",content:V}),H.map((M,N)=>a.jsx("script",{type:"application/ld+json",children:JSON.stringify(M)},N))]})},Bt=({type:l="default"})=>{const c={padding:"20px",minHeight:"60vh",animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},o={background:"var(--glass-bg, rgba(26, 31, 53, 0.5))",borderRadius:"12px",marginBottom:"16px"},d=()=>{switch(l){case"calculator":return a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{...o,height:"48px",width:"60%",marginBottom:"24px"}}),a.jsx("div",{style:{...o,height:"300px",width:"100%"}}),a.jsx("div",{style:{...o,height:"150px",width:"100%",marginTop:"24px"}})]});case"encyclopedia":return a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{...o,height:"48px",width:"50%",marginBottom:"16px"}}),a.jsx("div",{style:{...o,height:"48px",width:"100%",marginBottom:"24px"}}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px"},children:[1,2,3,4,5,6].map(u=>a.jsx("div",{style:{...o,height:"180px"}},u))})]});case"guide":return a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{...o,height:"48px",width:"70%",marginBottom:"24px"}}),a.jsx("div",{style:{...o,height:"24px",width:"100%"}}),a.jsx("div",{style:{...o,height:"24px",width:"95%"}}),a.jsx("div",{style:{...o,height:"24px",width:"88%"}}),a.jsx("div",{style:{...o,height:"200px",width:"100%",marginTop:"24px"}}),a.jsx("div",{style:{...o,height:"24px",width:"92%",marginTop:"24px"}}),a.jsx("div",{style:{...o,height:"24px",width:"85%"}})]});case"forum":return a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{...o,height:"48px",width:"40%",marginBottom:"24px"}}),[1,2,3,4,5].map(u=>a.jsx("div",{style:{...o,height:"80px",width:"100%"}},u))]});case"prices":return a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{...o,height:"48px",width:"55%",marginBottom:"16px"}}),a.jsx("div",{style:{...o,height:"48px",width:"100%",marginBottom:"24px"}}),a.jsx("div",{style:{...o,height:"400px",width:"100%"}})]});case"inventory":return a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{...o,height:"48px",width:"45%",marginBottom:"24px"}}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginBottom:"24px"},children:[1,2,3].map(u=>a.jsx("div",{style:{...o,height:"100px"}},u))}),[1,2,3,4].map(u=>a.jsx("div",{style:{...o,height:"72px",width:"100%"}},u))]});default:return a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{...o,height:"48px",width:"50%",marginBottom:"24px"}}),a.jsx("div",{style:{...o,height:"200px",width:"100%"}}),a.jsx("div",{style:{...o,height:"150px",width:"100%",marginTop:"24px"}})]})}};return a.jsxs("div",{style:c,"aria-label":"Loading content",role:"progressbar",children:[d(),a.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.5; }
        }
      `})]})},t6=()=>{{console.log("[Sentry] DSN not configured, error tracking disabled");return}},a6=j.lazy(()=>Ge(()=>import("./Calculator-Bj895-Eq.js"),__vite__mapDeps([12,2,3,6,13,14,15,4,1,5,16]))),s6=j.lazy(()=>Ge(()=>import("./StackProtocol-DJWAI9Pb.js"),__vite__mapDeps([17,2,3,6,4,1,5,18]))),n6=j.lazy(()=>Ge(()=>import("./HalfLife-D_9JxytN.js"),__vite__mapDeps([19,2,3,6,4,1,5,20]))),i6=j.lazy(()=>Ge(()=>import("./PriceChecker-D7wAi2TV.js"),__vite__mapDeps([21,2,3,13,14,6,15,4,1,5,22]))),l6=j.lazy(()=>Ge(()=>import("./Encyclopedia-PICdINUZ.js"),__vite__mapDeps([23,2,3,14,6,15,4,1,5]))),r6=j.lazy(()=>Ge(()=>import("./PeptideDetail-CGaulG_-.js"),__vite__mapDeps([24,2,3,6,13,14,15,4,1,5]))),c6=j.lazy(()=>Ge(()=>import("./Guides-BRtgmFD_.js"),__vite__mapDeps([25,2,3,14,6,15]))),o6=j.lazy(()=>Ge(()=>import("./Safety-CqWBmsKI.js"),__vite__mapDeps([26,2,3,6]))),d6=j.lazy(()=>Ge(()=>import("./BeginnerGuide-Bilcij_o.js"),__vite__mapDeps([27,2,3,6]))),u6=j.lazy(()=>Ge(()=>import("./InjectionGuide-D3f7aFtK.js"),__vite__mapDeps([28,2,3,6]))),f6=j.lazy(()=>Ge(()=>import("./Forum-bKqHtpZw.js"),__vite__mapDeps([29,2,3,6,4,1,5,30]))),m6=j.lazy(()=>Ge(()=>import("./Inventory-COtOPJ4N.js"),__vite__mapDeps([31,2,3,6,4,1,5,32]))),h6=j.lazy(()=>Ge(()=>import("./InjectionSites-BBKRO1kW.js"),__vite__mapDeps([33,2,3,4,1,5,6,34]))),p6=j.lazy(()=>Ge(()=>import("./BloodWork-D27g6C0l.js"),__vite__mapDeps([35,2,3,6,4,1,5,36]))),g6=j.lazy(()=>Ge(()=>import("./TitrationPlan-CvVBYVq9.js"),__vite__mapDeps([37,2,3,6,4,1,5,38]))),y6=j.lazy(()=>Ge(()=>import("./Reviews-ESnxd9gG.js"),__vite__mapDeps([39,2,3,6,4,1,5,40])));function _6(){return Na.useEffect(()=>{t6(),Xw(),Gx()},[]),a.jsx(Av,{children:a.jsx(Dx,{children:a.jsxs(Ax,{children:[a.jsx(e6,{}),a.jsxs(Ev,{children:[a.jsxs(Be,{path:"/",element:a.jsx(Fw,{children:a.jsx(pj,{})}),children:[a.jsx(Be,{index:!0,element:a.jsx(R1,{})}),a.jsx(Be,{path:"log",element:a.jsx(HS,{})}),a.jsx(Be,{path:"tracker",element:a.jsx(Xr,{to:"/log",replace:!0})}),a.jsx(Be,{path:"schedule",element:a.jsx(Xr,{to:"/log",replace:!0})}),a.jsx(Be,{path:"calculator",element:a.jsx(j.Suspense,{fallback:a.jsx(Bt,{type:"calculator"}),children:a.jsx(a6,{})})}),a.jsx(Be,{path:"half-life",element:a.jsx(j.Suspense,{fallback:a.jsx(Bt,{type:"calculator"}),children:a.jsx(n6,{})})}),a.jsx(Be,{path:"stack-builder",element:a.jsx(j.Suspense,{fallback:a.jsx(Bt,{type:"calculator"}),children:a.jsx(s6,{})})}),a.jsx(Be,{path:"login",element:a.jsx(qS,{})}),a.jsx(Be,{path:"signup",element:a.jsx(VS,{})}),a.jsx(Be,{path:"forgot-password",element:a.jsx(GS,{})}),a.jsx(Be,{path:"price-checker",element:a.jsx(j.Suspense,{fallback:a.jsx(Bt,{type:"prices"}),children:a.jsx(i6,{})})}),a.jsx(Be,{path:"encyclopedia",element:a.jsx(j.Suspense,{fallback:a.jsx(Bt,{type:"encyclopedia"}),children:a.jsx(l6,{})})}),a.jsx(Be,{path:"encyclopedia/:name",element:a.jsx(j.Suspense,{fallback:a.jsx(Bt,{type:"guide"}),children:a.jsx(r6,{})})}),a.jsx(Be,{path:"guides",element:a.jsx(j.Suspense,{fallback:a.jsx(Bt,{type:"guide"}),children:a.jsx(c6,{})})}),a.jsx(Be,{path:"guides/beginner",element:a.jsx(j.Suspense,{fallback:a.jsx(Bt,{type:"guide"}),children:a.jsx(d6,{})})}),a.jsx(Be,{path:"guides/injection",element:a.jsx(j.Suspense,{fallback:a.jsx(Bt,{type:"guide"}),children:a.jsx(u6,{})})}),a.jsx(Be,{path:"safety",element:a.jsx(j.Suspense,{fallback:a.jsx(Bt,{type:"guide"}),children:a.jsx(o6,{})})}),a.jsx(Be,{path:"forum",element:a.jsx(j.Suspense,{fallback:a.jsx(Bt,{type:"forum"}),children:a.jsx(f6,{})})}),a.jsx(Be,{path:"inventory",element:a.jsx(j.Suspense,{fallback:a.jsx(Bt,{type:"inventory"}),children:a.jsx(m6,{})})}),a.jsx(Be,{path:"injection-sites",element:a.jsx(j.Suspense,{fallback:a.jsx(Bt,{type:"guide"}),children:a.jsx(h6,{})})}),a.jsx(Be,{path:"blood-work",element:a.jsx(Vr,{children:a.jsx(j.Suspense,{fallback:a.jsx(Bt,{type:"dashboard"}),children:a.jsx(p6,{})})})}),a.jsx(Be,{path:"titration",element:a.jsx(Vr,{children:a.jsx(j.Suspense,{fallback:a.jsx(Bt,{type:"calculator"}),children:a.jsx(g6,{})})})}),a.jsx(Be,{path:"reviews",element:a.jsx(j.Suspense,{fallback:a.jsx(Bt,{type:"forum"}),children:a.jsx(y6,{})})}),a.jsx(Be,{path:"settings",element:a.jsx(Vr,{children:a.jsx(Rw,{})})}),a.jsx(Be,{path:"support",element:a.jsx(Vr,{children:a.jsx(n5,{})})}),a.jsxs(Be,{path:"admin",element:a.jsx(Ex,{children:a.jsx(oN,{})}),children:[a.jsx(Be,{index:!0,element:a.jsx($N,{})}),a.jsx(Be,{path:"peptides",element:a.jsx(TC,{})}),a.jsx(Be,{path:"users",element:a.jsx(p4,{})}),a.jsx(Be,{path:"forum",element:a.jsx(K4,{})}),a.jsx(Be,{path:"reviews",element:a.jsx(w3,{})}),a.jsx(Be,{path:"prices",element:a.jsx(TT,{})}),a.jsx(Be,{path:"tickets",element:a.jsx(M5,{})}),a.jsx(Be,{path:"audit-logs",element:a.jsx(ED,{})}),a.jsx(Be,{path:"monitoring",element:a.jsx(TA,{})}),a.jsx(Be,{path:"security",element:a.jsx(u8,{})})]}),a.jsx(Be,{path:"terms",element:a.jsx($w,{})}),a.jsx(Be,{path:"privacy",element:a.jsx(Yw,{})}),a.jsx(Be,{path:"*",element:a.jsx(dg,{})})]}),a.jsx(Be,{path:"*",element:a.jsx(dg,{})})]}),a.jsx(b8,{}),a.jsx(DT,{})]})})})}Sx.createRoot(document.getElementById("root")).render(a.jsx(j.StrictMode,{children:a.jsx(Zg,{children:a.jsx(_6,{})})}));export{e6 as S,gu as W,O1 as a,Sl as b,C6 as c,Og as d,N6 as g,ru as n,pu as r,K as s,Ct as u};
