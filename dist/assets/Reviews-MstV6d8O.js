import{j as e,K as z,ay as D,a3 as S,a as y,ao as O,aE as w,aF as C,bh as G,af as H}from"./ui-DVaorLqp.js";import{a as d}from"./vendor-Cpf5lK5_.js";import{u as $,s as B,S as F}from"./index-zgGJ7i_g.js";import"./utils-tjIwna_n.js";const E="_container_1re8w_1",M="_header_1re8w_7",W="_title_1re8w_16",U="_subtitle_1re8w_25",Y="_addReviewBtn_1re8w_30",q="_searchBar_1re8w_49",K="_searchInput_1re8w_56",Q="_sortSelect_1re8w_84",J="_layout_1re8w_93",X="_vendorList_1re8w_105",Z="_vendorItem_1re8w_125",ee="_active_1re8w_145",se="_vendorInfo_1re8w_150",te="_vendorName_1re8w_156",re="_verifiedBadge_1re8w_163",ne="_vendorRating_1re8w_171",ie="_reviewCount_1re8w_183",ae="_reviewsSection_1re8w_194",oe="_vendorHeader_1re8w_198",de="_vendorDetails_1re8w_211",le="_verifiedTag_1re8w_221",ce="_vendorLink_1re8w_234",me="_vendorStats_1re8w_242",ve="_statItem_1re8w_247",_e="_statValue_1re8w_251",we="_statLabel_1re8w_258",ue="_noReviews_1re8w_263",pe="_reviewsList_1re8w_268",he="_reviewCard_1re8w_274",xe="_reviewHeader_1re8w_281",je="_reviewMeta_1re8w_288",ge="_reviewVendor_1re8w_295",fe="_stars_1re8w_304",Ne="_star_1re8w_304",be="_filled_1re8w_317",Re="_reviewTitle_1re8w_329",Se="_reviewRecommend_1re8w_335",ye="_recommended_1re8w_339",Ce="_notRecommended_1re8w_340",Be="_reviewContent_1re8w_360",Le="_peptidesOrdered_1re8w_366",Ie="_reviewFooter_1re8w_375",Ve="_reviewDate_1re8w_383",ke="_reviewActions_1re8w_388",Pe="_helpfulBtn_1re8w_393",Ae="_reportBtn_1re8w_394",Te="_emptyState_1re8w_418",ze="_modalOverlay_1re8w_443",De="_modal_1re8w_443",Oe="_formGroup_1re8w_473",Ge="_ratingsGrid_1re8w_501",He="_ratingItem_1re8w_511",$e="_recommendToggle_1re8w_526",Fe="_recommendBtn_1re8w_531",Ee="_modalActions_1re8w_557",Me="_cancelBtn_1re8w_564",We="_submitBtn_1re8w_574",s={container:E,header:M,title:W,subtitle:U,addReviewBtn:Y,searchBar:q,searchInput:K,sortSelect:Q,layout:J,vendorList:X,vendorItem:Z,active:ee,vendorInfo:se,vendorName:te,verifiedBadge:re,vendorRating:ne,reviewCount:ie,reviewsSection:ae,vendorHeader:oe,vendorDetails:de,verifiedTag:le,vendorLink:ce,vendorStats:me,statItem:ve,statValue:_e,statLabel:we,noReviews:ue,reviewsList:pe,reviewCard:he,reviewHeader:xe,reviewMeta:je,reviewVendor:ge,stars:fe,star:Ne,filled:be,reviewTitle:Re,reviewRecommend:Se,recommended:ye,notRecommended:Ce,reviewContent:Be,peptidesOrdered:Le,reviewFooter:Ie,reviewDate:Ve,reviewActions:ke,helpfulBtn:Pe,reportBtn:Ae,emptyState:Te,modalOverlay:ze,modal:De,formGroup:Oe,ratingsGrid:Ge,ratingItem:He,recommendToggle:$e,recommendBtn:Fe,modalActions:Ee,cancelBtn:Me,submitBtn:We},u=[{id:"apollo-peptides",name:"Apollo Peptides",website:"apollopeptidesciences.com",verified:!0},{id:"peptide-sciences",name:"Peptide Sciences",website:"peptidesciences.com",verified:!0},{id:"swiss-chems",name:"Swiss Chems",website:"swisschems.com",verified:!0},{id:"amino-asylum",name:"Amino Asylum",website:"aminoasylum.com",verified:!1},{id:"paradigm-peptides",name:"Paradigm Peptides",website:"paradigmpeptides.com",verified:!0},{id:"pure-rawz",name:"PureRawz",website:"purerawz.co",verified:!1},{id:"biotech-peptides",name:"Biotech Peptides",website:"biotechpeptides.com",verified:!0},{id:"direct-sarms",name:"Direct SARMs",website:"direct-sarms.com",verified:!1},{id:"us-peptides",name:"US Peptides",website:"uspeptides.com",verified:!1},{id:"extreme-peptides",name:"Extreme Peptides",website:"extremepeptides.com",verified:!1},{id:"proven-peptides",name:"Proven Peptides",website:"provenpeptides.com",verified:!1}],Ue=[{id:"quality",label:"Product Quality",icon:"ðŸ’Ž"},{id:"shipping",label:"Shipping Speed",icon:"ðŸ“¦"},{id:"service",label:"Customer Service",icon:"ðŸ’¬"},{id:"value",label:"Value for Money",icon:"ðŸ’°"},{id:"packaging",label:"Packaging",icon:"ðŸŽ"}],Ye=()=>{const{user:p}=$(),[_,h]=d.useState([]),[qe,L]=d.useState(!0),[i,x]=d.useState(null),[j,I]=d.useState(""),[c,V]=d.useState("recent"),[k,m]=d.useState(!1),[n,a]=d.useState({vendor_id:"",ratings:{},title:"",content:"",peptides_ordered:"",would_recommend:!0});d.useEffect(()=>{g()},[]);const g=async()=>{try{const{data:t,error:r}=await B.from("vendor_reviews").select(`
          *,
          profiles:user_id (full_name)
        `).order("created_at",{ascending:!1});if(r)throw r;h(t||[])}catch(t){console.error("Error fetching reviews:",t),h([])}finally{L(!1)}},P=async()=>{if(!p){alert("Please log in to submit a review");return}try{const{error:t}=await B.from("vendor_reviews").insert({user_id:p.id,...n,overall_rating:Object.values(n.ratings).reduce((r,o)=>r+o,0)/Object.keys(n.ratings).length});if(t)throw t;m(!1),a({vendor_id:"",ratings:{},title:"",content:"",peptides_ordered:"",would_recommend:!0}),g()}catch(t){console.error("Error submitting review:",t)}},f=t=>{const r=_.filter(v=>v.vendor_id===t);if(r.length===0)return{avg:0,count:0,recommend:0};const o=r.reduce((v,T)=>v+(T.overall_rating||0),0)/r.length,l=r.filter(v=>v.would_recommend).length/r.length*100;return{avg:o.toFixed(1),count:r.length,recommend:Math.round(l)}},A=u.filter(t=>t.name.toLowerCase().includes(j.toLowerCase())),N=[..._].sort((t,r)=>c==="recent"?new Date(r.created_at)-new Date(t.created_at):c==="highest"?(r.overall_rating||0)-(t.overall_rating||0):c==="lowest"?(t.overall_rating||0)-(r.overall_rating||0):c==="helpful"?(r.helpful_count||0)-(t.helpful_count||0):0),b=i?N.filter(t=>t.vendor_id===i.id):N,R=(t,r=!1,o=null)=>e.jsx("div",{className:s.stars,children:[1,2,3,4,5].map(l=>e.jsx("button",{type:"button",className:`${s.star} ${l<=t?s.filled:""}`,onClick:()=>r&&o&&o(l),disabled:!r,children:e.jsx(y,{size:r?24:16,fill:l<=t?"currentColor":"none"})},l))});return e.jsxs("div",{className:s.container,children:[e.jsxs("div",{className:s.header,children:[e.jsxs("div",{children:[e.jsx("h1",{className:s.title,children:"Vendor Reviews"}),e.jsx("p",{className:s.subtitle,children:"Community reviews and ratings of peptide vendors"})]}),e.jsxs("button",{className:s.addReviewBtn,onClick:()=>m(!0),children:[e.jsx(z,{size:20}),"Write a Review"]})]}),e.jsxs("div",{className:s.searchBar,children:[e.jsxs("div",{className:s.searchInput,children:[e.jsx(D,{size:18}),e.jsx("input",{type:"text",placeholder:"Search vendors...",value:j,onChange:t=>I(t.target.value)})]}),e.jsxs("select",{value:c,onChange:t=>V(t.target.value),className:s.sortSelect,children:[e.jsx("option",{value:"recent",children:"Most Recent"}),e.jsx("option",{value:"highest",children:"Highest Rated"}),e.jsx("option",{value:"lowest",children:"Lowest Rated"}),e.jsx("option",{value:"helpful",children:"Most Helpful"})]})]}),e.jsxs("div",{className:s.layout,children:[e.jsxs("aside",{className:s.vendorList,children:[e.jsx("h3",{children:"Vendors"}),e.jsxs("button",{className:`${s.vendorItem} ${i?"":s.active}`,onClick:()=>x(null),children:[e.jsx("span",{children:"All Vendors"}),e.jsx("span",{className:s.reviewCount,children:_.length})]}),A.map(t=>{const r=f(t.id);return e.jsxs("button",{className:`${s.vendorItem} ${i?.id===t.id?s.active:""}`,onClick:()=>x(t),children:[e.jsxs("div",{className:s.vendorInfo,children:[e.jsxs("span",{className:s.vendorName,children:[t.name,t.verified&&e.jsx(S,{size:14,className:s.verifiedBadge})]}),r.count>0&&e.jsxs("div",{className:s.vendorRating,children:[e.jsx(y,{size:12,fill:"currentColor"}),e.jsx("span",{children:r.avg})]})]}),e.jsx("span",{className:s.reviewCount,children:r.count})]},t.id)})]}),e.jsxs("main",{className:s.reviewsSection,children:[i&&e.jsxs("div",{className:s.vendorHeader,children:[e.jsxs("div",{className:s.vendorDetails,children:[e.jsxs("h2",{children:[i.name,i.verified&&e.jsxs("span",{className:s.verifiedTag,children:[e.jsx(S,{size:16})," Verified Vendor"]})]}),e.jsxs("a",{href:`https://${i.website}`,target:"_blank",rel:"noopener noreferrer",className:s.vendorLink,children:[i.website," ",e.jsx(O,{size:14})]})]}),e.jsx("div",{className:s.vendorStats,children:(()=>{const t=f(i.id);return t.count>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:s.statItem,children:[e.jsx("span",{className:s.statValue,children:t.avg}),e.jsx("span",{className:s.statLabel,children:"Average Rating"})]}),e.jsxs("div",{className:s.statItem,children:[e.jsx("span",{className:s.statValue,children:t.count}),e.jsx("span",{className:s.statLabel,children:"Reviews"})]}),e.jsxs("div",{className:s.statItem,children:[e.jsxs("span",{className:s.statValue,children:[t.recommend,"%"]}),e.jsx("span",{className:s.statLabel,children:"Recommend"})]})]}):e.jsx("span",{className:s.noReviews,children:"No reviews yet"})})()})]}),b.length>0?e.jsx("div",{className:s.reviewsList,children:b.map(t=>{const r=u.find(o=>o.id===t.vendor_id);return e.jsxs("div",{className:s.reviewCard,children:[e.jsxs("div",{className:s.reviewHeader,children:[e.jsxs("div",{children:[e.jsxs("div",{className:s.reviewMeta,children:[!i&&r&&e.jsx("span",{className:s.reviewVendor,children:r.name}),R(t.overall_rating||0)]}),e.jsx("h4",{className:s.reviewTitle,children:t.title})]}),e.jsx("div",{className:s.reviewRecommend,children:t.would_recommend?e.jsxs("span",{className:s.recommended,children:[e.jsx(w,{size:14})," Recommends"]}):e.jsxs("span",{className:s.notRecommended,children:[e.jsx(C,{size:14})," Doesn't Recommend"]})})]}),e.jsx("p",{className:s.reviewContent,children:t.content}),t.peptides_ordered&&e.jsxs("div",{className:s.peptidesOrdered,children:[e.jsx("strong",{children:"Peptides ordered:"})," ",t.peptides_ordered]}),e.jsxs("div",{className:s.reviewFooter,children:[e.jsx("span",{className:s.reviewDate,children:new Date(t.created_at).toLocaleDateString()}),e.jsxs("div",{className:s.reviewActions,children:[e.jsxs("button",{className:s.helpfulBtn,children:[e.jsx(w,{size:14}),"Helpful (",t.helpful_count||0,")"]}),e.jsx("button",{className:s.reportBtn,children:e.jsx(G,{size:14})})]})]})]},t.id)})}):e.jsxs("div",{className:s.emptyState,children:[e.jsx(H,{size:48}),e.jsx("h3",{children:"No reviews yet"}),e.jsxs("p",{children:["Be the first to review ",i?i.name:"a vendor","!"]}),e.jsx("button",{className:s.addReviewBtn,onClick:()=>m(!0),children:"Write a Review"})]})]})]}),k&&e.jsx("div",{className:s.modalOverlay,onClick:()=>m(!1),children:e.jsxs("div",{className:s.modal,onClick:t=>t.stopPropagation(),children:[e.jsx("h2",{children:"Write a Review"}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Select Vendor *"}),e.jsxs("select",{value:n.vendor_id,onChange:t=>a({...n,vendor_id:t.target.value}),children:[e.jsx("option",{value:"",children:"Choose a vendor..."}),u.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsx("div",{className:s.ratingsGrid,children:Ue.map(t=>e.jsxs("div",{className:s.ratingItem,children:[e.jsxs("label",{children:[t.icon," ",t.label]}),R(n.ratings[t.id]||0,!0,r=>a({...n,ratings:{...n.ratings,[t.id]:r}}))]},t.id))}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Review Title *"}),e.jsx("input",{type:"text",placeholder:"Sum up your experience...",value:n.title,onChange:t=>a({...n,title:t.target.value})})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Your Review *"}),e.jsx("textarea",{placeholder:"Share details about your experience...",rows:4,value:n.content,onChange:t=>a({...n,content:t.target.value})})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Peptides Ordered (Optional)"}),e.jsx("input",{type:"text",placeholder:"e.g., BPC-157, Semaglutide",value:n.peptides_ordered,onChange:t=>a({...n,peptides_ordered:t.target.value})})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Would you recommend this vendor?"}),e.jsxs("div",{className:s.recommendToggle,children:[e.jsxs("button",{type:"button",className:`${s.recommendBtn} ${n.would_recommend?s.active:""}`,onClick:()=>a({...n,would_recommend:!0}),children:[e.jsx(w,{size:18})," Yes"]}),e.jsxs("button",{type:"button",className:`${s.recommendBtn} ${n.would_recommend?"":s.active}`,onClick:()=>a({...n,would_recommend:!1}),children:[e.jsx(C,{size:18})," No"]})]})]}),e.jsxs("div",{className:s.modalActions,children:[e.jsx("button",{className:s.cancelBtn,onClick:()=>m(!1),children:"Cancel"}),e.jsx("button",{className:s.submitBtn,onClick:P,disabled:!n.vendor_id||!n.title||!n.content,children:"Submit Review"})]})]})})]})},Ze=()=>e.jsxs(e.Fragment,{children:[e.jsx(F,{title:"Vendor Reviews | Peptide Supplier Ratings",description:"Community reviews and ratings of peptide vendors. Find trusted suppliers with verified reviews from real users.",keywords:"peptide vendor reviews, peptide supplier ratings, peptide sources, trusted vendors"}),e.jsx(Ye,{})]});export{Ze as default};
