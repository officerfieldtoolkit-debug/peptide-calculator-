import{j as e,an as S,a as c,aI as w,aj as z,ab as B,O as R,A as k,a6 as C,af as I,B as L,ao as D}from"./ui-DVaorLqp.js";import{a as n,L as N}from"./vendor-Cpf5lK5_.js";import{u as W,g as A,c as E,S as T}from"./index-BpXnOfzg.js";import{S as P}from"./ShareButton-CLdL4Jme.js";import"./utils-tjIwna_n.js";import"./SocialShare-DxIz_hze.js";const H=({peptideName:s})=>{const{user:i}=W(),[t,l]=n.useState([]),[v,m]=n.useState(!0),[d,p]=n.useState(0),[g,x]=n.useState(""),[y,h]=n.useState(!1),[f,j]=n.useState(0);n.useEffect(()=>{u()},[s]);const u=async()=>{m(!0);const r=await A(s);l(r),m(!1)},b=async r=>{if(r.preventDefault(),!i)return;if(d===0)return alert("Please select a rating");h(!0);const a=await E(s,d,g,i.id);l([a,...t]),p(0),x(""),h(!1)},o=t.length?(t.reduce((r,a)=>r+a.rating,0)/t.length).toFixed(1):0;return e.jsxs("div",{className:"card glass-panel",style:{padding:"2rem",marginTop:"2rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"2rem"},children:[e.jsxs("div",{children:[e.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx(S,{size:24,color:"var(--accent-primary)"}),"Community Reviews"]}),e.jsxs("p",{style:{color:"var(--text-secondary)",marginTop:"0.5rem"},children:["See what others are saying about ",s]})]}),t.length>0&&e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"700",color:"var(--text-primary)",lineHeight:1},children:o}),e.jsx("div",{style:{display:"flex",gap:"2px",justifyContent:"flex-end",margin:"0.25rem 0"},children:[1,2,3,4,5].map(r=>e.jsx(c,{size:16,fill:r<=Math.round(o)?"#fbbf24":"none",color:r<=Math.round(o)?"#fbbf24":"#4b5563"},r))}),e.jsxs("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:[t.length," ",t.length===1?"rating":"ratings"]})]})]}),i?e.jsxs("form",{onSubmit:b,style:{background:"rgba(15, 23, 42, 0.3)",padding:"1.5rem",borderRadius:"12px",marginBottom:"2rem",border:"1px solid var(--glass-border)"},children:[e.jsx("h3",{style:{fontSize:"1rem",marginBottom:"1rem"},children:"Leave a Review"}),e.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[1,2,3,4,5].map(r=>e.jsx("button",{type:"button",onClick:()=>p(r),onMouseEnter:()=>j(r),onMouseLeave:()=>j(0),style:{background:"none",border:"none",cursor:"pointer",padding:0,transition:"transform 0.1s"},children:e.jsx(c,{size:24,fill:(f||d)>=r?"#fbbf24":"none",color:(f||d)>=r?"#fbbf24":"#4b5563"})},r))}),e.jsx("textarea",{value:g,onChange:r=>x(r.target.value),placeholder:"Share your experience...",style:{width:"100%",minHeight:"100px",padding:"1rem",background:"rgba(15, 23, 42, 0.5)",border:"1px solid var(--glass-border)",borderRadius:"8px",color:"var(--text-primary)",marginBottom:"1rem",resize:"vertical"}}),e.jsxs("button",{type:"submit",className:"btn-primary",disabled:y||d===0,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[y?"Posting...":"Post Review"," ",e.jsx(w,{size:16})]})]}):e.jsx("div",{style:{padding:"1.5rem",textAlign:"center",background:"rgba(59, 130, 246, 0.1)",borderRadius:"12px",marginBottom:"2rem",border:"1px solid rgba(59, 130, 246, 0.2)"},children:e.jsxs("p",{children:["Please ",e.jsx("a",{href:"/login",style:{color:"var(--accent-primary)",fontWeight:"600"},children:"log in"})," to leave a review."]})}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:v?e.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center"},children:"Loading reviews..."}):t.length===0?e.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",fontStyle:"italic"},children:"No reviews yet. Be the first to share your experience!"}):t.map(r=>e.jsxs("div",{style:{paddingBottom:"1.5rem",borderBottom:"1px solid var(--glass-border)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"var(--glass-surface)",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid var(--glass-border)"},children:e.jsx(z,{size:16,color:"var(--text-secondary)"})}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"0.9rem"},children:r.user_name||"Anonymous"}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:new Date(r.created_at).toLocaleDateString()})]})]}),e.jsx("div",{style:{display:"flex",gap:"2px"},children:[1,2,3,4,5].map(a=>e.jsx(c,{size:14,fill:a<=r.rating?"#fbbf24":"none",color:a<=r.rating?"#fbbf24":"#4b5563"},a))})]}),e.jsx("p",{style:{color:"var(--text-secondary)",lineHeight:"1.5"},children:r.comment})]},r.id))})]})},G=()=>e.jsxs("div",{className:"page-container",children:[e.jsx(T,{}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[e.jsxs(N,{to:"/encyclopedia",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"var(--text-secondary)",textDecoration:"none"},children:[e.jsx(B,{size:20})," Back to Encyclopedia"]}),e.jsx(P,{title:`${peptide.name} Guide - PeptideLog`,text:`Check out the dosage protocol and benefits for ${peptide.name}.`})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem",marginBottom:"2rem"},children:[e.jsx("div",{className:"card glass-panel",style:{padding:"2rem",gridColumn:"1 / -1"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",flexWrap:"wrap",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{color:"var(--accent-primary)",fontSize:"0.875rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em"},children:peptide.category}),e.jsx("h1",{style:{fontSize:"2.5rem",margin:"0.5rem 0 1rem 0"},children:peptide.name}),e.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"1.125rem",maxWidth:"800px",lineHeight:"1.6"},children:peptide.description})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[e.jsxs("div",{style:{padding:"1rem",background:"rgba(15, 23, 42, 0.5)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--text-secondary)",marginBottom:"0.25rem",fontSize:"0.875rem"},children:[e.jsx(R,{size:16})," Half-Life"]}),e.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)"},children:peptide.halfLife})]}),e.jsxs("div",{style:{padding:"1rem",background:"rgba(15, 23, 42, 0.5)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--text-secondary)",marginBottom:"0.25rem",fontSize:"0.875rem"},children:[e.jsx(k,{size:16})," Common Dosage"]}),e.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)"},children:peptide.commonDosage})]})]})]})}),e.jsxs("div",{className:"card glass-panel",style:{padding:"2rem"},children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[e.jsx(C,{className:"text-accent",size:24})," Benefits"]}),e.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:"0.75rem"},children:peptide.benefits&&peptide.benefits.map((s,i)=>e.jsxs("li",{style:{display:"flex",gap:"0.75rem",alignItems:"start",color:"var(--text-secondary)"},children:[e.jsx("span",{style:{color:"#10b981",marginTop:"0.25rem"},children:"âœ“"}),s]},i))})]}),e.jsxs("div",{className:"card glass-panel",style:{padding:"2rem"},children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[e.jsx(I,{className:"text-accent",size:24})," Side Effects & Warnings"]}),e.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:"0.75rem"},children:peptide.sideEffects&&peptide.sideEffects.map((s,i)=>e.jsxs("li",{style:{display:"flex",gap:"0.75rem",alignItems:"start",color:"var(--text-secondary)"},children:[e.jsx("span",{style:{color:"#f59e0b",marginTop:"0.25rem"},children:"!"}),s]},i))}),peptide.warnings&&peptide.warnings.length>0&&e.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"var(--radius-md)",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[e.jsx("strong",{style:{color:"#ef4444",display:"block",marginBottom:"0.5rem"},children:"Important Warnings:"}),e.jsx("ul",{style:{paddingLeft:"1.25rem",margin:0,color:"var(--text-secondary)",fontSize:"0.875rem"},children:peptide.warnings.map((s,i)=>e.jsx("li",{children:s},i))})]})]}),peptide.protocols&&peptide.protocols.length>0&&e.jsxs("div",{className:"card glass-panel",style:{padding:"2rem",gridColumn:"1 / -1"},children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[e.jsx(L,{className:"text-accent",size:24})," Dosage Protocols"]}),e.jsx("div",{style:{display:"grid",gap:"1.5rem"},children:peptide.protocols.map((s,i)=>e.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.5)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)",overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"1rem 1.5rem",borderBottom:"1px solid var(--glass-border)",background:"rgba(255, 255, 255, 0.02)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.25rem"},children:[e.jsx("h4",{style:{margin:0,fontSize:"1.125rem"},children:s.name}),e.jsx("span",{style:{fontSize:"0.75rem",padding:"0.25rem 0.75rem",borderRadius:"999px",background:"var(--accent-primary)",color:"white"},children:s.level})]}),e.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"var(--text-secondary)"},children:s.description})]}),e.jsxs("div",{style:{padding:"1.5rem"},children:[s.schedule&&e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"1px solid var(--glass-border)",textAlign:"left"},children:[e.jsx("th",{style:{padding:"0.75rem",color:"var(--text-secondary)"},children:"Week"}),e.jsx("th",{style:{padding:"0.75rem",color:"var(--text-secondary)"},children:"Dose"}),e.jsx("th",{style:{padding:"0.75rem",color:"var(--text-secondary)"},children:"Frequency"}),e.jsx("th",{style:{padding:"0.75rem",color:"var(--text-secondary)"},children:"Notes"})]})}),e.jsx("tbody",{children:s.schedule.map((t,l)=>e.jsxs("tr",{style:{borderBottom:l<s.schedule.length-1?"1px solid var(--glass-border)":"none"},children:[e.jsx("td",{style:{padding:"0.75rem",fontWeight:"500"},children:t.week}),e.jsx("td",{style:{padding:"0.75rem"},children:t.dose}),e.jsx("td",{style:{padding:"0.75rem"},children:t.frequency}),e.jsx("td",{style:{padding:"0.75rem",color:"var(--text-secondary)"},children:t.notes})]},l))})]})}),s.notes&&e.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(59, 130, 246, 0.1)",borderRadius:"0.5rem",fontSize:"0.875rem",color:"#93c5fd"},children:[e.jsx("strong",{children:"Note:"})," ",s.notes]})]})]},i))})]}),peptide.researchLinks&&peptide.researchLinks.length>0&&e.jsxs("div",{className:"card glass-panel",style:{padding:"2rem",gridColumn:"1 / -1"},children:[e.jsx("h3",{style:{marginBottom:"1rem"},children:"Research & Clinical Studies"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:peptide.researchLinks.map((s,i)=>e.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--accent-primary)",textDecoration:"none"},children:[e.jsx(D,{size:16}),s]},i))})]}),e.jsx("div",{style:{gridColumn:"1 / -1"},children:e.jsx(H,{peptideName:peptide.name})})]})]});export{G as default};
