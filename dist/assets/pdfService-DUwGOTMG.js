import{E as P}from"./vendor-CkzOwYxW.js";const D=(o,a,n="all")=>{const e=new P,r=a?.user_metadata?.full_name||a?.email||"User",d=new Date().toLocaleDateString();e.setFontSize(22),e.setTextColor(40,44,52),e.text("Peptide Tracker Report",14,20),e.setFontSize(10),e.setTextColor(100,100,100),e.text(`Generated on: ${d}`,14,28),e.text(`Patient/User: ${r}`,14,33),n!=="all"&&e.text(`Period: ${n}`,14,38);const p=o.length,c=[...new Set(o.map(t=>t.peptide_name))].join(", ");e.setDrawColor(200,200,200),e.line(14,45,196,45),e.setFontSize(12),e.setTextColor(0,0,0),e.text("Summary",14,55),e.setFontSize(10),e.text(`Total Injections: ${p}`,14,62),e.text("Active Compounds:",14,68);const s=e.splitTextToSize(c,170);e.text(s,45,68);const g=68+s.length*5,m=["Date","Time","Peptide","Dosage","Notes"],i=[];o.forEach(t=>{const S=new Date(t.injection_date).toLocaleDateString(),x=new Date(t.injection_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),h=t.peptide_name,u=`${t.dosage_mcg} mcg`,T=t.notes||"-";i.push([S,x,h,u,T])}),e.autoTable({startY:g+10,head:[m],body:i,theme:"grid",headStyles:{fillColor:[79,70,229]},styles:{fontSize:9,cellPadding:3},alternateRowStyles:{fillColor:[245,247,250]}});const l=e.internal.getNumberOfPages();for(let t=1;t<=l;t++)e.setPage(t),e.setFontSize(8),e.setTextColor(150),e.text("Generated by Peptide Tracker",14,e.internal.pageSize.height-10),e.text(`Page ${t} of ${l}`,e.internal.pageSize.width-25,e.internal.pageSize.height-10);e.save(`peptide-report-${new Date().toISOString().split("T")[0]}.pdf`)};export{D as generatePDFReport};
