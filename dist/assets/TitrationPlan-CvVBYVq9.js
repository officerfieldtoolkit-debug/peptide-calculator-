import{j as e}from"./vendor-charts-Bp3-pUCH.js";import{r as d}from"./vendor-react-CXiJbH0b.js";import{u as S,d as $,S as F}from"./index-1thB5OX8.js";import{a7 as E,D as L,q as z,p as M,k as R,a2 as O,aJ as H}from"./vendor-ui-DZIkMbEy.js";import"./vendor-utils-CWRG567-.js";import"./vendor-pdf-BHURsPEW.js";import"./vendor-supabase-cfKfdWz3.js";const U="_container_q36ho_1",J="_headerActions_q36ho_7",K="_primaryBtn_q36ho_12",V="_settingRow_q36ho_37",Y="_header_q36ho_7",Z="_title_q36ho_57",Q="_subtitle_q36ho_66",X="_exportBtn_q36ho_71",ee="_setupGrid_q36ho_90",te="_setupCard_q36ho_97",se="_select_q36ho_113",ne="_dateInput_q36ho_114",ae="_drugCategory_q36ho_125",oe="_protocolDesc_q36ho_126",re="_weightInputs_q36ho_131",ie="_arrow_q36ho_158",de="_weightDiff_q36ho_163",ce="_timeline_q36ho_170",le="_steps_q36ho_185",ue="_stepCard_q36ho_199",he="_past_q36ho_207",pe="_current_q36ho_211",me="_stepIndicator_q36ho_215",ge="_currentDot_q36ho_244",xe="_stepContent_q36ho_264",_e="_stepHeader_q36ho_277",je="_stepDose_q36ho_284",De="_stepWeek_q36ho_290",we="_stepDates_q36ho_299",ye="_stepNotes_q36ho_308",fe="_currentBadge_q36ho_314",ke="_infoBox_q36ho_328",ve="_premiumGate_q36ho_362",Ne="_premiumCard_q36ho_370",Se="_lockIcon_q36ho_379",qe="_upgradeBtn_q36ho_408",s={container:U,headerActions:J,primaryBtn:K,settingRow:V,header:Y,title:Z,subtitle:Q,exportBtn:X,setupGrid:ee,setupCard:te,select:se,dateInput:ne,drugCategory:ae,protocolDesc:oe,weightInputs:re,arrow:ie,weightDiff:de,timeline:ce,steps:le,stepCard:ue,past:he,current:pe,stepIndicator:me,currentDot:ge,stepContent:xe,stepHeader:_e,stepDose:je,stepWeek:De,stepDates:we,stepNotes:ye,currentBadge:fe,infoBox:ke,premiumGate:ve,premiumCard:Ne,lockIcon:Se,upgradeBtn:qe},N={semaglutide:{name:"Semaglutide (Ozempic/Wegovy)",category:"GLP-1 Agonist",frequency:"Weekly",protocols:[{name:"Standard FDA Protocol",description:"FDA-approved escalation for weight management",steps:[{week:1,duration:4,dose:.25,unit:"mg",notes:"Starting dose - expect some nausea"},{week:5,duration:4,dose:.5,unit:"mg",notes:"First increase"},{week:9,duration:4,dose:1,unit:"mg",notes:"Therapeutic dose"},{week:13,duration:4,dose:1.7,unit:"mg",notes:"Optional increase"},{week:17,duration:0,dose:2.4,unit:"mg",notes:"Maximum dose"}]},{name:"Slow Titration",description:"For those sensitive to GI effects",steps:[{week:1,duration:6,dose:.25,unit:"mg",notes:"Extended starting phase"},{week:7,duration:6,dose:.5,unit:"mg",notes:"Gradual increase"},{week:13,duration:0,dose:1,unit:"mg",notes:"May stay here long-term"}]}]},tirzepatide:{name:"Tirzepatide (Mounjaro/Zepbound)",category:"GIP/GLP-1 Dual Agonist",frequency:"Weekly",protocols:[{name:"Standard Protocol",description:"FDA-approved titration",steps:[{week:1,duration:4,dose:2.5,unit:"mg",notes:"Starting dose"},{week:5,duration:4,dose:5,unit:"mg",notes:"First therapeutic dose"},{week:9,duration:4,dose:7.5,unit:"mg",notes:"Increase if tolerated"},{week:13,duration:4,dose:10,unit:"mg",notes:"Strong therapeutic dose"},{week:17,duration:4,dose:12.5,unit:"mg",notes:"Near maximum"},{week:21,duration:0,dose:15,unit:"mg",notes:"Maximum approved dose"}]}]},liraglutide:{name:"Liraglutide (Saxenda)",category:"GLP-1 Agonist",frequency:"Daily",protocols:[{name:"Standard Daily Protocol",description:"FDA-approved daily titration",steps:[{week:1,duration:1,dose:.6,unit:"mg",notes:"Week 1"},{week:2,duration:1,dose:1.2,unit:"mg",notes:"Week 2"},{week:3,duration:1,dose:1.8,unit:"mg",notes:"Week 3"},{week:4,duration:1,dose:2.4,unit:"mg",notes:"Week 4"},{week:5,duration:0,dose:3,unit:"mg",notes:"Maintenance dose"}]}]},retatrutide:{name:"Retatrutide",category:"Triple Agonist",frequency:"Weekly",protocols:[{name:"Clinical Trial Protocol",description:"Based on phase 2 trial escalation",steps:[{week:1,duration:4,dose:1,unit:"mg",notes:"Low starting dose"},{week:5,duration:4,dose:2,unit:"mg",notes:"First increase"},{week:9,duration:4,dose:4,unit:"mg",notes:"Mid-range dose"},{week:13,duration:4,dose:8,unit:"mg",notes:"Higher dose"},{week:17,duration:0,dose:12,unit:"mg",notes:"Maximum studied"}]}]},mk677:{name:"MK-677 (Ibutamoren)",category:"GH Secretagogue",frequency:"Daily (Oral)",protocols:[{name:"Standard Protocol",description:"Common dosing approach",steps:[{week:1,duration:2,dose:12.5,unit:"mg",notes:"Half dose to assess tolerance"},{week:3,duration:0,dose:25,unit:"mg",notes:"Full dose - take at night"}]},{name:"Low Dose Protocol",description:"For those experiencing side effects",steps:[{week:1,duration:0,dose:10,unit:"mg",notes:"Lower dose, fewer sides"}]}]}},Ce=({isPremium:_=!1})=>{const{user:j}=S(),[c,q]=d.useState("semaglutide"),[D,w]=d.useState(0),[p,C]=d.useState(new Date().toISOString().split("T")[0]),[l,b]=d.useState(""),[m,P]=d.useState("");if(!_)return e.jsx("div",{className:s.premiumGate,children:e.jsxs("div",{className:s.premiumCard,children:[e.jsx(E,{size:48,className:s.lockIcon}),e.jsx("h2",{children:"Premium Feature"}),e.jsx("p",{children:"Titration Planner is a premium feature that helps you:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Plan your dose escalation schedule"}),e.jsx("li",{children:"Get calendar reminders for dose changes"}),e.jsx("li",{children:"Track your progress and adjust as needed"}),e.jsx("li",{children:"Export your plan to share with your doctor"}),e.jsx("li",{children:"Access FDA-approved and alternative protocols"})]}),e.jsx("button",{className:s.upgradeBtn,children:"Upgrade to Premium"})]})});const o=N[c],u=o.protocols[D],g=d.useMemo(()=>{const t=[];let n=new Date(p);return u.steps.forEach((a,i)=>{const r=new Date(n),G=a.duration>0?new Date(n.setDate(n.getDate()+a.duration*7-1)):null;t.push({...a,startDate:r,endDate:G,weekNumber:a.week,isFirst:i===0,isLast:i===u.steps.length-1}),a.duration>0&&(n=new Date(n.setDate(n.getDate()+1)))}),t},[p,u]),h=t=>t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),x=t=>{const n=new Date;return t.endDate?n>=t.startDate&&n<=t.endDate:n>=t.startDate},y=t=>{const n=new Date;return t.endDate?n>t.endDate:!1},I=()=>{const t=`${o.name} Titration Plan
Protocol: ${u.name}
Start Date: ${h(new Date(p))}

`+g.map(r=>`Week ${r.weekNumber}: ${r.dose}${r.unit} - Starting ${h(r.startDate)}`+(r.endDate?` to ${h(r.endDate)}`:" (ongoing)")+`
  Notes: ${r.notes}`).join(`

`),n=new Blob([t],{type:"text/plain"}),a=URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.download=`titration-plan-${c}.txt`,i.click()},{createRecurringSchedule:B}=$(),[f,k]=d.useState(!1),[v,T]=d.useState(1),W=async()=>{if(confirm("This will create schedule entries for the entire duration of the plan. Continue?")){k(!0);try{let t=[];o.frequency.includes("Daily")?t=[0,1,2,3,4,5,6]:t=[parseInt(v)];let n=0;for(const a of g){if(!a.endDate&&!a.duration)continue;const i=a.endDate||new Date(new Date(a.startDate).setDate(new Date(a.startDate).getDate()+28));await B({name:`${o.name} - Phase ${a.weekNumber}`,peptide:o.name.split(" ")[0],dosage:a.dose,unit:a.unit,time:"08:00",recurrenceDays:t,notes:a.notes},a.startDate,i),n++}alert(`Successfully created schedules for ${n} phases! Check your calendar.`)}catch(t){console.error("Error applying to schedule:",t),alert("Failed to save schedule. Please try again.")}finally{k(!1)}}},A=[{id:0,label:"Sunday"},{id:1,label:"Monday"},{id:2,label:"Tuesday"},{id:3,label:"Wednesday"},{id:4,label:"Thursday"},{id:5,label:"Friday"},{id:6,label:"Saturday"}];return e.jsxs("div",{className:s.container,children:[e.jsxs("div",{className:s.header,children:[e.jsxs("div",{children:[e.jsx("h1",{className:s.title,children:"Titration Planner"}),e.jsx("p",{className:s.subtitle,children:"Plan and track your dose escalation schedule"})]}),e.jsxs("div",{className:s.headerActions,children:[e.jsx("button",{className:s.primaryBtn,onClick:W,disabled:f,children:f?"Scheduling...":"Add to Calendar"}),e.jsxs("button",{className:s.exportBtn,onClick:I,children:[e.jsx(L,{size:18}),"Export"]})]})]}),e.jsxs("div",{className:s.setupGrid,children:[e.jsxs("div",{className:s.setupCard,children:[e.jsx("h3",{children:"Select Medication"}),e.jsx("select",{value:c,onChange:t=>{q(t.target.value),w(0)},className:s.select,children:Object.entries(N).map(([t,n])=>e.jsx("option",{value:t,children:n.name},t))}),e.jsxs("span",{className:s.drugCategory,children:[o.category," • ",o.frequency]})]}),e.jsxs("div",{className:s.setupCard,children:[e.jsx("h3",{children:"Select Protocol"}),e.jsx("select",{value:D,onChange:t=>w(parseInt(t.target.value)),className:s.select,children:o.protocols.map((t,n)=>e.jsx("option",{value:n,children:t.name},n))}),e.jsx("span",{className:s.protocolDesc,children:u.description})]}),e.jsxs("div",{className:s.setupCard,children:[e.jsx("h3",{children:"Schedule Settings"}),e.jsxs("div",{className:s.settingRow,children:[e.jsx("label",{children:"Start Date"}),e.jsx("input",{type:"date",value:p,onChange:t=>C(t.target.value),className:s.dateInput})]}),!o.frequency.includes("Daily")&&e.jsxs("div",{className:s.settingRow,children:[e.jsx("label",{children:"Injection Day"}),e.jsx("select",{value:v,onChange:t=>T(parseInt(t.target.value)),className:s.select,children:A.map(t=>e.jsx("option",{value:t.id,children:t.label},t.id))})]})]}),e.jsxs("div",{className:s.setupCard,children:[e.jsx("h3",{children:"Weight Tracking (Optional)"}),e.jsxs("div",{className:s.weightInputs,children:[e.jsxs("div",{children:[e.jsx("label",{children:"Current"}),e.jsx("input",{type:"number",placeholder:"lbs",value:l,onChange:t=>b(t.target.value)})]}),e.jsx(z,{size:20,className:s.arrow}),e.jsxs("div",{children:[e.jsx("label",{children:"Goal"}),e.jsx("input",{type:"number",placeholder:"lbs",value:m,onChange:t=>P(t.target.value)})]})]}),l&&m&&e.jsxs("span",{className:s.weightDiff,children:["Target loss: ",l-m," lbs (",Math.round((l-m)/l*100),"%)"]})]})]}),e.jsxs("div",{className:s.timeline,children:[e.jsx("h2",{children:"Your Titration Schedule"}),e.jsx("div",{className:s.steps,children:g.map((t,n)=>e.jsxs("div",{className:`${s.stepCard} ${x(t)?s.current:""} ${y(t)?s.past:""}`,children:[e.jsx("div",{className:s.stepIndicator,children:y(t)?e.jsx(M,{size:16}):x(t)?e.jsx("div",{className:s.currentDot}):e.jsx("span",{children:n+1})}),e.jsxs("div",{className:s.stepContent,children:[e.jsxs("div",{className:s.stepHeader,children:[e.jsxs("span",{className:s.stepDose,children:[t.dose," ",t.unit]}),e.jsxs("span",{className:s.stepWeek,children:["Week ",t.weekNumber,t.duration>0?`-${t.weekNumber+t.duration-1}`:"+"]})]}),e.jsxs("div",{className:s.stepDates,children:[e.jsx(R,{size:14}),h(t.startDate),t.endDate&&` → ${h(t.endDate)}`,!t.endDate&&" → Ongoing"]}),e.jsx("p",{className:s.stepNotes,children:t.notes}),x(t)&&e.jsxs("div",{className:s.currentBadge,children:[e.jsx(O,{size:14}),"Current Phase"]})]})]},n))})]}),e.jsxs("div",{className:s.infoBox,children:[e.jsx(H,{size:20}),e.jsxs("div",{children:[e.jsx("h4",{children:"Important Reminders"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Only increase dose if you're tolerating current dose well"}),e.jsx("li",{children:"Stay at current dose longer if experiencing significant side effects"}),e.jsx("li",{children:"Consult your healthcare provider before making changes"}),e.jsx("li",{children:"This planner is for reference only - follow your provider's guidance"})]})]})]})]})},Ge=()=>{const{user:_,isPremium:j,loading:c}=S();return c?e.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsx(F,{title:"Titration Planner | Dose Escalation Schedule",description:"Plan your semaglutide, tirzepatide, or peptide dose escalation. Visual timeline with reminders and export options.",keywords:"titration planner, semaglutide dosing, tirzepatide schedule, dose escalation"}),e.jsx(Ce,{isPremium:j})]})};export{Ge as default};
