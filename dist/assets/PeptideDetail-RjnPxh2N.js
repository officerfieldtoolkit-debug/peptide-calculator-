import{r as d,j as e,z as S,N as z,L as w}from"./vendor-DI-f5RPv.js";import{u as B,g as R,c as k,a as C}from"./index-BpoE9p-f.js";import{a1 as N,a3 as p,an as I,Y as L,p as D,I as W,i as A,A as T,y as E,O as P,B as H,a2 as M}from"./icons-BLrNscRK.js";import"./charts-iXWwyW24.js";const q=({peptideName:o})=>{const{user:c}=B(),[i,g]=d.useState([]),[s,t]=d.useState(!0),[a,n]=d.useState(0),[m,y]=d.useState(""),[h,f]=d.useState(!1),[j,v]=d.useState(0);d.useEffect(()=>{u()},[o]);const u=async()=>{t(!0);const r=await R(o);g(r),t(!1)},b=async r=>{if(r.preventDefault(),!c)return;if(a===0)return alert("Please select a rating");f(!0);const l=await k(o,a,m,c.id);g([l,...i]),n(0),y(""),f(!1)},x=i.length?(i.reduce((r,l)=>r+l.rating,0)/i.length).toFixed(1):0;return e.jsxs("div",{className:"card glass-panel",style:{padding:"2rem",marginTop:"2rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"2rem"},children:[e.jsxs("div",{children:[e.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx(N,{size:24,color:"var(--accent-primary)"}),"Community Reviews"]}),e.jsxs("p",{style:{color:"var(--text-secondary)",marginTop:"0.5rem"},children:["See what others are saying about ",o]})]}),i.length>0&&e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"700",color:"var(--text-primary)",lineHeight:1},children:x}),e.jsx("div",{style:{display:"flex",gap:"2px",justifyContent:"flex-end",margin:"0.25rem 0"},children:[1,2,3,4,5].map(r=>e.jsx(p,{size:16,fill:r<=Math.round(x)?"#fbbf24":"none",color:r<=Math.round(x)?"#fbbf24":"#4b5563"},r))}),e.jsxs("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:[i.length," ",i.length===1?"rating":"ratings"]})]})]}),c?e.jsxs("form",{onSubmit:b,style:{background:"rgba(15, 23, 42, 0.3)",padding:"1.5rem",borderRadius:"12px",marginBottom:"2rem",border:"1px solid var(--glass-border)"},children:[e.jsx("h3",{style:{fontSize:"1rem",marginBottom:"1rem"},children:"Leave a Review"}),e.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[1,2,3,4,5].map(r=>e.jsx("button",{type:"button",onClick:()=>n(r),onMouseEnter:()=>v(r),onMouseLeave:()=>v(0),style:{background:"none",border:"none",cursor:"pointer",padding:0,transition:"transform 0.1s"},children:e.jsx(p,{size:24,fill:(j||a)>=r?"#fbbf24":"none",color:(j||a)>=r?"#fbbf24":"#4b5563"})},r))}),e.jsx("textarea",{value:m,onChange:r=>y(r.target.value),placeholder:"Share your experience...",style:{width:"100%",minHeight:"100px",padding:"1rem",background:"rgba(15, 23, 42, 0.5)",border:"1px solid var(--glass-border)",borderRadius:"8px",color:"var(--text-primary)",marginBottom:"1rem",resize:"vertical"}}),e.jsxs("button",{type:"submit",className:"btn-primary",disabled:h||a===0,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[h?"Posting...":"Post Review"," ",e.jsx(I,{size:16})]})]}):e.jsx("div",{style:{padding:"1.5rem",textAlign:"center",background:"rgba(59, 130, 246, 0.1)",borderRadius:"12px",marginBottom:"2rem",border:"1px solid rgba(59, 130, 246, 0.2)"},children:e.jsxs("p",{children:["Please ",e.jsx("a",{href:"/login",style:{color:"var(--accent-primary)",fontWeight:"600"},children:"log in"})," to leave a review."]})}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:s?e.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center"},children:"Loading reviews..."}):i.length===0?e.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",fontStyle:"italic"},children:"No reviews yet. Be the first to share your experience!"}):i.map(r=>e.jsxs("div",{style:{paddingBottom:"1.5rem",borderBottom:"1px solid var(--glass-border)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"var(--glass-surface)",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid var(--glass-border)"},children:e.jsx(L,{size:16,color:"var(--text-secondary)"})}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"0.9rem"},children:r.user_name||"Anonymous"}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:new Date(r.created_at).toLocaleDateString()})]})]}),e.jsx("div",{style:{display:"flex",gap:"2px"},children:[1,2,3,4,5].map(l=>e.jsx(p,{size:14,fill:l<=r.rating?"#fbbf24":"none",color:l<=r.rating?"#fbbf24":"#4b5563"},l))})]}),e.jsx("p",{style:{color:"var(--text-secondary)",lineHeight:"1.5"},children:r.comment})]},r.id))})]})},X=()=>{const{name:o}=S(),{getPeptideByName:c,loading:i}=C(),g=decodeURIComponent(o),s=c(g);return i?e.jsx("div",{className:"page-container",style:{display:"flex",justifyContent:"center",paddingTop:"4rem"},children:e.jsx(D,{className:"spinning",size:48,color:"var(--accent-primary)"})}):s?e.jsxs("div",{className:"page-container",children:[e.jsxs(w,{to:"/encyclopedia",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"var(--text-secondary)",textDecoration:"none",marginBottom:"2rem"},children:[e.jsx(W,{size:20})," Back to Encyclopedia"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem",marginBottom:"2rem"},children:[e.jsx("div",{className:"card glass-panel",style:{padding:"2rem",gridColumn:"1 / -1"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",flexWrap:"wrap",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{color:"var(--accent-primary)",fontSize:"0.875rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em"},children:s.category}),e.jsx("h1",{style:{fontSize:"2.5rem",margin:"0.5rem 0 1rem 0"},children:s.name}),e.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"1.125rem",maxWidth:"800px",lineHeight:"1.6"},children:s.description})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[e.jsxs("div",{style:{padding:"1rem",background:"rgba(15, 23, 42, 0.5)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--text-secondary)",marginBottom:"0.25rem",fontSize:"0.875rem"},children:[e.jsx(A,{size:16})," Half-Life"]}),e.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)"},children:s.halfLife})]}),e.jsxs("div",{style:{padding:"1rem",background:"rgba(15, 23, 42, 0.5)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--text-secondary)",marginBottom:"0.25rem",fontSize:"0.875rem"},children:[e.jsx(T,{size:16})," Common Dosage"]}),e.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)"},children:s.commonDosage})]})]})]})}),e.jsxs("div",{className:"card glass-panel",style:{padding:"2rem"},children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[e.jsx(E,{className:"text-accent",size:24})," Benefits"]}),e.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:"0.75rem"},children:s.benefits&&s.benefits.map((t,a)=>e.jsxs("li",{style:{display:"flex",gap:"0.75rem",alignItems:"start",color:"var(--text-secondary)"},children:[e.jsx("span",{style:{color:"#10b981",marginTop:"0.25rem"},children:"âœ“"}),t]},a))})]}),e.jsxs("div",{className:"card glass-panel",style:{padding:"2rem"},children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[e.jsx(P,{className:"text-accent",size:24})," Side Effects & Warnings"]}),e.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:"0.75rem"},children:s.sideEffects&&s.sideEffects.map((t,a)=>e.jsxs("li",{style:{display:"flex",gap:"0.75rem",alignItems:"start",color:"var(--text-secondary)"},children:[e.jsx("span",{style:{color:"#f59e0b",marginTop:"0.25rem"},children:"!"}),t]},a))}),s.warnings&&s.warnings.length>0&&e.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"var(--radius-md)",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[e.jsx("strong",{style:{color:"#ef4444",display:"block",marginBottom:"0.5rem"},children:"Important Warnings:"}),e.jsx("ul",{style:{paddingLeft:"1.25rem",margin:0,color:"var(--text-secondary)",fontSize:"0.875rem"},children:s.warnings.map((t,a)=>e.jsx("li",{children:t},a))})]})]}),s.protocols&&s.protocols.length>0&&e.jsxs("div",{className:"card glass-panel",style:{padding:"2rem",gridColumn:"1 / -1"},children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[e.jsx(H,{className:"text-accent",size:24})," Dosage Protocols"]}),e.jsx("div",{style:{display:"grid",gap:"1.5rem"},children:s.protocols.map((t,a)=>e.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.5)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)",overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"1rem 1.5rem",borderBottom:"1px solid var(--glass-border)",background:"rgba(255, 255, 255, 0.02)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.25rem"},children:[e.jsx("h4",{style:{margin:0,fontSize:"1.125rem"},children:t.name}),e.jsx("span",{style:{fontSize:"0.75rem",padding:"0.25rem 0.75rem",borderRadius:"999px",background:"var(--accent-primary)",color:"white"},children:t.level})]}),e.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"var(--text-secondary)"},children:t.description})]}),e.jsxs("div",{style:{padding:"1.5rem"},children:[t.schedule&&e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"1px solid var(--glass-border)",textAlign:"left"},children:[e.jsx("th",{style:{padding:"0.75rem",color:"var(--text-secondary)"},children:"Week"}),e.jsx("th",{style:{padding:"0.75rem",color:"var(--text-secondary)"},children:"Dose"}),e.jsx("th",{style:{padding:"0.75rem",color:"var(--text-secondary)"},children:"Frequency"}),e.jsx("th",{style:{padding:"0.75rem",color:"var(--text-secondary)"},children:"Notes"})]})}),e.jsx("tbody",{children:t.schedule.map((n,m)=>e.jsxs("tr",{style:{borderBottom:m<t.schedule.length-1?"1px solid var(--glass-border)":"none"},children:[e.jsx("td",{style:{padding:"0.75rem",fontWeight:"500"},children:n.week}),e.jsx("td",{style:{padding:"0.75rem"},children:n.dose}),e.jsx("td",{style:{padding:"0.75rem"},children:n.frequency}),e.jsx("td",{style:{padding:"0.75rem",color:"var(--text-secondary)"},children:n.notes})]},m))})]})}),t.notes&&e.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(59, 130, 246, 0.1)",borderRadius:"0.5rem",fontSize:"0.875rem",color:"#93c5fd"},children:[e.jsx("strong",{children:"Note:"})," ",t.notes]})]})]},a))})]}),s.researchLinks&&s.researchLinks.length>0&&e.jsxs("div",{className:"card glass-panel",style:{padding:"2rem",gridColumn:"1 / -1"},children:[e.jsx("h3",{style:{marginBottom:"1rem"},children:"Research & Clinical Studies"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:s.researchLinks.map((t,a)=>e.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--accent-primary)",textDecoration:"none"},children:[e.jsx(M,{size:16}),t]},a))})]}),e.jsx("div",{style:{gridColumn:"1 / -1"},children:e.jsx(q,{peptideName:s.name})})]})]}):e.jsx(z,{to:"/encyclopedia",replace:!0})};export{X as default};
